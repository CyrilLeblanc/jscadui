{
  "version": 3,
  "sources": ["../../../node_modules/two.js/build/two.module.js", "../src/zui.js", "../src/ZoomPanRotate.js", "../main.js"],
  "sourcesContent": ["/*\nMIT License\n\nCopyright (c) 2012 - 2025 @jonobr1 / http://jono.fyi\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n// src/utils/canvas-polyfill.js\nvar CanvasPolyfill = {\n  Image: null,\n  isHeadless: false,\n  shim: function(elem, name) {\n    elem.tagName = elem.nodeName = name || \"canvas\";\n    elem.nodeType = 1;\n    elem.getAttribute = function(prop) {\n      return this[prop];\n    };\n    elem.setAttribute = function(prop, val) {\n      this[prop] = val;\n      return this;\n    };\n    return elem;\n  },\n  polyfill: function(canvas3, Image) {\n    CanvasPolyfill.shim(canvas3);\n    if (typeof Image !== \"undefined\") {\n      CanvasPolyfill.Image = Image;\n    }\n    CanvasPolyfill.isHeadless = true;\n    return canvas3;\n  }\n};\n\n// src/utils/curves.js\nvar curves_exports = {};\n__export(curves_exports, {\n  Curve: () => Curve,\n  getAnchorsFromArcData: () => getAnchorsFromArcData,\n  getComponentOnCubicBezier: () => getComponentOnCubicBezier,\n  getControlPoints: () => getControlPoints,\n  getCurveBoundingBox: () => getCurveBoundingBox,\n  getCurveFromPoints: () => getCurveFromPoints,\n  getCurveLength: () => getCurveLength,\n  getReflection: () => getReflection,\n  integrate: () => integrate,\n  subdivide: () => subdivide\n});\n\n// src/utils/math.js\nvar math_exports = {};\n__export(math_exports, {\n  HALF_PI: () => HALF_PI,\n  NumArray: () => NumArray,\n  TWO_PI: () => TWO_PI,\n  decomposeMatrix: () => decomposeMatrix,\n  getComputedMatrix: () => getComputedMatrix,\n  getPoT: () => getPoT,\n  lerp: () => lerp,\n  mod: () => mod,\n  setMatrix: () => setMatrix,\n  toFixed: () => toFixed\n});\n\n// src/utils/root.js\nvar root;\nif (typeof window !== \"undefined\") {\n  root = window;\n} else if (typeof global !== \"undefined\") {\n  root = global;\n} else if (typeof self !== \"undefined\") {\n  root = self;\n}\n\n// src/utils/math.js\nvar Matrix;\nvar TWO_PI = Math.PI * 2;\nvar HALF_PI = Math.PI * 0.5;\nfunction decomposeMatrix(matrix, b, c, d, e, f) {\n  let a;\n  if (arguments.length <= 1) {\n    a = matrix.a;\n    b = matrix.b;\n    c = matrix.c;\n    d = matrix.d;\n    e = matrix.e;\n    f = matrix.f;\n  } else {\n    a = matrix;\n  }\n  return {\n    translateX: e,\n    translateY: f,\n    scaleX: Math.sqrt(a * a + b * b),\n    scaleY: Math.sqrt(c * c + d * d),\n    rotation: 180 * Math.atan2(b, a) / Math.PI\n  };\n}\nfunction setMatrix(matrix) {\n  Matrix = matrix;\n}\nfunction getComputedMatrix(object, matrix) {\n  matrix = matrix && matrix.identity() || new Matrix();\n  let parent = object;\n  const matrices = [];\n  while (parent && parent._matrix) {\n    matrices.push(parent._matrix);\n    parent = parent.parent;\n  }\n  matrices.reverse();\n  for (let i = 0; i < matrices.length; i++) {\n    const m = matrices[i];\n    const e = m.elements;\n    matrix.multiply(\n      e[0],\n      e[1],\n      e[2],\n      e[3],\n      e[4],\n      e[5],\n      e[6],\n      e[7],\n      e[8],\n      e[9]\n    );\n  }\n  return matrix;\n}\nfunction lerp(a, b, t) {\n  return t * (b - a) + a;\n}\nvar pots = [2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096];\nfunction getPoT(value) {\n  let i = 0;\n  while (pots[i] && pots[i] < value) {\n    i++;\n  }\n  return pots[i];\n}\nfunction mod(v, l) {\n  while (v < 0) {\n    v += l;\n  }\n  return v % l;\n}\nvar NumArray = root.Float32Array || Array;\nvar floor = Math.floor;\nfunction toFixed(v) {\n  return floor(v * 1e6) / 1e6;\n}\n\n// src/utils/path-commands.js\nvar Commands = {\n  move: \"M\",\n  line: \"L\",\n  curve: \"C\",\n  arc: \"A\",\n  close: \"Z\"\n};\n\n// src/events.js\nvar Events = class {\n  constructor() {\n    __publicField(this, \"_events\", {});\n    __publicField(this, \"_bound\", false);\n  }\n  addEventListener(name, handler) {\n    const list = this._events[name] || (this._events[name] = []);\n    list.push(handler);\n    this._bound = true;\n    return this;\n  }\n  on() {\n    return this.addEventListener.apply(this, arguments);\n  }\n  bind() {\n    return this.addEventListener.apply(this, arguments);\n  }\n  removeEventListener(name, handler) {\n    if (!this._events) {\n      return this;\n    }\n    if (!name && !handler) {\n      this._events = {};\n      this._bound = false;\n      return this;\n    }\n    const names = name ? [name] : Object.keys(this._events);\n    for (let i = 0, l = names.length; i < l; i++) {\n      name = names[i];\n      let list = this._events[name];\n      if (list) {\n        let events = [];\n        if (handler) {\n          for (let j = 0, k = list.length; j < k; j++) {\n            let e = list[j];\n            e = e.handler ? e.handler : e;\n            if (handler !== e) {\n              events.push(e);\n            }\n          }\n        }\n        this._events[name] = events;\n      }\n    }\n    return this;\n  }\n  off() {\n    return this.removeEventListener.apply(this, arguments);\n  }\n  unbind() {\n    return this.removeEventListener.apply(this, arguments);\n  }\n  dispatchEvent(name) {\n    if (!this._events) {\n      return this;\n    }\n    const args = Array.prototype.slice.call(arguments, 1);\n    const events = this._events[name];\n    if (events) {\n      for (let i = 0; i < events.length; i++) {\n        events[i].call(this, ...args);\n      }\n    }\n    return this;\n  }\n  trigger() {\n    return this.dispatchEvent.apply(this, arguments);\n  }\n  listen(obj, name, handler) {\n    const scope = this;\n    if (obj) {\n      e.obj = obj;\n      e.name = name;\n      e.handler = handler;\n      obj.on(name, e);\n    }\n    function e() {\n      handler.apply(scope, arguments);\n    }\n    return scope;\n  }\n  ignore(obj, name, handler) {\n    obj.off(name, handler);\n    return this;\n  }\n};\n__publicField(Events, \"Types\", {\n  play: \"play\",\n  pause: \"pause\",\n  update: \"update\",\n  render: \"render\",\n  resize: \"resize\",\n  change: \"change\",\n  remove: \"remove\",\n  insert: \"insert\",\n  order: \"order\",\n  load: \"load\"\n});\n__publicField(Events, \"Methods\", [\n  \"addEventListener\",\n  \"on\",\n  \"removeEventListener\",\n  \"off\",\n  \"unbind\",\n  \"dispatchEvent\",\n  \"trigger\",\n  \"listen\",\n  \"ignore\"\n]);\n\n// src/vector.js\nvar proto = {\n  x: {\n    enumerable: true,\n    get: function() {\n      return this._x;\n    },\n    set: function(v) {\n      if (this._x !== v) {\n        this._x = v;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  },\n  y: {\n    enumerable: true,\n    get: function() {\n      return this._y;\n    },\n    set: function(v) {\n      if (this._y !== v) {\n        this._y = v;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  }\n};\nvar _Vector = class extends Events {\n  constructor(x = 0, y = 0) {\n    super();\n    __publicField(this, \"_x\", 0);\n    __publicField(this, \"_y\", 0);\n    for (let prop in proto) {\n      Object.defineProperty(this, prop, proto[prop]);\n    }\n    this.x = x;\n    this.y = y;\n  }\n  static add(v1, v2) {\n    return new _Vector(v1.x + v2.x, v1.y + v2.y);\n  }\n  static sub(v1, v2) {\n    return new _Vector(v1.x - v2.x, v1.y - v2.y);\n  }\n  static subtract(v1, v2) {\n    return _Vector.sub(v1, v2);\n  }\n  static ratioBetween(v1, v2) {\n    return (v1.x * v2.x + v1.y * v2.y) / (v1.length() * v2.length());\n  }\n  static angleBetween(v1, v2) {\n    if (arguments.length >= 4) {\n      const dx2 = arguments[0] - arguments[2];\n      const dy2 = arguments[1] - arguments[3];\n      return Math.atan2(dy2, dx2);\n    }\n    const dx = v1.x - v2.x;\n    const dy = v1.y - v2.y;\n    return Math.atan2(dy, dx);\n  }\n  static distanceBetween(v1, v2) {\n    return Math.sqrt(_Vector.distanceBetweenSquared(v1, v2));\n  }\n  static distanceBetweenSquared(v1, v2) {\n    const dx = v1.x - v2.x;\n    const dy = v1.y - v2.y;\n    return dx * dx + dy * dy;\n  }\n  set(x, y) {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n  copy(v) {\n    this.x = v.x;\n    this.y = v.y;\n    return this;\n  }\n  clear() {\n    this.x = 0;\n    this.y = 0;\n    return this;\n  }\n  clone() {\n    return new _Vector(this.x, this.y);\n  }\n  add(x, y) {\n    if (arguments.length <= 0) {\n      return this;\n    } else if (arguments.length <= 1) {\n      if (typeof x === \"number\") {\n        this.x += x;\n        this.y += x;\n      } else if (x && typeof x.x === \"number\" && typeof x.y === \"number\") {\n        this.x += x.x;\n        this.y += x.y;\n      }\n    } else {\n      this.x += x;\n      this.y += y;\n    }\n    return this;\n  }\n  addSelf(v) {\n    return this.add.apply(this, arguments);\n  }\n  sub(x, y) {\n    if (arguments.length <= 0) {\n      return this;\n    } else if (arguments.length <= 1) {\n      if (typeof x === \"number\") {\n        this.x -= x;\n        this.y -= x;\n      } else if (x && typeof x.x === \"number\" && typeof x.y === \"number\") {\n        this.x -= x.x;\n        this.y -= x.y;\n      }\n    } else {\n      this.x -= x;\n      this.y -= y;\n    }\n    return this;\n  }\n  subtract() {\n    return this.sub.apply(this, arguments);\n  }\n  subSelf(v) {\n    return this.sub.apply(this, arguments);\n  }\n  subtractSelf(v) {\n    return this.sub.apply(this, arguments);\n  }\n  multiply(x, y) {\n    if (arguments.length <= 0) {\n      return this;\n    } else if (arguments.length <= 1) {\n      if (typeof x === \"number\") {\n        this.x *= x;\n        this.y *= x;\n      } else if (x && typeof x.x === \"number\" && typeof x.y === \"number\") {\n        this.x *= x.x;\n        this.y *= x.y;\n      }\n    } else {\n      this.x *= x;\n      this.y *= y;\n    }\n    return this;\n  }\n  multiplySelf(v) {\n    return this.multiply.apply(this, arguments);\n  }\n  multiplyScalar(s) {\n    return this.multiply(s);\n  }\n  divide(x, y) {\n    if (arguments.length <= 0) {\n      return this;\n    } else if (arguments.length <= 1) {\n      if (typeof x === \"number\") {\n        this.x /= x;\n        this.y /= x;\n      } else if (x && typeof x.x === \"number\" && typeof x.y === \"number\") {\n        this.x /= x.x;\n        this.y /= x.y;\n      }\n    } else {\n      this.x /= x;\n      this.y /= y;\n    }\n    if (isNaN(this.x)) {\n      this.x = 0;\n    }\n    if (isNaN(this.y)) {\n      this.y = 0;\n    }\n    return this;\n  }\n  divideSelf(v) {\n    return this.divide.apply(this, arguments);\n  }\n  divideScalar(s) {\n    return this.divide(s);\n  }\n  negate() {\n    return this.multiply(-1);\n  }\n  dot(v) {\n    return this.x * v.x + this.y * v.y;\n  }\n  length() {\n    return Math.sqrt(this.lengthSquared());\n  }\n  lengthSquared() {\n    return this.x * this.x + this.y * this.y;\n  }\n  normalize() {\n    return this.divideScalar(this.length());\n  }\n  distanceTo(v) {\n    return Math.sqrt(this.distanceToSquared(v));\n  }\n  distanceToSquared(v) {\n    const dx = this.x - v.x;\n    const dy = this.y - v.y;\n    return dx * dx + dy * dy;\n  }\n  setLength(l) {\n    return this.normalize().multiplyScalar(l);\n  }\n  equals(v, eps) {\n    eps = typeof eps === \"undefined\" ? 1e-4 : eps;\n    return this.distanceTo(v) < eps;\n  }\n  lerp(v, t) {\n    const x = (v.x - this.x) * t + this.x;\n    const y = (v.y - this.y) * t + this.y;\n    return this.set(x, y);\n  }\n  isZero(eps) {\n    eps = typeof eps === \"undefined\" ? 1e-4 : eps;\n    return this.length() < eps;\n  }\n  toString() {\n    return this.x + \", \" + this.y;\n  }\n  toObject() {\n    return { x: toFixed(this.x), y: toFixed(this.y) };\n  }\n  rotate(radians) {\n    const x = this.x;\n    const y = this.y;\n    const cos7 = Math.cos(radians);\n    const sin7 = Math.sin(radians);\n    this.x = x * cos7 - y * sin7;\n    this.y = x * sin7 + y * cos7;\n    return this;\n  }\n};\nvar Vector = _Vector;\n__publicField(Vector, \"zero\", new _Vector());\n__publicField(Vector, \"left\", new _Vector(-1, 0));\n__publicField(Vector, \"right\", new _Vector(1, 0));\n__publicField(Vector, \"up\", new _Vector(0, -1));\n__publicField(Vector, \"down\", new _Vector(0, 1));\n\n// src/anchor.js\nvar Anchor = class extends Vector {\n  constructor(x = 0, y = 0, ax = 0, ay = 0, bx = 0, by = 0, command = Commands.move) {\n    super(x, y);\n    __publicField(this, \"controls\", {\n      left: new Vector(),\n      right: new Vector()\n    });\n    __publicField(this, \"_command\", Commands.move);\n    __publicField(this, \"_relative\", true);\n    __publicField(this, \"_rx\", 0);\n    __publicField(this, \"_ry\", 0);\n    __publicField(this, \"_xAxisRotation\", 0);\n    __publicField(this, \"_largeArcFlag\", 0);\n    __publicField(this, \"_sweepFlag\", 1);\n    for (let prop in proto2) {\n      Object.defineProperty(this, prop, proto2[prop]);\n    }\n    this.command = command;\n    this.relative = true;\n    const broadcast = Anchor.makeBroadcast(this);\n    this.controls.left.set(ax, ay).addEventListener(Events.Types.change, broadcast);\n    this.controls.right.set(bx, by).addEventListener(Events.Types.change, broadcast);\n  }\n  static makeBroadcast(scope) {\n    return broadcast;\n    function broadcast() {\n      if (scope._bound) {\n        scope.dispatchEvent(Events.Types.change);\n      }\n    }\n  }\n  static fromObject(obj) {\n    return new Anchor().copy(obj);\n  }\n  copy(v) {\n    this.x = v.x;\n    this.y = v.y;\n    if (typeof v.command === \"string\") {\n      this.command = v.command;\n    }\n    if (v.controls) {\n      if (v.controls.left) {\n        this.controls.left.copy(v.controls.left);\n      }\n      if (v.controls.right) {\n        this.controls.right.copy(v.controls.right);\n      }\n    }\n    if (typeof v.relative === \"boolean\") {\n      this.relative = v.relative;\n    }\n    if (typeof v.rx === \"number\") {\n      this.rx = v.rx;\n    }\n    if (typeof v.ry === \"number\") {\n      this.ry = v.ry;\n    }\n    if (typeof v.xAxisRotation === \"number\") {\n      this.xAxisRotation = v.xAxisRotation;\n    }\n    if (typeof v.largeArcFlag === \"number\") {\n      this.largeArcFlag = v.largeArcFlag;\n    }\n    if (typeof v.sweepFlag === \"number\") {\n      this.sweepFlag = v.sweepFlag;\n    }\n    return this;\n  }\n  clone() {\n    return new Anchor().copy(this);\n  }\n  toObject() {\n    return {\n      x: toFixed(this.x),\n      y: toFixed(this.y),\n      command: this.command,\n      relative: this.relative,\n      controls: {\n        left: this.controls.left.toObject(),\n        right: this.controls.right.toObject()\n      },\n      rx: toFixed(this.rx),\n      ry: toFixed(this.ry),\n      xAxisRotation: toFixed(this.xAxisRotation),\n      largeArcFlag: toFixed(this.largeArcFlag),\n      sweepFlag: toFixed(this.sweepFlag)\n    };\n  }\n  toString() {\n    return JSON.stringify(this.toObject());\n  }\n};\nvar proto2 = {\n  command: {\n    enumerable: true,\n    get: function() {\n      return this._command;\n    },\n    set: function(command) {\n      if (this._command !== command) {\n        this._command = command;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  },\n  relative: {\n    enumerable: true,\n    get: function() {\n      return this._relative;\n    },\n    set: function(relative) {\n      if (this._relative !== !!relative) {\n        this._relative = !!relative;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  },\n  rx: {\n    enumerable: true,\n    get: function() {\n      return this._rx;\n    },\n    set: function(rx) {\n      if (this._rx !== rx) {\n        this._rx = rx;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  },\n  ry: {\n    enumerable: true,\n    get: function() {\n      return this._ry;\n    },\n    set: function(ry) {\n      if (this._ry !== ry) {\n        this._ry = ry;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  },\n  xAxisRotation: {\n    enumerable: true,\n    get: function() {\n      return this._xAxisRotation;\n    },\n    set: function(xAxisRotation) {\n      if (this._xAxisRotation !== xAxisRotation) {\n        this._xAxisRotation = xAxisRotation;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  },\n  largeArcFlag: {\n    enumerable: true,\n    get: function() {\n      return this._largeArcFlag;\n    },\n    set: function(largeArcFlag) {\n      if (this._largeArcFlag !== largeArcFlag) {\n        this._largeArcFlag = largeArcFlag;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  },\n  sweepFlag: {\n    get: function() {\n      return this._sweepFlag;\n    },\n    set: function(sweepFlag) {\n      if (this._sweepFlag !== sweepFlag) {\n        this._sweepFlag = sweepFlag;\n        if (this._bound) {\n          this.dispatchEvent(Events.Types.change);\n        }\n      }\n    }\n  }\n};\n\n// src/constants.js\nvar count = 0;\nvar Constants = {\n  NextFrameId: null,\n  Types: {\n    webgl: \"WebGLRenderer\",\n    svg: \"SVGRenderer\",\n    canvas: \"CanvasRenderer\"\n  },\n  Version: \"v0.8.18\",\n  PublishDate: \"2025-04-07T22:33:48.746Z\",\n  Identifier: \"two-\",\n  Resolution: 12,\n  AutoCalculateImportedMatrices: true,\n  Instances: [],\n  uniqueId: function() {\n    return count++;\n  }\n};\n\n// src/utils/curves.js\nvar Curve = {\n  CollinearityEpsilon: Math.pow(10, -30),\n  RecursionLimit: 16,\n  CuspLimit: 0,\n  Tolerance: {\n    distance: 0.25,\n    angle: 0,\n    epsilon: Number.EPSILON\n  },\n  abscissas: [\n    [0.5773502691896257],\n    [0, 0.7745966692414834],\n    [0.33998104358485626, 0.8611363115940526],\n    [0, 0.5384693101056831, 0.906179845938664],\n    [\n      0.2386191860831969,\n      0.6612093864662645,\n      0.932469514203152\n    ],\n    [\n      0,\n      0.4058451513773972,\n      0.7415311855993945,\n      0.9491079123427585\n    ],\n    [\n      0.1834346424956498,\n      0.525532409916329,\n      0.7966664774136267,\n      0.9602898564975363\n    ],\n    [\n      0,\n      0.3242534234038089,\n      0.6133714327005904,\n      0.8360311073266358,\n      0.9681602395076261\n    ],\n    [\n      0.14887433898163122,\n      0.4333953941292472,\n      0.6794095682990244,\n      0.8650633666889845,\n      0.9739065285171717\n    ],\n    [\n      0,\n      0.26954315595234496,\n      0.5190961292068118,\n      0.7301520055740494,\n      0.8870625997680953,\n      0.978228658146057\n    ],\n    [\n      0.1252334085114689,\n      0.3678314989981802,\n      0.5873179542866175,\n      0.7699026741943047,\n      0.9041172563704749,\n      0.9815606342467192\n    ],\n    [\n      0,\n      0.2304583159551348,\n      0.44849275103644687,\n      0.6423493394403402,\n      0.8015780907333099,\n      0.9175983992229779,\n      0.9841830547185881\n    ],\n    [\n      0.10805494870734367,\n      0.31911236892788974,\n      0.5152486363581541,\n      0.6872929048116855,\n      0.827201315069765,\n      0.9284348836635735,\n      0.9862838086968123\n    ],\n    [\n      0,\n      0.20119409399743451,\n      0.3941513470775634,\n      0.5709721726085388,\n      0.7244177313601701,\n      0.8482065834104272,\n      0.937273392400706,\n      0.9879925180204854\n    ],\n    [\n      0.09501250983763744,\n      0.2816035507792589,\n      0.45801677765722737,\n      0.6178762444026438,\n      0.755404408355003,\n      0.8656312023878318,\n      0.9445750230732326,\n      0.9894009349916499\n    ]\n  ],\n  weights: [\n    [1],\n    [0.8888888888888888, 0.5555555555555556],\n    [0.6521451548625461, 0.34785484513745385],\n    [\n      0.5688888888888889,\n      0.47862867049936647,\n      0.23692688505618908\n    ],\n    [\n      0.46791393457269104,\n      0.3607615730481386,\n      0.17132449237917036\n    ],\n    [\n      0.4179591836734694,\n      0.3818300505051189,\n      0.27970539148927664,\n      0.1294849661688697\n    ],\n    [\n      0.362683783378362,\n      0.31370664587788727,\n      0.22238103445337448,\n      0.10122853629037626\n    ],\n    [\n      0.3302393550012598,\n      0.31234707704000286,\n      0.26061069640293544,\n      0.1806481606948574,\n      0.08127438836157441\n    ],\n    [\n      0.29552422471475287,\n      0.26926671930999635,\n      0.21908636251598204,\n      0.1494513491505806,\n      0.06667134430868814\n    ],\n    [\n      0.2729250867779006,\n      0.26280454451024665,\n      0.23319376459199048,\n      0.18629021092773426,\n      0.1255803694649046,\n      0.05566856711617366\n    ],\n    [\n      0.24914704581340277,\n      0.2334925365383548,\n      0.20316742672306592,\n      0.16007832854334622,\n      0.10693932599531843,\n      0.04717533638651183\n    ],\n    [\n      0.2325515532308739,\n      0.22628318026289723,\n      0.2078160475368885,\n      0.17814598076194574,\n      0.13887351021978725,\n      0.09212149983772845,\n      0.04048400476531588\n    ],\n    [\n      0.2152638534631578,\n      0.2051984637212956,\n      0.18553839747793782,\n      0.15720316715819355,\n      0.12151857068790319,\n      0.08015808715976021,\n      0.03511946033175186\n    ],\n    [\n      0.2025782419255613,\n      0.19843148532711158,\n      0.1861610000155622,\n      0.16626920581699392,\n      0.13957067792615432,\n      0.10715922046717194,\n      0.07036604748810812,\n      0.03075324199611727\n    ],\n    [\n      0.1894506104550685,\n      0.18260341504492358,\n      0.16915651939500254,\n      0.14959598881657674,\n      0.12462897125553388,\n      0.09515851168249279,\n      0.062253523938647894,\n      0.027152459411754096\n    ]\n  ]\n};\nfunction getComponentOnCubicBezier(t, a, b, c, d) {\n  const k = 1 - t;\n  return k * k * k * a + 3 * k * k * t * b + 3 * k * t * t * c + t * t * t * d;\n}\nfunction subdivide(x1, y1, x2, y2, x3, y3, x4, y4, limit) {\n  limit = limit || Curve.RecursionLimit;\n  const amount = limit + 1;\n  if (Math.abs(x1 - x4) < 1e-3 && Math.abs(y1 - y4) < 1e-3) {\n    return [new Anchor(x4, y4)];\n  }\n  const result = [];\n  for (let i = 0; i < amount; i++) {\n    const t = i / amount;\n    const x = getComponentOnCubicBezier(t, x1, x2, x3, x4);\n    const y = getComponentOnCubicBezier(t, y1, y2, y3, y4);\n    result.push(new Anchor(x, y));\n  }\n  return result;\n}\nfunction getCurveLength(x1, y1, x2, y2, x3, y3, x4, y4, limit) {\n  if (x1 === x2 && y1 === y2 && x3 === x4 && y3 === y4) {\n    const dx = x4 - x1;\n    const dy = y4 - y1;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n  const ax = 9 * (x2 - x3) + 3 * (x4 - x1), bx = 6 * (x1 + x3) - 12 * x2, cx = 3 * (x2 - x1), ay = 9 * (y2 - y3) + 3 * (y4 - y1), by = 6 * (y1 + y3) - 12 * y2, cy = 3 * (y2 - y1);\n  function integrand(t) {\n    const dx = (ax * t + bx) * t + cx, dy = (ay * t + by) * t + cy;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n  return integrate(integrand, 0, 1, limit || Curve.RecursionLimit);\n}\nfunction getCurveBoundingBox(x1, y1, x2, y2, x3, y3, x4, y4) {\n  const tvalues = [];\n  const bounds = [[], []];\n  let a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n  for (let i = 0; i < 2; ++i) {\n    if (i == 0) {\n      b = 6 * x1 - 12 * x2 + 6 * x3;\n      a = -3 * x1 + 9 * x2 - 9 * x3 + 3 * x4;\n      c = 3 * x2 - 3 * x1;\n    } else {\n      b = 6 * y1 - 12 * y2 + 6 * y3;\n      a = -3 * y1 + 9 * y2 - 9 * y3 + 3 * y4;\n      c = 3 * y2 - 3 * y1;\n    }\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) < 1e-12) {\n        continue;\n      }\n      t = -c / b;\n      if (0 < t && t < 1) {\n        tvalues.push(t);\n      }\n      continue;\n    }\n    b2ac = b * b - 4 * c * a;\n    sqrtb2ac = Math.sqrt(b2ac);\n    if (b2ac < 0) {\n      continue;\n    }\n    t1 = (-b + sqrtb2ac) / (2 * a);\n    if (0 < t1 && t1 < 1) {\n      tvalues.push(t1);\n    }\n    t2 = (-b - sqrtb2ac) / (2 * a);\n    if (0 < t2 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n  let j = tvalues.length;\n  let jlen = j;\n  let mt;\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = mt * mt * mt * x1 + 3 * mt * mt * t * x2 + 3 * mt * t * t * x3 + t * t * t * x4;\n    bounds[1][j] = mt * mt * mt * y1 + 3 * mt * mt * t * y2 + 3 * mt * t * t * y3 + t * t * t * y4;\n  }\n  bounds[0][jlen] = x1;\n  bounds[1][jlen] = y1;\n  bounds[0][jlen + 1] = x4;\n  bounds[1][jlen + 1] = y4;\n  bounds[0].length = bounds[1].length = jlen + 2;\n  return {\n    min: { x: Math.min.apply(0, bounds[0]), y: Math.min.apply(0, bounds[1]) },\n    max: { x: Math.max.apply(0, bounds[0]), y: Math.max.apply(0, bounds[1]) }\n  };\n}\nfunction integrate(f, a, b, n) {\n  let x = Curve.abscissas[n - 2], w = Curve.weights[n - 2], A = 0.5 * (b - a), B = A + a, i = 0, m = n + 1 >> 1, sum = n & 1 ? w[i++] * f(B) : 0;\n  while (i < m) {\n    const Ax = A * x[i];\n    sum += w[i++] * (f(B + Ax) + f(B - Ax));\n  }\n  return A * sum;\n}\nfunction getCurveFromPoints(points, closed2) {\n  const l = points.length, last = l - 1;\n  for (let i = 0; i < l; i++) {\n    const point = points[i];\n    const prev = closed2 ? mod(i - 1, l) : Math.max(i - 1, 0);\n    const next = closed2 ? mod(i + 1, l) : Math.min(i + 1, last);\n    const a = points[prev];\n    const b = point;\n    const c = points[next];\n    getControlPoints(a, b, c);\n    b.command = i === 0 ? Commands.move : Commands.curve;\n  }\n}\nfunction getControlPoints(a, b, c) {\n  const a1 = Vector.angleBetween(a, b);\n  const a2 = Vector.angleBetween(c, b);\n  let d1 = Vector.distanceBetween(a, b);\n  let d2 = Vector.distanceBetween(c, b);\n  let mid = (a1 + a2) / 2;\n  if (d1 < 1e-4 || d2 < 1e-4) {\n    if (typeof b.relative === \"boolean\" && !b.relative) {\n      b.controls.left.copy(b);\n      b.controls.right.copy(b);\n    }\n    return b;\n  }\n  d1 *= 0.33;\n  d2 *= 0.33;\n  if (a2 < a1) {\n    mid += HALF_PI;\n  } else {\n    mid -= HALF_PI;\n  }\n  b.controls.left.x = Math.cos(mid) * d1;\n  b.controls.left.y = Math.sin(mid) * d1;\n  mid -= Math.PI;\n  b.controls.right.x = Math.cos(mid) * d2;\n  b.controls.right.y = Math.sin(mid) * d2;\n  if (typeof b.relative === \"boolean\" && !b.relative) {\n    b.controls.left.x += b.x;\n    b.controls.left.y += b.y;\n    b.controls.right.x += b.x;\n    b.controls.right.y += b.y;\n  }\n  return b;\n}\nfunction getReflection(a, b, relative) {\n  return new Vector(\n    2 * a.x - (b.x + a.x) - (relative ? a.x : 0),\n    2 * a.y - (b.y + a.y) - (relative ? a.y : 0)\n  );\n}\nfunction getAnchorsFromArcData(center, xAxisRotation, rx, ry, ts, td, ccw) {\n  const resolution = Constants.Resolution;\n  const anchors = [];\n  for (let i = 0; i < resolution; i++) {\n    let pct = (i + 1) / resolution;\n    if (ccw) {\n      pct = 1 - pct;\n    }\n    const theta = pct * td + ts;\n    const x = rx * Math.cos(theta);\n    const y = ry * Math.sin(theta);\n    const anchor2 = new Anchor(x, y);\n    anchor2.command = Commands.line;\n    anchors.push(anchor2);\n  }\n}\n\n// src/utils/underscore.js\nvar slice = Array.prototype.slice;\nfunction isArrayLike(collection) {\n  if (collection === null || collection === void 0)\n    return false;\n  const length = collection.length;\n  return typeof length == \"number\" && length >= 0 && length < 4294967296;\n}\nvar _ = {\n  isNaN: function(obj) {\n    return typeof obj === \"number\" && obj !== +obj;\n  },\n  isElement: function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  },\n  isObject: function(obj) {\n    const type = typeof obj;\n    return type === \"function\" || type === \"object\" && !!obj;\n  },\n  extend: function(base) {\n    const sources = slice.call(arguments, 1);\n    for (let i = 0; i < sources.length; i++) {\n      const obj = sources[i];\n      for (let k in obj) {\n        base[k] = obj[k];\n      }\n    }\n    return base;\n  },\n  defaults: function(base) {\n    const sources = slice.call(arguments, 1);\n    for (let i = 0; i < sources.length; i++) {\n      const obj = sources[i];\n      for (let k in obj) {\n        if (base[k] === void 0) {\n          base[k] = obj[k];\n        }\n      }\n    }\n    return base;\n  },\n  each: function(obj, iteratee, context) {\n    const ctx = context || this;\n    const keys = !isArrayLike(obj) && Object.keys(obj);\n    const length = (keys || obj).length;\n    for (let i = 0; i < length; i++) {\n      const k = keys ? keys[i] : i;\n      iteratee.call(ctx, obj[k], k, obj);\n    }\n    return obj;\n  },\n  performance: root.performance && root.performance.now ? root.performance : Date\n};\n\n// src/utils/dom.js\nvar dom = {\n  hasEventListeners: typeof root.addEventListener === \"function\",\n  bind: function(elem, event, func, bool) {\n    if (this.hasEventListeners) {\n      elem.addEventListener(event, func, !!bool);\n    } else {\n      elem.attachEvent(\"on\" + event, func);\n    }\n    return dom;\n  },\n  unbind: function(elem, event, func, bool) {\n    if (dom.hasEventListeners) {\n      elem.removeEventListeners(event, func, !!bool);\n    } else {\n      elem.detachEvent(\"on\" + event, func);\n    }\n    return dom;\n  },\n  getRequestAnimationFrame: function() {\n    const vendors = [\"ms\", \"moz\", \"webkit\", \"o\"];\n    let lastTime = 0;\n    let request = root.requestAnimationFrame;\n    if (!request) {\n      for (let i = 0; i < vendors.length; i++) {\n        request = root[vendors[i] + \"RequestAnimationFrame\"] || request;\n      }\n      request = request || fallbackRequest;\n    }\n    function fallbackRequest(callback, element) {\n      const currTime = new Date().getTime();\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      const id = root.setTimeout(nextRequest, timeToCall);\n      lastTime = currTime + timeToCall;\n      function nextRequest() {\n        callback(currTime + timeToCall);\n      }\n      return id;\n    }\n    return request;\n  }\n};\nvar temp = root.document ? root.document.createElement(\"div\") : {};\ntemp.id = \"help-two-load\";\nObject.defineProperty(dom, \"temp\", {\n  enumerable: true,\n  get: function() {\n    if (_.isElement(temp) && !root.document.head.contains(temp)) {\n      temp.style.display = \"none\";\n      root.document.head.appendChild(temp);\n    }\n    return temp;\n  }\n});\n\n// src/utils/error.js\nvar TwoError = class extends Error {\n  constructor(message) {\n    super();\n    __publicField(this, \"name\", \"Two.js\");\n    __publicField(this, \"message\");\n    this.message = message;\n  }\n};\n\n// src/utils/device-pixel-ratio.js\nvar devicePixelRatio = root.devicePixelRatio || 1;\nfunction getBackingStoreRatio(ctx) {\n  return ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n}\nfunction getRatio(ctx) {\n  return devicePixelRatio / getBackingStoreRatio(ctx);\n}\n\n// src/registry.js\nvar Registry = class {\n  constructor() {\n    __publicField(this, \"map\", {});\n  }\n  add(id, obj) {\n    this.map[id] = obj;\n    return this;\n  }\n  remove(id) {\n    delete this.map[id];\n    return this;\n  }\n  get(id) {\n    return this.map[id];\n  }\n  contains(id) {\n    return id in this.map;\n  }\n};\n\n// src/collection.js\nvar _events;\nvar Collection = class extends Array {\n  constructor() {\n    super();\n    __privateAdd(this, _events, new Events());\n    if (arguments[0] && Array.isArray(arguments[0])) {\n      if (arguments[0].length > 0) {\n        this.push.apply(this, arguments[0]);\n      }\n    } else if (arguments.length > 0) {\n      this.push.apply(this, arguments);\n    }\n  }\n  get _events() {\n    return __privateGet(this, _events);\n  }\n  set _events(e) {\n    __privateSet(this, _events, e);\n  }\n  get _bound() {\n    return __privateGet(this, _events)._bound;\n  }\n  set _bound(v) {\n    __privateGet(this, _events)._bound = v;\n  }\n  addEventListener() {\n    return __privateGet(this, _events).addEventListener.apply(this, arguments);\n  }\n  on() {\n    return __privateGet(this, _events).on.apply(this, arguments);\n  }\n  bind() {\n    return __privateGet(this, _events).bind.apply(this, arguments);\n  }\n  removeEventListener() {\n    return __privateGet(this, _events).removeEventListener.apply(this, arguments);\n  }\n  off() {\n    return __privateGet(this, _events).off.apply(this, arguments);\n  }\n  unbind() {\n    return __privateGet(this, _events).unbind.apply(this, arguments);\n  }\n  dispatchEvent() {\n    return __privateGet(this, _events).dispatchEvent.apply(this, arguments);\n  }\n  trigger() {\n    return __privateGet(this, _events).trigger.apply(this, arguments);\n  }\n  listen() {\n    return __privateGet(this, _events).listen.apply(this, arguments);\n  }\n  ignore() {\n    return __privateGet(this, _events).ignore.apply(this, arguments);\n  }\n  pop() {\n    const popped = super.pop.apply(this, arguments);\n    this.trigger(Events.Types.remove, [popped]);\n    return popped;\n  }\n  shift() {\n    const shifted = super.shift.apply(this, arguments);\n    this.trigger(Events.Types.remove, [shifted]);\n    return shifted;\n  }\n  push() {\n    const pushed = super.push.apply(this, arguments);\n    this.trigger(Events.Types.insert, arguments);\n    return pushed;\n  }\n  unshift() {\n    const unshifted = super.unshift.apply(this, arguments);\n    this.trigger(Events.Types.insert, arguments);\n    return unshifted;\n  }\n  splice() {\n    const spliced = super.splice.apply(this, arguments);\n    this.trigger(Events.Types.remove, spliced);\n    if (arguments.length > 2) {\n      const inserted = this.slice(\n        arguments[0],\n        arguments[0] + arguments.length - 2\n      );\n      this.trigger(Events.Types.insert, inserted);\n      this.trigger(Events.Types.order);\n    }\n    return spliced;\n  }\n  sort() {\n    super.sort.apply(this, arguments);\n    this.trigger(Events.Types.order);\n    return this;\n  }\n  reverse() {\n    super.reverse.apply(this, arguments);\n    this.trigger(Events.Types.order);\n    return this;\n  }\n  indexOf() {\n    return super.indexOf.apply(this, arguments);\n  }\n  map(func, scope) {\n    const results = [];\n    for (let key = 0; key < this.length; key++) {\n      const value = this[key];\n      let result;\n      if (scope) {\n        result = func.call(scope, value, key);\n      } else {\n        result = func(value, key);\n      }\n      results.push(result);\n    }\n    return results;\n  }\n};\n_events = new WeakMap();\n\n// src/element.js\nvar _Element = class extends Events {\n  constructor() {\n    super();\n    __publicField(this, \"_flagId\", false);\n    __publicField(this, \"_flagClassName\", false);\n    __publicField(this, \"_renderer\", {});\n    __publicField(this, \"_id\", Constants.Identifier + Constants.uniqueId());\n    __publicField(this, \"_className\", \"\");\n    __publicField(this, \"classList\", []);\n    for (let prop in proto3) {\n      Object.defineProperty(this, prop, proto3[prop]);\n    }\n  }\n  static fromObject(obj) {\n    const elem = new _Element().copy(obj);\n    if (\"id\" in obj) {\n      elem.id = obj.id;\n    }\n    return elem;\n  }\n  flagReset() {\n    this._flagId = this._flagClassName = false;\n    return this;\n  }\n  copy(element) {\n    this.renderer.type = element.renderer.type;\n    this.className = element.className;\n    return this;\n  }\n  toObject() {\n    return {\n      renderer: { type: this.renderer.type },\n      id: this.id,\n      className: this.className\n    };\n  }\n};\nvar Element = _Element;\n__publicField(Element, \"Properties\", [\"renderer\", \"id\", \"className\"]);\nvar proto3 = {\n  renderer: {\n    enumerable: false,\n    get: function() {\n      return this._renderer;\n    }\n  },\n  id: {\n    enumerable: true,\n    get: function() {\n      return this._id;\n    },\n    set: function(v) {\n      const id = this._id;\n      if (v === this._id) {\n        return;\n      }\n      this._id = v;\n      this._flagId = true;\n      if (this.parent) {\n        delete this.parent.children.ids[id];\n        this.parent.children.ids[this._id] = this;\n      }\n    }\n  },\n  className: {\n    enumerable: true,\n    get: function() {\n      return this._className;\n    },\n    set: function(v) {\n      if (this._className !== v) {\n        this._flagClassName = true;\n        this.classList = v.split(/\\s+?/);\n        this._className = v;\n      }\n    }\n  }\n};\n\n// src/effects/texture.js\nvar anchor;\nvar regex = {\n  video: /\\.(mp4|webm|ogg)$/i,\n  image: /\\.(jpe?g|png|gif|tiff|webp)$/i,\n  effect: /texture|gradient/i\n};\nif (root.document) {\n  anchor = document.createElement(\"a\");\n}\nvar _Texture = class extends Element {\n  constructor(src, callback) {\n    super();\n    __publicField(this, \"_flagSrc\", false);\n    __publicField(this, \"_flagImage\", false);\n    __publicField(this, \"_flagVideo\", false);\n    __publicField(this, \"_flagLoaded\", false);\n    __publicField(this, \"_flagRepeat\", false);\n    __publicField(this, \"_flagOffset\", false);\n    __publicField(this, \"_flagScale\", false);\n    __publicField(this, \"_src\", \"\");\n    __publicField(this, \"_image\", null);\n    __publicField(this, \"_loaded\", false);\n    __publicField(this, \"_repeat\", \"no-repeat\");\n    __publicField(this, \"_scale\", 1);\n    __publicField(this, \"_offset\", null);\n    for (let prop in proto4) {\n      Object.defineProperty(this, prop, proto4[prop]);\n    }\n    this._renderer.type = \"texture\";\n    this._renderer.flagOffset = FlagOffset.bind(this);\n    this._renderer.flagScale = FlagScale.bind(this);\n    this.loaded = false;\n    this.repeat = \"no-repeat\";\n    this.offset = new Vector();\n    if (typeof callback === \"function\") {\n      const loaded = function() {\n        this.unbind(Events.Types.load, loaded);\n        if (typeof callback === \"function\") {\n          callback();\n        }\n      }.bind(this);\n      this.bind(Events.Types.load, loaded);\n    }\n    if (typeof src === \"string\") {\n      this.src = src;\n    } else if (typeof src === \"object\") {\n      const elemString = Object.prototype.toString.call(src);\n      if (elemString === \"[object HTMLImageElement]\" || elemString === \"[object HTMLCanvasElement]\" || elemString === \"[object HTMLVideoElement]\" || elemString === \"[object Image]\") {\n        this.image = src;\n      }\n    }\n    this._update();\n  }\n  fromObject(obj) {\n    const texture = new _Texture().copy(obj);\n    if (\"id\" in obj) {\n      texture.id = obj.id;\n    }\n    return texture;\n  }\n  static getAbsoluteURL(path) {\n    if (!anchor) {\n      return path;\n    }\n    anchor.href = path;\n    return anchor.href;\n  }\n  static loadHeadlessBuffer(texture, loaded) {\n    texture.image.onload = loaded;\n    texture.image.src = texture.src;\n  }\n  static getTag(image) {\n    return image && image.nodeName && image.nodeName.toLowerCase() || \"img\";\n  }\n  static getImage(src) {\n    const absoluteSrc = _Texture.getAbsoluteURL(src);\n    if (_Texture.ImageRegistry.contains(absoluteSrc)) {\n      return _Texture.ImageRegistry.get(absoluteSrc);\n    }\n    let image;\n    if (CanvasPolyfill.Image) {\n      image = new CanvasPolyfill.Image();\n      CanvasPolyfill.shim(image, \"img\");\n    } else if (root.document) {\n      if (regex.video.test(absoluteSrc)) {\n        image = document.createElement(\"video\");\n      } else {\n        image = document.createElement(\"img\");\n      }\n    } else {\n      console.warn(\"Two.js: no prototypical image defined for Two.Texture\");\n    }\n    image.crossOrigin = \"anonymous\";\n    image.referrerPolicy = \"no-referrer\";\n    return image;\n  }\n  static load(texture, callback) {\n    let image = texture.image;\n    let tag = _Texture.getTag(image);\n    if (texture._flagImage) {\n      if (/canvas/i.test(tag)) {\n        _Texture.Register.canvas(texture, callback);\n      } else {\n        texture._src = !CanvasPolyfill.isHeadless && image.getAttribute(\"two-src\") || image.src;\n        _Texture.Register[tag](texture, callback);\n      }\n    }\n    if (texture._flagSrc) {\n      if (!image) {\n        image = _Texture.getImage(texture.src);\n        texture.image = image;\n      }\n      tag = _Texture.getTag(image);\n      _Texture.Register[tag](texture, callback);\n    }\n  }\n  clone() {\n    const clone = new _Texture(this.src);\n    clone.repeat = this.repeat;\n    clone.offset.copy(this.offset);\n    clone.scale = this.scale;\n    return clone;\n  }\n  copy(texture) {\n    this.src = texture.src;\n    this.repeat = texture.repeat;\n    this.offset = typeof texture.offset === \"number\" || texture.offset instanceof Vector ? texture.offset : new Vector().copy(texture.offset);\n    this.scale = typeof texture.scale === \"number\" || texture.scale instanceof Vector ? texture.scale : new Vector().copy(texture.scale);\n    return this;\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    result.renderer.type = \"texture\";\n    result.src = this.src;\n    result.repeat = this.repeat;\n    result.offset = this.offset.toObject();\n    result.scale = typeof this.scale === \"number\" ? this.scale : this.scale.toObject();\n    return result;\n  }\n  _update() {\n    if (this._flagSrc || this._flagImage) {\n      this.trigger(Events.Types.change);\n      if (this._flagSrc || this._flagImage) {\n        this.loaded = false;\n        _Texture.load(\n          this,\n          function() {\n            this.loaded = true;\n            this.trigger(Events.Types.change).trigger(Events.Types.load);\n          }.bind(this)\n        );\n      }\n    }\n    if (this._image && this._image.readyState >= 4) {\n      this._flagVideo = true;\n    }\n    return this;\n  }\n  flagReset() {\n    this._flagSrc = this._flagImage = this._flagLoaded = this._flagRepeat = this._flagVideo = this._flagScale = this._flagOffset = false;\n    super.flagReset.call(this);\n    return this;\n  }\n  dispose() {\n    if (\"elem\" in this._renderer) {\n      const elem = this._renderer.elem;\n      elem.parentNode.removeChild(elem);\n    }\n    if (\"effect\" in this._renderer) {\n      this._renderer.effect = null;\n    }\n    return this;\n  }\n};\nvar Texture = _Texture;\n__publicField(Texture, \"Properties\", [\"src\", \"loaded\", \"repeat\", \"scale\", \"offset\", \"image\"]);\n__publicField(Texture, \"RegularExpressions\", regex);\n__publicField(Texture, \"ImageRegistry\", new Registry());\n__publicField(Texture, \"Register\", {\n  canvas: function(texture, callback) {\n    texture._src = \"#\" + texture.id;\n    _Texture.ImageRegistry.add(texture.src, texture.image);\n    if (typeof callback === \"function\") {\n      callback();\n    }\n  },\n  img: function(texture, callback) {\n    const image = texture.image;\n    const loaded = function(e) {\n      if (!CanvasPolyfill.isHeadless && image.removeEventListener && typeof image.removeEventListener === \"function\") {\n        image.removeEventListener(\"load\", loaded, false);\n        image.removeEventListener(\"error\", error, false);\n      }\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    };\n    const error = function(e) {\n      if (!CanvasPolyfill.isHeadless && typeof image.removeEventListener === \"function\") {\n        image.removeEventListener(\"load\", loaded, false);\n        image.removeEventListener(\"error\", error, false);\n      }\n      throw new TwoError(\"unable to load \" + texture.src);\n    };\n    if (typeof image.width === \"number\" && image.width > 0 && typeof image.height === \"number\" && image.height > 0) {\n      loaded();\n    } else if (!CanvasPolyfill.isHeadless && typeof image.addEventListener === \"function\") {\n      image.addEventListener(\"load\", loaded, false);\n      image.addEventListener(\"error\", error, false);\n    }\n    texture._src = _Texture.getAbsoluteURL(texture._src);\n    if (!CanvasPolyfill.isHeadless && image && image.getAttribute(\"two-src\")) {\n      return;\n    }\n    if (!CanvasPolyfill.isHeadless) {\n      image.setAttribute(\"two-src\", texture.src);\n    }\n    _Texture.ImageRegistry.add(texture.src, image);\n    if (CanvasPolyfill.isHeadless) {\n      _Texture.loadHeadlessBuffer(texture, loaded);\n    } else {\n      texture.image.src = texture.src;\n    }\n  },\n  video: function(texture, callback) {\n    if (CanvasPolyfill.isHeadless) {\n      throw new TwoError(\n        \"video textures are not implemented in headless environments.\"\n      );\n    }\n    const loaded = function(e) {\n      texture.image.removeEventListener(\"canplaythrough\", loaded, false);\n      texture.image.removeEventListener(\"error\", error, false);\n      texture.image.width = texture.image.videoWidth;\n      texture.image.height = texture.image.videoHeight;\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    };\n    const error = function(e) {\n      texture.image.removeEventListener(\"canplaythrough\", loaded, false);\n      texture.image.removeEventListener(\"error\", error, false);\n      throw new TwoError(\"unable to load \" + texture.src);\n    };\n    texture._src = _Texture.getAbsoluteURL(texture._src);\n    if (!texture.image.getAttribute(\"two-src\")) {\n      texture.image.setAttribute(\"two-src\", texture.src);\n      _Texture.ImageRegistry.add(texture.src, texture.image);\n    }\n    if (texture.image.readyState >= 4) {\n      loaded();\n    } else {\n      texture.image.addEventListener(\"canplaythrough\", loaded, false);\n      texture.image.addEventListener(\"error\", error, false);\n      texture.image.src = texture.src;\n      texture.image.load();\n    }\n  }\n});\nvar proto4 = {\n  src: {\n    enumerable: true,\n    get: function() {\n      return this._src;\n    },\n    set: function(v) {\n      this._src = v;\n      this._flagSrc = true;\n    }\n  },\n  loaded: {\n    enumerable: true,\n    get: function() {\n      return this._loaded;\n    },\n    set: function(v) {\n      this._loaded = v;\n      this._flagLoaded = true;\n    }\n  },\n  repeat: {\n    enumerable: true,\n    get: function() {\n      return this._repeat;\n    },\n    set: function(v) {\n      this._repeat = v;\n      this._flagRepeat = true;\n    }\n  },\n  image: {\n    enumerable: true,\n    get: function() {\n      return this._image;\n    },\n    set: function(image) {\n      const tag = Texture.getTag(image);\n      let index;\n      switch (tag) {\n        case \"canvas\":\n          index = \"#\" + image.id;\n          break;\n        default:\n          index = image.src;\n      }\n      if (Texture.ImageRegistry.contains(index)) {\n        this._image = Texture.ImageRegistry.get(image.src);\n      } else {\n        this._image = image;\n      }\n      this._flagImage = true;\n    }\n  },\n  offset: {\n    enumerable: true,\n    get: function() {\n      return this._offset;\n    },\n    set: function(v) {\n      if (this._offset) {\n        this._offset.unbind(Events.Types.change, this._renderer.flagOffset);\n      }\n      this._offset = v;\n      this._offset.bind(Events.Types.change, this._renderer.flagOffset);\n      this._flagOffset = true;\n    }\n  },\n  scale: {\n    enumerable: true,\n    get: function() {\n      return this._scale;\n    },\n    set: function(v) {\n      if (this._scale instanceof Vector) {\n        this._scale.unbind(Events.Types.change, this._renderer.flagScale);\n      }\n      this._scale = v;\n      if (this._scale instanceof Vector) {\n        this._scale.bind(Events.Types.change, this._renderer.flagScale);\n      }\n      this._flagScale = true;\n    }\n  }\n};\nfunction FlagOffset() {\n  this._flagOffset = true;\n}\nfunction FlagScale() {\n  this._flagScale = true;\n}\n\n// src/effects/stop.js\nvar _Stop = class extends Element {\n  constructor(offset, color, opacity) {\n    super();\n    __publicField(this, \"_flagOffset\", true);\n    __publicField(this, \"_flagOpacity\", true);\n    __publicField(this, \"_flagColor\", true);\n    __publicField(this, \"_offset\", 0);\n    __publicField(this, \"_opacity\", 1);\n    __publicField(this, \"_color\", \"#fff\");\n    for (let prop in proto5) {\n      Object.defineProperty(this, prop, proto5[prop]);\n    }\n    this._renderer.type = \"stop\";\n    this.offset = typeof offset === \"number\" ? offset : _Stop.Index <= 0 ? 0 : 1;\n    this.opacity = typeof opacity === \"number\" ? opacity : 1;\n    this.color = typeof color === \"string\" ? color : _Stop.Index <= 0 ? \"#fff\" : \"#000\";\n    _Stop.Index = (_Stop.Index + 1) % 2;\n  }\n  static fromObject(obj) {\n    const stop = new _Stop().copy(obj);\n    if (\"id\" in obj) {\n      stop.id = obj.id;\n    }\n    return stop;\n  }\n  copy(stop) {\n    super.copy.call(this, stop);\n    for (let i = 0; i < _Stop.Properties.length; i++) {\n      const k = _Stop.Properties[i];\n      if (k in stop) {\n        this[k] = stop[k];\n      }\n    }\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Stop();\n    _.each(\n      _Stop.Properties,\n      function(property) {\n        clone[property] = this[property];\n      },\n      this\n    );\n    if (parent && parent.stops) {\n      parent.stops.push(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    result.renderer.type = \"stop\";\n    _.each(\n      _Stop.Properties,\n      (k) => {\n        result[k] = this[k];\n      },\n      this\n    );\n    return result;\n  }\n  flagReset() {\n    this._flagOffset = this._flagColor = this._flagOpacity = false;\n    super.flagReset.call(this);\n    return this;\n  }\n};\nvar Stop = _Stop;\n__publicField(Stop, \"Index\", 0);\n__publicField(Stop, \"Properties\", [\"offset\", \"opacity\", \"color\"]);\nvar proto5 = {\n  offset: {\n    enumerable: true,\n    get: function() {\n      return this._offset;\n    },\n    set: function(v) {\n      this._offset = v;\n      this._flagOffset = true;\n      if (this.parent) {\n        this.parent._flagStops = true;\n      }\n    }\n  },\n  opacity: {\n    enumerable: true,\n    get: function() {\n      return this._opacity;\n    },\n    set: function(v) {\n      this._opacity = v;\n      this._flagOpacity = true;\n      if (this.parent) {\n        this.parent._flagStops = true;\n      }\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function() {\n      return this._color;\n    },\n    set: function(v) {\n      this._color = v;\n      this._flagColor = true;\n      if (this.parent) {\n        this.parent._flagStops = true;\n      }\n    }\n  }\n};\n\n// src/effects/gradient.js\nvar _Gradient = class extends Element {\n  constructor(stops) {\n    super();\n    __publicField(this, \"_flagStops\", false);\n    __publicField(this, \"_flagSpread\", false);\n    __publicField(this, \"_flagUnits\", false);\n    __publicField(this, \"_spread\", \"\");\n    __publicField(this, \"_units\", \"\");\n    for (let prop in proto6) {\n      Object.defineProperty(this, prop, proto6[prop]);\n    }\n    this._renderer.type = \"gradient\";\n    this._renderer.flagStops = FlagStops.bind(this);\n    this._renderer.bindStops = BindStops.bind(this);\n    this._renderer.unbindStops = UnbindStops.bind(this);\n    this.spread = \"pad\";\n    this.units = \"objectBoundingBox\";\n    if (stops) {\n      this.stops = stops;\n    }\n  }\n  static fromObject(obj) {\n    let stops = obj.stops;\n    if (stops && stops.length > 0) {\n      stops = stops.map((o) => o instanceof Stop ? o : new Stop().copy(o));\n    }\n    const gradient = new _Gradient().copy(obj);\n    if (\"id\" in obj) {\n      gradient.id = obj.id;\n    }\n    return gradient;\n  }\n  clone(parent) {\n    const stops = this.stops.map((s) => {\n      return s.clone();\n    });\n    const clone = new _Gradient(stops);\n    _.each(\n      _Gradient.Properties,\n      (k) => {\n        clone[k] = this[k];\n      },\n      this\n    );\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  copy(gradient) {\n    super.copy.call(this, gradient);\n    for (let i = 0; i < _Gradient.Properties.length; i++) {\n      const k = _Gradient.Properties[i];\n      if (k in gradient) {\n        this[k] = gradient[k];\n      }\n    }\n    return this;\n  }\n  toObject() {\n    const result = {\n      stops: this.stops.map((s) => {\n        return s.toObject();\n      })\n    };\n    _.each(\n      _Gradient.Properties,\n      (k) => {\n        result[k] = this[k];\n      },\n      this\n    );\n    return result;\n  }\n  _update() {\n    if (this._flagSpread || this._flagStops) {\n      this.trigger(Events.Types.change);\n    }\n    return this;\n  }\n  flagReset() {\n    this._flagSpread = this._flagUnits = this._flagStops = false;\n    super.flagReset.call(this);\n    return this;\n  }\n  dispose() {\n    if (\"elem\" in this._renderer) {\n      const elem = this._renderer.elem;\n      elem.parentNode.removeChild(elem);\n    }\n    if (\"effect\" in this._renderer) {\n      this._renderer.effect = null;\n    }\n    return this;\n  }\n};\nvar Gradient = _Gradient;\n__publicField(Gradient, \"Stop\", Stop);\n__publicField(Gradient, \"Properties\", [\"spread\", \"stops\", \"units\"]);\nvar proto6 = {\n  spread: {\n    enumerable: true,\n    get: function() {\n      return this._spread;\n    },\n    set: function(v) {\n      this._spread = v;\n      this._flagSpread = true;\n    }\n  },\n  units: {\n    enumerable: true,\n    get: function() {\n      return this._units;\n    },\n    set: function(v) {\n      this._units = v;\n      this._flagUnits = true;\n    }\n  },\n  stops: {\n    enumerable: true,\n    get: function() {\n      return this._stops;\n    },\n    set: function(stops) {\n      const bindStops = this._renderer.bindStops;\n      const unbindStops = this._renderer.unbindStops;\n      if (this._stops) {\n        this._stops.unbind(Events.Types.insert, bindStops).unbind(Events.Types.remove, unbindStops);\n      }\n      this._stops = new Collection((stops || []).slice(0));\n      this._stops.bind(Events.Types.insert, bindStops).bind(Events.Types.remove, unbindStops);\n      bindStops(this._stops);\n    }\n  }\n};\nfunction FlagStops() {\n  this._flagStops = true;\n}\nfunction BindStops(items) {\n  let i = items.length;\n  while (i--) {\n    items[i].bind(Events.Types.change, this._renderer.flagStops);\n    items[i].parent = this;\n  }\n  this._renderer.flagStops();\n}\nfunction UnbindStops(items) {\n  let i = items.length;\n  while (i--) {\n    items[i].unbind(Events.Types.change, this._renderer.flagStops);\n    delete items[i].parent;\n  }\n  this._renderer.flagStops();\n}\n\n// src/effects/linear-gradient.js\nvar _LinearGradient = class extends Gradient {\n  constructor(x1, y1, x2, y2, stops) {\n    super(stops);\n    __publicField(this, \"_flagEndPoints\", false);\n    __publicField(this, \"_left\", null);\n    __publicField(this, \"_right\", null);\n    for (let prop in proto7) {\n      Object.defineProperty(this, prop, proto7[prop]);\n    }\n    this._renderer.type = \"linear-gradient\";\n    this._renderer.flagEndPoints = FlagEndPoints.bind(this);\n    this.left = new Vector();\n    this.right = new Vector();\n    if (typeof x1 === \"number\") {\n      this.left.x = x1;\n    }\n    if (typeof y1 === \"number\") {\n      this.left.y = y1;\n    }\n    if (typeof x2 === \"number\") {\n      this.right.x = x2;\n    }\n    if (typeof y2 === \"number\") {\n      this.right.y = y2;\n    }\n  }\n  static fromObject(obj) {\n    const gradient = new _LinearGradient().copy(obj);\n    if (\"id\" in obj) {\n      gradient.id = obj.id;\n    }\n    return gradient;\n  }\n  copy(gradient) {\n    super.copy.call(this, gradient);\n    for (let i = 0; i < _LinearGradient.Properties.length; i++) {\n      const k = _LinearGradient.Properties[i];\n      if (k in gradient) {\n        this[k] = gradient[k] instanceof Vector ? gradient[k] : new Vector().copy(gradient[k]);\n      }\n    }\n    return this;\n  }\n  clone(parent) {\n    const stops = this.stops.map(function(stop) {\n      return stop.clone();\n    });\n    const clone = new _LinearGradient(\n      this.left._x,\n      this.left._y,\n      this.right._x,\n      this.right._y,\n      stops\n    );\n    _.each(\n      Gradient.Properties,\n      function(k) {\n        clone[k] = this[k];\n      },\n      this\n    );\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    result.left = this.left.toObject();\n    result.right = this.right.toObject();\n    return result;\n  }\n  _update() {\n    if (this._flagEndPoints || this._flagSpread || this._flagStops) {\n      this.trigger(Events.Types.change);\n    }\n    return this;\n  }\n  flagReset() {\n    this._flagEndPoints = false;\n    super.flagReset.call(this);\n    return this;\n  }\n};\nvar LinearGradient = _LinearGradient;\n__publicField(LinearGradient, \"Stop\", Stop);\n__publicField(LinearGradient, \"Properties\", [\"left\", \"right\"]);\nvar proto7 = {\n  left: {\n    enumerable: true,\n    get: function() {\n      return this._left;\n    },\n    set: function(v) {\n      if (this._left instanceof Vector) {\n        this._left.unbind(Events.Types.change, this._renderer.flagEndPoints);\n      }\n      this._left = v;\n      this._left.bind(Events.Types.change, this._renderer.flagEndPoints);\n      this._flagEndPoints = true;\n    }\n  },\n  right: {\n    enumerable: true,\n    get: function() {\n      return this._right;\n    },\n    set: function(v) {\n      if (this._right instanceof Vector) {\n        this._right.unbind(Events.Types.change, this._renderer.flagEndPoints);\n      }\n      this._right = v;\n      this._right.bind(Events.Types.change, this._renderer.flagEndPoints);\n      this._flagEndPoints = true;\n    }\n  }\n};\nfunction FlagEndPoints() {\n  this._flagEndPoints = true;\n}\n\n// src/effects/radial-gradient.js\nvar _RadialGradient = class extends Gradient {\n  constructor(cx, cy, r, stops, fx, fy) {\n    super(stops);\n    __publicField(this, \"_flagRadius\", false);\n    __publicField(this, \"_flagCenter\", false);\n    __publicField(this, \"_flagFocal\", false);\n    __publicField(this, \"_radius\", 0);\n    __publicField(this, \"_center\", null);\n    __publicField(this, \"_focal\", null);\n    for (let prop in proto8) {\n      Object.defineProperty(this, prop, proto8[prop]);\n    }\n    this._renderer.type = \"radial-gradient\";\n    this._renderer.flagCenter = FlagCenter.bind(this);\n    this._renderer.flagFocal = FlagFocal.bind(this);\n    this.center = new Vector();\n    this.radius = typeof r === \"number\" ? r : 1;\n    this.focal = new Vector();\n    if (typeof cx === \"number\") {\n      this.center.x = cx;\n    }\n    if (typeof cy === \"number\") {\n      this.center.y = cy;\n    }\n    this.focal.copy(this.center);\n    if (typeof fx === \"number\") {\n      this.focal.x = fx;\n    }\n    if (typeof fy === \"number\") {\n      this.focal.y = fy;\n    }\n  }\n  static fromObject(obj) {\n    const gradient = new _RadialGradient().copy(obj);\n    if (\"id\" in obj) {\n      gradient.id = obj.id;\n    }\n    return gradient;\n  }\n  copy(gradient) {\n    super.copy.call(this, gradient);\n    for (let i = 0; i < _RadialGradient.Properties.length; i++) {\n      const k = _RadialGradient.Properties[i];\n      if (k in gradient) {\n        if (/(center|focal)i/.test(k)) {\n          this[k] = gradient[k] instanceof Vector ? gradient[k] : new Vector().copy(gradient[k]);\n        } else if (typeof gradient[k] === \"number\") {\n          this[k] = gradient[MediaKeySystemAccess];\n        }\n      }\n    }\n    return this;\n  }\n  clone(parent) {\n    const stops = this.stops.map(function(stop) {\n      return stop.clone();\n    });\n    const clone = new _RadialGradient(\n      this.center._x,\n      this.center._y,\n      this._radius,\n      stops,\n      this.focal._x,\n      this.focal._y\n    );\n    _.each(\n      Gradient.Properties.concat(_RadialGradient.Properties),\n      function(k) {\n        clone[k] = this[k];\n      },\n      this\n    );\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    _.each(\n      _RadialGradient.Properties,\n      function(k) {\n        result[k] = this[k];\n      },\n      this\n    );\n    result.center = this.center.toObject();\n    result.focal = this.focal.toObject();\n    return result;\n  }\n  _update() {\n    if (this._flagRadius || this._flatCenter || this._flagFocal || this._flagSpread || this._flagStops) {\n      this.trigger(Events.Types.change);\n    }\n    return this;\n  }\n  flagReset() {\n    this._flagRadius = this._flagCenter = this._flagFocal = false;\n    super.flagReset.call(this);\n    return this;\n  }\n};\nvar RadialGradient = _RadialGradient;\n__publicField(RadialGradient, \"Stop\", Stop);\n__publicField(RadialGradient, \"Properties\", [\"center\", \"radius\", \"focal\"]);\nvar proto8 = {\n  radius: {\n    enumerable: true,\n    get: function() {\n      return this._radius;\n    },\n    set: function(v) {\n      this._radius = v;\n      this._flagRadius = true;\n    }\n  },\n  center: {\n    enumerable: true,\n    get: function() {\n      return this._center;\n    },\n    set: function(v) {\n      if (this._center) {\n        this._center.unbind(Events.Types.change, this._renderer.flagCenter);\n      }\n      this._center = v;\n      this._center.bind(Events.Types.change, this._renderer.flagCenter);\n      this._flagCenter = true;\n    }\n  },\n  focal: {\n    enumerable: true,\n    get: function() {\n      return this._focal;\n    },\n    set: function(v) {\n      if (this._focal) {\n        this._focal.unbind(Events.Types.change, this._renderer.flagFocal);\n      }\n      this._focal = v;\n      this._focal.bind(Events.Types.change, this._renderer.flagFocal);\n      this._flagFocal = true;\n    }\n  }\n};\nfunction FlagCenter() {\n  this._flagCenter = true;\n}\nfunction FlagFocal() {\n  this._flagFocal = true;\n}\n\n// src/utils/shape.js\nfunction contains(path, t) {\n  if (t === 0 || t === 1) {\n    return true;\n  }\n  const length = path._length;\n  const target = length * t;\n  let elapsed = 0;\n  for (let i = 0; i < path._lengths.length; i++) {\n    const dist = path._lengths[i];\n    if (elapsed >= target) {\n      return target - elapsed >= 0;\n    }\n    elapsed += dist;\n  }\n  return false;\n}\nfunction getIdByLength(path, target) {\n  const total = path._length;\n  if (target <= 0) {\n    return 0;\n  } else if (target >= total) {\n    return path._lengths.length - 1;\n  }\n  for (let i = 0, sum = 0; i < path._lengths.length; i++) {\n    if (sum + path._lengths[i] >= target) {\n      target -= sum;\n      return Math.max(i - 1, 0) + target / path._lengths[i];\n    }\n    sum += path._lengths[i];\n  }\n  return -1;\n}\nfunction getCurveLength2(a, b, limit) {\n  let x1, x2, x3, x4, y1, y2, y3, y4;\n  const right = b.controls && b.controls.right;\n  const left = a.controls && a.controls.left;\n  x1 = b.x;\n  y1 = b.y;\n  x2 = (right || b).x;\n  y2 = (right || b).y;\n  x3 = (left || a).x;\n  y3 = (left || a).y;\n  x4 = a.x;\n  y4 = a.y;\n  if (right && b._relative) {\n    x2 += b.x;\n    y2 += b.y;\n  }\n  if (left && a._relative) {\n    x3 += a.x;\n    y3 += a.y;\n  }\n  return getCurveLength(x1, y1, x2, y2, x3, y3, x4, y4, limit);\n}\nfunction getSubdivisions(a, b, limit) {\n  let x1, x2, x3, x4, y1, y2, y3, y4;\n  const right = b.controls && b.controls.right;\n  const left = a.controls && a.controls.left;\n  x1 = b.x;\n  y1 = b.y;\n  x2 = (right || b).x;\n  y2 = (right || b).y;\n  x3 = (left || a).x;\n  y3 = (left || a).y;\n  x4 = a.x;\n  y4 = a.y;\n  if (right && b._relative) {\n    x2 += b.x;\n    y2 += b.y;\n  }\n  if (left && a._relative) {\n    x3 += a.x;\n    y3 += a.y;\n  }\n  return subdivide(x1, y1, x2, y2, x3, y3, x4, y4, limit);\n}\nfunction getEffectFromObject(obj) {\n  switch (obj.renderer.type) {\n    case \"texture\":\n      return Texture.fromObject(obj);\n    case \"gradient\":\n      return Gradient.fromObject(obj);\n    case \"linear-gradient\":\n      return LinearGradient.fromObject(obj);\n    case \"radial-gradient\":\n      return RadialGradient.fromObject(obj);\n  }\n  return obj;\n}\n\n// src/matrix.js\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar tan = Math.tan;\nvar array = [];\nvar _Matrix = class extends Events {\n  constructor(a, b, c, d, e, f) {\n    super();\n    __publicField(this, \"elements\", new NumArray(9));\n    __publicField(this, \"manual\", false);\n    let elements = a;\n    if (!Array.isArray(elements)) {\n      elements = Array.prototype.slice.call(arguments);\n    }\n    this.identity();\n    if (elements.length > 0) {\n      this.set(elements);\n    }\n  }\n  static Multiply(A, B, C) {\n    if (B.length <= 3) {\n      const e = A;\n      let x, y, z;\n      const a = B[0] || 0, b = B[1] || 0, c = B[2] || 0;\n      x = e[0] * a + e[1] * b + e[2] * c;\n      y = e[3] * a + e[4] * b + e[5] * c;\n      z = e[6] * a + e[7] * b + e[8] * c;\n      return [x, y, z];\n    }\n    const A0 = A[0], A1 = A[1], A2 = A[2];\n    const A3 = A[3], A4 = A[4], A5 = A[5];\n    const A6 = A[6], A7 = A[7], A8 = A[8];\n    const B0 = B[0], B1 = B[1], B2 = B[2];\n    const B3 = B[3], B4 = B[4], B5 = B[5];\n    const B6 = B[6], B7 = B[7], B8 = B[8];\n    C = C || new NumArray(9);\n    C[0] = A0 * B0 + A1 * B3 + A2 * B6;\n    C[1] = A0 * B1 + A1 * B4 + A2 * B7;\n    C[2] = A0 * B2 + A1 * B5 + A2 * B8;\n    C[3] = A3 * B0 + A4 * B3 + A5 * B6;\n    C[4] = A3 * B1 + A4 * B4 + A5 * B7;\n    C[5] = A3 * B2 + A4 * B5 + A5 * B8;\n    C[6] = A6 * B0 + A7 * B3 + A8 * B6;\n    C[7] = A6 * B1 + A7 * B4 + A8 * B7;\n    C[8] = A6 * B2 + A7 * B5 + A8 * B8;\n    return C;\n  }\n  static fromObject(obj) {\n    return new _Matrix().copy(obj);\n  }\n  set(a, b, c, d, e, f, g, h, i) {\n    if (typeof b === \"undefined\") {\n      const elements = a;\n      a = elements[0];\n      b = elements[1];\n      c = elements[2];\n      d = elements[3];\n      e = elements[4];\n      f = elements[5];\n      g = elements[6];\n      h = elements[7];\n      i = elements[8];\n    }\n    this.elements[0] = a;\n    this.elements[1] = b;\n    this.elements[2] = c;\n    this.elements[3] = d;\n    this.elements[4] = e;\n    this.elements[5] = f;\n    this.elements[6] = g;\n    this.elements[7] = h;\n    this.elements[8] = i;\n    return this.trigger(Events.Types.change);\n  }\n  copy(m) {\n    this.elements[0] = m.elements[0];\n    this.elements[1] = m.elements[1];\n    this.elements[2] = m.elements[2];\n    this.elements[3] = m.elements[3];\n    this.elements[4] = m.elements[4];\n    this.elements[5] = m.elements[5];\n    this.elements[6] = m.elements[6];\n    this.elements[7] = m.elements[7];\n    this.elements[8] = m.elements[8];\n    this.manual = m.manual;\n    return this.trigger(Events.Types.change);\n  }\n  identity() {\n    this.elements[0] = _Matrix.Identity[0];\n    this.elements[1] = _Matrix.Identity[1];\n    this.elements[2] = _Matrix.Identity[2];\n    this.elements[3] = _Matrix.Identity[3];\n    this.elements[4] = _Matrix.Identity[4];\n    this.elements[5] = _Matrix.Identity[5];\n    this.elements[6] = _Matrix.Identity[6];\n    this.elements[7] = _Matrix.Identity[7];\n    this.elements[8] = _Matrix.Identity[8];\n    return this.trigger(Events.Types.change);\n  }\n  multiply(a, b, c, d, e, f, g, h, i) {\n    if (typeof b === \"undefined\") {\n      this.elements[0] *= a;\n      this.elements[1] *= a;\n      this.elements[2] *= a;\n      this.elements[3] *= a;\n      this.elements[4] *= a;\n      this.elements[5] *= a;\n      this.elements[6] *= a;\n      this.elements[7] *= a;\n      this.elements[8] *= a;\n      return this.trigger(Events.Types.change);\n    }\n    if (typeof c === \"undefined\") {\n      c = 1;\n    }\n    if (typeof d === \"undefined\") {\n      a = a || 0;\n      b = b || 0;\n      c = c || 0;\n      e = this.elements;\n      const x = e[0] * a + e[1] * b + e[2] * c;\n      const y = e[3] * a + e[4] * b + e[5] * c;\n      const z = e[6] * a + e[7] * b + e[8] * c;\n      return [x, y, z];\n    }\n    const A = this.elements;\n    const B = [a, b, c, d, e, f, g, h, i];\n    const A0 = A[0], A1 = A[1], A2 = A[2];\n    const A3 = A[3], A4 = A[4], A5 = A[5];\n    const A6 = A[6], A7 = A[7], A8 = A[8];\n    const B0 = B[0], B1 = B[1], B2 = B[2];\n    const B3 = B[3], B4 = B[4], B5 = B[5];\n    const B6 = B[6], B7 = B[7], B8 = B[8];\n    this.elements[0] = A0 * B0 + A1 * B3 + A2 * B6;\n    this.elements[1] = A0 * B1 + A1 * B4 + A2 * B7;\n    this.elements[2] = A0 * B2 + A1 * B5 + A2 * B8;\n    this.elements[3] = A3 * B0 + A4 * B3 + A5 * B6;\n    this.elements[4] = A3 * B1 + A4 * B4 + A5 * B7;\n    this.elements[5] = A3 * B2 + A4 * B5 + A5 * B8;\n    this.elements[6] = A6 * B0 + A7 * B3 + A8 * B6;\n    this.elements[7] = A6 * B1 + A7 * B4 + A8 * B7;\n    this.elements[8] = A6 * B2 + A7 * B5 + A8 * B8;\n    return this.trigger(Events.Types.change);\n  }\n  inverse(output) {\n    const a = this.elements;\n    output = output || new _Matrix();\n    const a00 = a[0], a01 = a[1], a02 = a[2];\n    const a10 = a[3], a11 = a[4], a12 = a[5];\n    const a20 = a[6], a21 = a[7], a22 = a[8];\n    const b01 = a22 * a11 - a12 * a21;\n    const b11 = -a22 * a10 + a12 * a20;\n    const b21 = a21 * a10 - a11 * a20;\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\n    if (!det) {\n      return null;\n    }\n    det = 1 / det;\n    output.elements[0] = b01 * det;\n    output.elements[1] = (-a22 * a01 + a02 * a21) * det;\n    output.elements[2] = (a12 * a01 - a02 * a11) * det;\n    output.elements[3] = b11 * det;\n    output.elements[4] = (a22 * a00 - a02 * a20) * det;\n    output.elements[5] = (-a12 * a00 + a02 * a10) * det;\n    output.elements[6] = b21 * det;\n    output.elements[7] = (-a21 * a00 + a01 * a20) * det;\n    output.elements[8] = (a11 * a00 - a01 * a10) * det;\n    return output;\n  }\n  scale(sx, sy) {\n    const l = arguments.length;\n    if (l <= 1) {\n      sy = sx;\n    }\n    return this.multiply(sx, 0, 0, 0, sy, 0, 0, 0, 1);\n  }\n  rotate(n) {\n    const c = cos(n);\n    const s = sin(n);\n    return this.multiply(c, -s, 0, s, c, 0, 0, 0, 1);\n  }\n  translate(x, y) {\n    return this.multiply(1, 0, x, 0, 1, y, 0, 0, 1);\n  }\n  skewX(n) {\n    const a = tan(n);\n    return this.multiply(1, a, 0, 0, 1, 0, 0, 0, 1);\n  }\n  skewY(n) {\n    const a = tan(n);\n    return this.multiply(1, 0, 0, a, 1, 0, 0, 0, 1);\n  }\n  toString(fullMatrix) {\n    array.length = 0;\n    this.toTransformArray(fullMatrix, array);\n    return array.map(toFixed).join(\" \");\n  }\n  toTransformArray(fullMatrix, output) {\n    const elements = this.elements;\n    const hasOutput = !!output;\n    const a = elements[0];\n    const b = elements[1];\n    const c = elements[2];\n    const d = elements[3];\n    const e = elements[4];\n    const f = elements[5];\n    if (fullMatrix) {\n      const g = elements[6];\n      const h = elements[7];\n      const i = elements[8];\n      if (hasOutput) {\n        output[0] = a;\n        output[1] = d;\n        output[2] = g;\n        output[3] = b;\n        output[4] = e;\n        output[5] = h;\n        output[6] = c;\n        output[7] = f;\n        output[8] = i;\n        return;\n      }\n      return [a, d, g, b, e, h, c, f, i];\n    }\n    if (hasOutput) {\n      output[0] = a;\n      output[1] = d;\n      output[2] = b;\n      output[3] = e;\n      output[4] = c;\n      output[5] = f;\n      return;\n    }\n    return [\n      a,\n      d,\n      b,\n      e,\n      c,\n      f\n    ];\n  }\n  toArray(fullMatrix, output) {\n    const elements = this.elements;\n    const hasOutput = !!output;\n    const a = elements[0];\n    const b = elements[1];\n    const c = elements[2];\n    const d = elements[3];\n    const e = elements[4];\n    const f = elements[5];\n    if (fullMatrix) {\n      const g = elements[6];\n      const h = elements[7];\n      const i = elements[8];\n      if (hasOutput) {\n        output[0] = a;\n        output[1] = b;\n        output[2] = c;\n        output[3] = d;\n        output[4] = e;\n        output[5] = f;\n        output[6] = g;\n        output[7] = h;\n        output[8] = i;\n        return;\n      }\n      return [a, b, c, d, e, f, g, h, i];\n    }\n    if (hasOutput) {\n      output[0] = a;\n      output[1] = b;\n      output[2] = c;\n      output[3] = d;\n      output[4] = e;\n      output[5] = f;\n      return;\n    }\n    return [a, b, c, d, e, f];\n  }\n  toObject() {\n    return {\n      renderer: { type: \"matrix\" },\n      elements: this.toArray(true),\n      manual: !!this.manual\n    };\n  }\n  clone() {\n    return new _Matrix().copy(this);\n  }\n};\nvar Matrix2 = _Matrix;\n__publicField(Matrix2, \"Identity\", [1, 0, 0, 0, 1, 0, 0, 0, 1]);\nsetMatrix(Matrix2);\n\n// src/shape.js\nvar _Shape = class extends Element {\n  constructor() {\n    super();\n    __publicField(this, \"_flagMatrix\", true);\n    __publicField(this, \"_flagScale\", false);\n    __publicField(this, \"_matrix\", null);\n    __publicField(this, \"_worldMatrix\", null);\n    __publicField(this, \"_position\", null);\n    __publicField(this, \"_rotation\", 0);\n    __publicField(this, \"_scale\", 1);\n    __publicField(this, \"_skewX\", 0);\n    __publicField(this, \"_skewY\", 0);\n    for (let prop in proto9) {\n      Object.defineProperty(this, prop, proto9[prop]);\n    }\n    this._renderer.flagMatrix = FlagMatrix.bind(this);\n    this.isShape = true;\n    this.matrix = new Matrix2();\n    this.worldMatrix = new Matrix2();\n    this.position = new Vector();\n    this.rotation = 0;\n    this.scale = 1;\n    this.skewX = 0;\n    this.skewY = 0;\n  }\n  static fromObject(obj) {\n    const shape = new _Shape().copy(obj);\n    if (\"id\" in obj) {\n      shape.id = obj.id;\n    }\n    return shape;\n  }\n  get renderer() {\n    return this._renderer;\n  }\n  set renderer(v) {\n    this._renderer = v;\n  }\n  get translation() {\n    return proto9.position.get.apply(this, arguments);\n  }\n  set translation(v) {\n    proto9.position.set.apply(this, arguments);\n  }\n  addTo(group) {\n    group.add(this);\n    return this;\n  }\n  remove() {\n    if (!this.parent) {\n      return this;\n    }\n    this.parent.remove(this);\n    return this;\n  }\n  copy(shape) {\n    super.copy.call(this, shape);\n    if (\"position\" in shape) {\n      if (shape.position instanceof Vector) {\n        this.position = shape.position;\n      } else {\n        this.position.copy(shape.position);\n      }\n    }\n    if (\"rotation\" in shape) {\n      this.rotation = shape.rotation;\n    }\n    if (\"scale\" in shape) {\n      this.scale = typeof shape.scale === \"number\" || shape.scale instanceof Vector ? shape.scale : new Vector(shape.scale.x, shape.scale.y);\n    }\n    if (\"skewX\" in shape) {\n      this.skewX = shape.skewX;\n    }\n    if (\"skewY\" in shape) {\n      this.skewY = shape.skewY;\n    }\n    if (\"matrix\" in shape && shape.matrix.manual) {\n      this.matrix.copy(shape.matrix);\n      this.matrix.manual = true;\n    }\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Shape();\n    clone.position.copy(this.position);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone._update();\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    result.renderer = { type: \"shape\" };\n    result.isShape = true;\n    result.translation = this.translation.toObject();\n    result.rotation = this.translation.rotation;\n    result.scale = this.scale instanceof Vector ? this.scale.toObject() : this.scale;\n    result.skewX = this.skewX;\n    result.skewY = this.skewY;\n    result.matrix = this.matrix.toObject();\n    return result;\n  }\n  _update(bubbles) {\n    if (!this._matrix.manual && this._flagMatrix) {\n      this._matrix.identity().translate(this.position.x, this.position.y);\n      this._matrix.rotate(this.rotation);\n      if (this._scale instanceof Vector) {\n        this._matrix.scale(this._scale.x, this._scale.y);\n      } else {\n        this._matrix.scale(this._scale);\n      }\n      this._matrix.skewX(this.skewX);\n      this._matrix.skewY(this.skewY);\n    }\n    if (bubbles) {\n      if (this.parent && this.parent._update) {\n        this.parent._update();\n      }\n    }\n    return this;\n  }\n  flagReset() {\n    this._flagMatrix = this._flagScale = false;\n    super.flagReset.call(this);\n    return this;\n  }\n};\nvar Shape = _Shape;\n__publicField(Shape, \"Properties\", [\n  \"position\",\n  \"rotation\",\n  \"scale\",\n  \"skewX\",\n  \"skewY\",\n  \"matrix\",\n  \"worldMatrix\"\n]);\nvar proto9 = {\n  position: {\n    enumerable: true,\n    get: function() {\n      return this._position;\n    },\n    set: function(v) {\n      if (this._position) {\n        this._position.unbind(Events.Types.change, this._renderer.flagMatrix);\n      }\n      this._position = v;\n      this._position.bind(Events.Types.change, this._renderer.flagMatrix);\n      FlagMatrix.call(this);\n    }\n  },\n  rotation: {\n    enumerable: true,\n    get: function() {\n      return this._rotation;\n    },\n    set: function(v) {\n      this._rotation = v;\n      this._flagMatrix = true;\n    }\n  },\n  scale: {\n    enumerable: true,\n    get: function() {\n      return this._scale;\n    },\n    set: function(v) {\n      if (this._scale instanceof Vector) {\n        this._scale.unbind(Events.Types.change, this._renderer.flagMatrix);\n      }\n      this._scale = v;\n      if (this._scale instanceof Vector) {\n        this._scale.bind(Events.Types.change, this._renderer.flagMatrix);\n      }\n      this._flagMatrix = true;\n      this._flagScale = true;\n    }\n  },\n  skewX: {\n    enumerable: true,\n    get: function() {\n      return this._skewX;\n    },\n    set: function(v) {\n      this._skewX = v;\n      this._flagMatrix = true;\n    }\n  },\n  skewY: {\n    enumerable: true,\n    get: function() {\n      return this._skewY;\n    },\n    set: function(v) {\n      this._skewY = v;\n      this._flagMatrix = true;\n    }\n  },\n  matrix: {\n    enumerable: true,\n    get: function() {\n      return this._matrix;\n    },\n    set: function(v) {\n      this._matrix = v;\n      this._flagMatrix = true;\n    }\n  },\n  worldMatrix: {\n    enumerable: true,\n    get: function() {\n      getComputedMatrix(this, this._worldMatrix);\n      return this._worldMatrix;\n    },\n    set: function(v) {\n      this._worldMatrix = v;\n    }\n  }\n};\nfunction FlagMatrix() {\n  this._flagMatrix = true;\n}\n\n// src/path.js\nvar min = Math.min;\nvar max = Math.max;\nvar ceil = Math.ceil;\nvar floor2 = Math.floor;\nvar vector = new Vector();\nvar _Path = class extends Shape {\n  constructor(vertices, closed2, curved, manual) {\n    super();\n    __publicField(this, \"_flagVertices\", true);\n    __publicField(this, \"_flagLength\", true);\n    __publicField(this, \"_flagFill\", true);\n    __publicField(this, \"_flagStroke\", true);\n    __publicField(this, \"_flagLinewidth\", true);\n    __publicField(this, \"_flagOpacity\", true);\n    __publicField(this, \"_flagVisible\", true);\n    __publicField(this, \"_flagCap\", true);\n    __publicField(this, \"_flagJoin\", true);\n    __publicField(this, \"_flagMiter\", true);\n    __publicField(this, \"_flagMask\", false);\n    __publicField(this, \"_flagClip\", false);\n    __publicField(this, \"_length\", 0);\n    __publicField(this, \"_fill\", \"#fff\");\n    __publicField(this, \"_stroke\", \"#000\");\n    __publicField(this, \"_linewidth\", 1);\n    __publicField(this, \"_opacity\", 1);\n    __publicField(this, \"_visible\", true);\n    __publicField(this, \"_cap\", \"round\");\n    __publicField(this, \"_join\", \"round\");\n    __publicField(this, \"_miter\", 4);\n    __publicField(this, \"_closed\", true);\n    __publicField(this, \"_curved\", false);\n    __publicField(this, \"_automatic\", true);\n    __publicField(this, \"_beginning\", 0);\n    __publicField(this, \"_ending\", 1);\n    __publicField(this, \"_mask\", null);\n    __publicField(this, \"_clip\", false);\n    __publicField(this, \"_dashes\", null);\n    for (let prop in proto10) {\n      Object.defineProperty(this, prop, proto10[prop]);\n    }\n    this._renderer.type = \"path\";\n    this._renderer.flagVertices = FlagVertices.bind(this);\n    this._renderer.bindVertices = BindVertices.bind(this);\n    this._renderer.unbindVertices = UnbindVertices.bind(this);\n    this._renderer.flagFill = FlagFill.bind(this);\n    this._renderer.flagStroke = FlagStroke.bind(this);\n    this._renderer.vertices = [];\n    this._renderer.collection = [];\n    this.closed = !!closed2;\n    this.curved = !!curved;\n    this.beginning = 0;\n    this.ending = 1;\n    this.fill = \"#fff\";\n    this.stroke = \"#000\";\n    this.linewidth = 1;\n    this.opacity = 1;\n    this.className = \"\";\n    this.visible = true;\n    this.cap = \"butt\";\n    this.join = \"miter\";\n    this.miter = 4;\n    this.vertices = vertices;\n    this.automatic = !manual;\n    this.dashes = [];\n    this.dashes.offset = 0;\n  }\n  static fromObject(obj) {\n    const fill = typeof obj.fill === \"string\" ? obj.fill : getEffectFromObject(obj.fill);\n    const stroke = typeof obj.stroke === \"string\" ? obj.stroke : getEffectFromObject(obj.stroke);\n    const path = new _Path().copy(__spreadProps(__spreadValues({}, obj), { fill, stroke }));\n    if (\"id\" in obj) {\n      path.id = obj.id;\n    }\n    return path;\n  }\n  copy(path) {\n    super.copy.call(this, path);\n    this.vertices = [];\n    for (let j = 0; j < path.vertices.length; j++) {\n      const v = path.vertices[j];\n      if (v instanceof Anchor) {\n        this.vertices.push(path.vertices[j].clone());\n      } else {\n        this.vertices.push(new Anchor().copy(v));\n      }\n    }\n    for (let i = 0; i < _Path.Properties.length; i++) {\n      const k = _Path.Properties[i];\n      if (k in path) {\n        this[k] = path[k];\n      }\n    }\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Path();\n    for (let j = 0; j < this.vertices.length; j++) {\n      clone.vertices.push(this.vertices[j].clone());\n    }\n    for (let i = 0; i < _Path.Properties.length; i++) {\n      const k = _Path.Properties[i];\n      clone[k] = this[k];\n    }\n    clone.className = this.className;\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone._update();\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    result.renderer.type = \"path\";\n    result.vertices = this.vertices.map((v) => v.toObject());\n    _.each(\n      _Path.Properties,\n      (k) => {\n        if (typeof this[k] !== \"undefined\") {\n          if (this[k].toObject) {\n            result[k] = this[k].toObject();\n          } else {\n            result[k] = this[k];\n          }\n        }\n      },\n      this\n    );\n    return result;\n  }\n  noFill() {\n    this.fill = \"none\";\n    return this;\n  }\n  noStroke() {\n    this.stroke = \"none\";\n    this.linewidth = 0;\n    return this;\n  }\n  corner() {\n    const rect = this.getBoundingClientRect(true);\n    const hw = rect.width / 2;\n    const hh = rect.height / 2;\n    const cx = rect.left + rect.width / 2;\n    const cy = rect.top + rect.height / 2;\n    for (let i = 0; i < this.vertices.length; i++) {\n      const v = this.vertices[i];\n      v.x -= cx;\n      v.y -= cy;\n      v.x += hw;\n      v.y += hh;\n    }\n    if (this.mask) {\n      this.mask.translation.x -= cx;\n      this.mask.translation.x += hw;\n      this.mask.translation.y -= cy;\n      this.mask.translation.y += hh;\n    }\n    return this;\n  }\n  center() {\n    const rect = this.getBoundingClientRect(true);\n    const cx = rect.left + rect.width / 2 - this.translation.x;\n    const cy = rect.top + rect.height / 2 - this.translation.y;\n    for (let i = 0; i < this.vertices.length; i++) {\n      const v = this.vertices[i];\n      v.x -= cx;\n      v.y -= cy;\n    }\n    if (this.mask) {\n      this.mask.translation.x -= cx;\n      this.mask.translation.y -= cy;\n    }\n    return this;\n  }\n  getBoundingClientRect(shallow) {\n    let matrix, border, l, i, v0, v1;\n    let left = Infinity, right = -Infinity, top = Infinity, bottom = -Infinity;\n    this._update(true);\n    matrix = shallow ? this.matrix : this.worldMatrix;\n    border = (this.linewidth || 0) / 2;\n    l = this._renderer.vertices.length;\n    if (this.linewidth > 0 || this.stroke && !/(transparent|none)/i.test(this.stroke)) {\n      if (this.matrix.manual) {\n        const { scaleX, scaleY } = decomposeMatrix(\n          matrix.elements[0],\n          matrix.elements[3],\n          matrix.elements[1],\n          matrix.elements[4],\n          matrix.elements[2],\n          matrix.elements[5]\n        );\n        if (typeof scaleX === \"number\" && typeof scaleY === \"number\") {\n          border = Math.max(scaleX, scaleY) * (this.linewidth || 0) / 2;\n        }\n      } else {\n        border *= typeof this.scale === \"number\" ? this.scale : Math.max(this.scale.x, this.scale.y);\n      }\n    }\n    if (l <= 0) {\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n    for (i = 0; i < l; i++) {\n      v1 = this._renderer.vertices[i];\n      v0 = this._renderer.vertices[(i + l - 1) % l];\n      const [v0x, v0y] = matrix.multiply(v0.x, v0.y);\n      const [v1x, v1y] = matrix.multiply(v1.x, v1.y);\n      if (v0.controls && v1.controls) {\n        let rx = v0.controls.right.x;\n        let ry = v0.controls.right.y;\n        if (v0.relative) {\n          rx += v0.x;\n          ry += v0.y;\n        }\n        let [c0x, c0y] = matrix.multiply(rx, ry);\n        let lx = v1.controls.left.x;\n        let ly = v1.controls.left.y;\n        if (v1.relative) {\n          lx += v1.x;\n          ly += v1.y;\n        }\n        let [c1x, c1y] = matrix.multiply(lx, ly);\n        const bb = getCurveBoundingBox(v0x, v0y, c0x, c0y, c1x, c1y, v1x, v1y);\n        top = min(bb.min.y - border, top);\n        left = min(bb.min.x - border, left);\n        right = max(bb.max.x + border, right);\n        bottom = max(bb.max.y + border, bottom);\n      } else {\n        if (i <= 1) {\n          top = min(v0y - border, top);\n          left = min(v0x - border, left);\n          right = max(v0x + border, right);\n          bottom = max(v0y + border, bottom);\n        }\n        top = min(v1y - border, top);\n        left = min(v1x - border, left);\n        right = max(v1x + border, right);\n        bottom = max(v1y + border, bottom);\n      }\n    }\n    return {\n      top,\n      left,\n      right,\n      bottom,\n      width: right - left,\n      height: bottom - top\n    };\n  }\n  getPointAt(t, obj) {\n    let ia, ib, result;\n    let x, x1, x2, x3, x4, y, y1, y2, y3, y4, left, right;\n    let target = this.length * Math.min(Math.max(t, 0), 1);\n    const length = this.vertices.length;\n    const last = length - 1;\n    let a = null;\n    let b = null;\n    for (let i = 0, l = this._lengths.length, sum = 0; i < l; i++) {\n      if (sum + this._lengths[i] >= target) {\n        if (this._closed) {\n          ia = mod(i, length);\n          ib = mod(i - 1, length);\n          if (i === 0) {\n            ia = ib;\n            ib = i;\n          }\n        } else {\n          ia = i;\n          ib = Math.min(Math.max(i - 1, 0), last);\n        }\n        a = this.vertices[ia];\n        b = this.vertices[ib];\n        target -= sum;\n        if (this._lengths[i] !== 0) {\n          t = target / this._lengths[i];\n        } else {\n          t = 0;\n        }\n        break;\n      }\n      sum += this._lengths[i];\n    }\n    if (a === null || b === null) {\n      return null;\n    }\n    if (!a) {\n      return b;\n    } else if (!b) {\n      return a;\n    }\n    right = b.controls && b.controls.right;\n    left = a.controls && a.controls.left;\n    x1 = b.x;\n    y1 = b.y;\n    x2 = (right || b).x;\n    y2 = (right || b).y;\n    x3 = (left || a).x;\n    y3 = (left || a).y;\n    x4 = a.x;\n    y4 = a.y;\n    if (right && b.relative) {\n      x2 += b.x;\n      y2 += b.y;\n    }\n    if (left && a.relative) {\n      x3 += a.x;\n      y3 += a.y;\n    }\n    x = getComponentOnCubicBezier(t, x1, x2, x3, x4);\n    y = getComponentOnCubicBezier(t, y1, y2, y3, y4);\n    const t1x = lerp(x1, x2, t);\n    const t1y = lerp(y1, y2, t);\n    const t2x = lerp(x2, x3, t);\n    const t2y = lerp(y2, y3, t);\n    const t3x = lerp(x3, x4, t);\n    const t3y = lerp(y3, y4, t);\n    const brx = lerp(t1x, t2x, t);\n    const bry = lerp(t1y, t2y, t);\n    const alx = lerp(t2x, t3x, t);\n    const aly = lerp(t2y, t3y, t);\n    if (_.isObject(obj)) {\n      obj.x = x;\n      obj.y = y;\n      if (obj instanceof Anchor) {\n        obj.controls.left.x = brx;\n        obj.controls.left.y = bry;\n        obj.controls.right.x = alx;\n        obj.controls.right.y = aly;\n        if (!(typeof obj.relative === \"boolean\") || obj.relative) {\n          obj.controls.left.x -= x;\n          obj.controls.left.y -= y;\n          obj.controls.right.x -= x;\n          obj.controls.right.y -= y;\n        }\n      }\n      obj.t = t;\n      return obj;\n    }\n    result = new Anchor(\n      x,\n      y,\n      brx - x,\n      bry - y,\n      alx - x,\n      aly - y,\n      this._curved ? Commands.curve : Commands.line\n    );\n    result.t = t;\n    return result;\n  }\n  plot() {\n    if (this.curved) {\n      getCurveFromPoints(this._collection, this.closed);\n      return this;\n    }\n    for (let i = 0; i < this._collection.length; i++) {\n      this._collection[i].command = i === 0 ? Commands.move : Commands.line;\n    }\n    return this;\n  }\n  subdivide(limit) {\n    this._update();\n    const last = this.vertices.length - 1;\n    const closed2 = this._closed || this.vertices[last]._command === Commands.close;\n    let b = this.vertices[last];\n    let points = [], verts;\n    _.each(\n      this.vertices,\n      function(a, i) {\n        if (i <= 0 && !closed2) {\n          b = a;\n          return;\n        }\n        if (a.command === Commands.move) {\n          points.push(new Anchor(b.x, b.y));\n          if (i > 0) {\n            points[points.length - 1].command = Commands.line;\n          }\n          b = a;\n          return;\n        }\n        verts = getSubdivisions(a, b, limit);\n        points = points.concat(verts);\n        _.each(verts, function(v, i2) {\n          if (i2 <= 0 && b.command === Commands.move) {\n            v.command = Commands.move;\n          } else {\n            v.command = Commands.line;\n          }\n        });\n        if (i >= last) {\n          if (this._closed && this._automatic) {\n            b = a;\n            verts = getSubdivisions(a, b, limit);\n            points = points.concat(verts);\n            _.each(verts, function(v, i2) {\n              if (i2 <= 0 && b.command === Commands.move) {\n                v.command = Commands.move;\n              } else {\n                v.command = Commands.line;\n              }\n            });\n          }\n          points.push(new Anchor(a.x, a.y));\n          points[points.length - 1].command = closed2 ? Commands.close : Commands.line;\n        }\n        b = a;\n      },\n      this\n    );\n    this._automatic = false;\n    this._curved = false;\n    this.vertices = points;\n    return this;\n  }\n  _updateLength(limit, silent) {\n    if (!silent) {\n      this._update();\n    }\n    const length = this.vertices.length;\n    const last = length - 1;\n    const closed2 = false;\n    let b = this.vertices[last];\n    let sum = 0;\n    if (typeof this._lengths === \"undefined\") {\n      this._lengths = [];\n    }\n    _.each(\n      this.vertices,\n      function(a, i) {\n        if (i <= 0 && !closed2 || a.command === Commands.move) {\n          b = a;\n          this._lengths[i] = 0;\n          return;\n        }\n        this._lengths[i] = getCurveLength2(a, b, limit);\n        sum += this._lengths[i];\n        if (i >= last && closed2) {\n          b = this.vertices[(i + 1) % length];\n          this._lengths[i + 1] = getCurveLength2(a, b, limit);\n          sum += this._lengths[i + 1];\n        }\n        b = a;\n      },\n      this\n    );\n    this._length = sum;\n    this._flagLength = false;\n    return this;\n  }\n  _update() {\n    if (this._flagVertices) {\n      if (this._automatic) {\n        this.plot();\n      }\n      if (this._flagLength) {\n        this._updateLength(void 0, true);\n      }\n      const l = this._collection.length;\n      const closed2 = this._closed;\n      const beginning = Math.min(this._beginning, this._ending);\n      const ending = Math.max(this._beginning, this._ending);\n      const bid = getIdByLength(this, beginning * this._length);\n      const eid = getIdByLength(this, ending * this._length);\n      const low = ceil(bid);\n      const high = floor2(eid);\n      let left, right, prev, next, v, i;\n      this._renderer.vertices.length = 0;\n      for (i = 0; i < l; i++) {\n        if (this._renderer.collection.length <= i) {\n          this._renderer.collection.push(new Anchor());\n        }\n        if (i > high && !right) {\n          v = this._renderer.collection[i].copy(this._collection[i]);\n          this.getPointAt(ending, v);\n          v.command = this._renderer.collection[i].command;\n          this._renderer.vertices.push(v);\n          right = v;\n          prev = this._collection[i - 1];\n          if (prev && prev.controls) {\n            if (v.relative) {\n              v.controls.right.clear();\n            } else {\n              v.controls.right.copy(v);\n            }\n            if (prev.relative) {\n              this._renderer.collection[i - 1].controls.right.copy(prev.controls.right).lerp(Vector.zero, 1 - v.t);\n            } else {\n              this._renderer.collection[i - 1].controls.right.copy(prev.controls.right).lerp(prev, 1 - v.t);\n            }\n          }\n        } else if (i >= low && i <= high) {\n          v = this._renderer.collection[i].copy(this._collection[i]);\n          this._renderer.vertices.push(v);\n          if (i === high && contains(this, ending)) {\n            right = v;\n            if (!closed2 && right.controls) {\n              if (right.relative) {\n                right.controls.right.clear();\n              } else {\n                right.controls.right.copy(right);\n              }\n            }\n          } else if (i === low && contains(this, beginning)) {\n            left = v;\n            left.command = Commands.move;\n            if (!closed2 && left.controls) {\n              if (left.relative) {\n                left.controls.left.clear();\n              } else {\n                left.controls.left.copy(left);\n              }\n            }\n          }\n        }\n      }\n      if (low > 0 && !left) {\n        i = low - 1;\n        v = this._renderer.collection[i].copy(this._collection[i]);\n        this.getPointAt(beginning, v);\n        v.command = Commands.move;\n        this._renderer.vertices.unshift(v);\n        next = this._collection[i + 1];\n        if (next && next.controls) {\n          v.controls.left.clear();\n          if (next.relative) {\n            this._renderer.collection[i + 1].controls.left.copy(next.controls.left).lerp(Vector.zero, v.t);\n          } else {\n            vector.copy(next);\n            this._renderer.collection[i + 1].controls.left.copy(next.controls.left).lerp(next, v.t);\n          }\n        }\n      }\n    }\n    Shape.prototype._update.apply(this, arguments);\n    return this;\n  }\n  flagReset() {\n    this._flagVertices = this._flagLength = this._flagFill = this._flagStroke = this._flagLinewidth = this._flagOpacity = this._flagVisible = this._flagCap = this._flagJoin = this._flagMiter = this._flagClip = false;\n    Shape.prototype.flagReset.call(this);\n    return this;\n  }\n};\nvar Path = _Path;\n__publicField(Path, \"Properties\", [\n  \"fill\",\n  \"stroke\",\n  \"linewidth\",\n  \"opacity\",\n  \"visible\",\n  \"cap\",\n  \"join\",\n  \"miter\",\n  \"closed\",\n  \"curved\",\n  \"automatic\",\n  \"beginning\",\n  \"ending\",\n  \"dashes\"\n]);\n__publicField(Path, \"Utils\", {\n  getCurveLength: getCurveLength2\n});\nvar proto10 = {\n  linewidth: {\n    enumerable: true,\n    get: function() {\n      return this._linewidth;\n    },\n    set: function(v) {\n      this._linewidth = v;\n      this._flagLinewidth = true;\n    }\n  },\n  opacity: {\n    enumerable: true,\n    get: function() {\n      return this._opacity;\n    },\n    set: function(v) {\n      this._opacity = v;\n      this._flagOpacity = true;\n    }\n  },\n  visible: {\n    enumerable: true,\n    get: function() {\n      return this._visible;\n    },\n    set: function(v) {\n      this._visible = v;\n      this._flagVisible = true;\n    }\n  },\n  cap: {\n    enumerable: true,\n    get: function() {\n      return this._cap;\n    },\n    set: function(v) {\n      this._cap = v;\n      this._flagCap = true;\n    }\n  },\n  join: {\n    enumerable: true,\n    get: function() {\n      return this._join;\n    },\n    set: function(v) {\n      this._join = v;\n      this._flagJoin = true;\n    }\n  },\n  miter: {\n    enumerable: true,\n    get: function() {\n      return this._miter;\n    },\n    set: function(v) {\n      this._miter = v;\n      this._flagMiter = true;\n    }\n  },\n  fill: {\n    enumerable: true,\n    get: function() {\n      return this._fill;\n    },\n    set: function(f) {\n      if (this._fill instanceof Gradient || this._fill instanceof LinearGradient || this._fill instanceof RadialGradient || this._fill instanceof Texture) {\n        this._fill.unbind(Events.Types.change, this._renderer.flagFill);\n      }\n      this._fill = f;\n      this._flagFill = true;\n      if (this._fill instanceof Gradient || this._fill instanceof LinearGradient || this._fill instanceof RadialGradient || this._fill instanceof Texture) {\n        this._fill.bind(Events.Types.change, this._renderer.flagFill);\n      }\n    }\n  },\n  stroke: {\n    enumerable: true,\n    get: function() {\n      return this._stroke;\n    },\n    set: function(f) {\n      if (this._stroke instanceof Gradient || this._stroke instanceof LinearGradient || this._stroke instanceof RadialGradient || this._stroke instanceof Texture) {\n        this._stroke.unbind(Events.Types.change, this._renderer.flagStroke);\n      }\n      this._stroke = f;\n      this._flagStroke = true;\n      if (this._stroke instanceof Gradient || this._stroke instanceof LinearGradient || this._stroke instanceof RadialGradient || this._stroke instanceof Texture) {\n        this._stroke.bind(Events.Types.change, this._renderer.flagStroke);\n      }\n    }\n  },\n  length: {\n    get: function() {\n      if (this._flagLength) {\n        this._updateLength();\n      }\n      return this._length;\n    }\n  },\n  closed: {\n    enumerable: true,\n    get: function() {\n      return this._closed;\n    },\n    set: function(v) {\n      this._closed = !!v;\n      this._flagVertices = true;\n    }\n  },\n  curved: {\n    enumerable: true,\n    get: function() {\n      return this._curved;\n    },\n    set: function(v) {\n      this._curved = !!v;\n      this._flagVertices = true;\n    }\n  },\n  automatic: {\n    enumerable: true,\n    get: function() {\n      return this._automatic;\n    },\n    set: function(v) {\n      if (v === this._automatic) {\n        return;\n      }\n      this._automatic = !!v;\n      const method = this._automatic ? \"ignore\" : \"listen\";\n      _.each(this.vertices, function(v2) {\n        v2[method]();\n      });\n    }\n  },\n  beginning: {\n    enumerable: true,\n    get: function() {\n      return this._beginning;\n    },\n    set: function(v) {\n      this._beginning = v;\n      this._flagVertices = true;\n    }\n  },\n  ending: {\n    enumerable: true,\n    get: function() {\n      return this._ending;\n    },\n    set: function(v) {\n      this._ending = v;\n      this._flagVertices = true;\n    }\n  },\n  vertices: {\n    enumerable: true,\n    get: function() {\n      return this._collection;\n    },\n    set: function(vertices) {\n      const bindVertices = this._renderer.bindVertices;\n      const unbindVertices = this._renderer.unbindVertices;\n      if (this._collection) {\n        this._collection.unbind(Events.Types.insert, bindVertices).unbind(Events.Types.remove, unbindVertices);\n      }\n      if (vertices instanceof Collection) {\n        this._collection = vertices;\n      } else {\n        this._collection = new Collection(vertices || []);\n      }\n      this._collection.bind(Events.Types.insert, bindVertices).bind(Events.Types.remove, unbindVertices);\n      bindVertices(this._collection);\n    }\n  },\n  mask: {\n    enumerable: true,\n    get: function() {\n      return this._mask;\n    },\n    set: function(v) {\n      this._mask = v;\n      this._flagMask = true;\n      if (_.isObject(v) && !v.clip) {\n        v.clip = true;\n      }\n    }\n  },\n  clip: {\n    enumerable: true,\n    get: function() {\n      return this._clip;\n    },\n    set: function(v) {\n      this._clip = v;\n      this._flagClip = true;\n    }\n  },\n  dashes: {\n    enumerable: true,\n    get: function() {\n      return this._dashes;\n    },\n    set: function(v) {\n      if (typeof v.offset !== \"number\") {\n        v.offset = this.dashes && this._dashes.offset || 0;\n      }\n      this._dashes = v;\n    }\n  }\n};\nfunction FlagVertices() {\n  this._flagVertices = true;\n  this._flagLength = true;\n  if (this.parent) {\n    this.parent._flagLength = true;\n  }\n}\nfunction BindVertices(items) {\n  let i = items.length;\n  while (i--) {\n    items[i].bind(Events.Types.change, this._renderer.flagVertices);\n  }\n  this._renderer.flagVertices();\n}\nfunction UnbindVertices(items) {\n  let i = items.length;\n  while (i--) {\n    items[i].unbind(Events.Types.change, this._renderer.flagVertices);\n  }\n  this._renderer.flagVertices();\n}\nfunction FlagFill() {\n  this._flagFill = true;\n}\nfunction FlagStroke() {\n  this._flagStroke = true;\n}\n\n// src/shapes/rectangle.js\nvar _Rectangle = class extends Path {\n  constructor(x, y, width, height) {\n    const points = [\n      new Anchor(),\n      new Anchor(),\n      new Anchor(),\n      new Anchor()\n    ];\n    super(points, true, false, true);\n    __publicField(this, \"_flagWidth\", 0);\n    __publicField(this, \"_flagHeight\", 0);\n    __publicField(this, \"_width\", 0);\n    __publicField(this, \"_height\", 0);\n    __publicField(this, \"_origin\", null);\n    this._renderer.type = \"rectangle\";\n    for (let prop in proto11) {\n      Object.defineProperty(this, prop, proto11[prop]);\n    }\n    this.width = typeof width === \"number\" ? width : 1;\n    this.height = typeof height === \"number\" ? height : 1;\n    this.origin = new Vector();\n    if (typeof x === \"number\") {\n      this.translation.x = x;\n    }\n    if (typeof y === \"number\") {\n      this.translation.y = y;\n    }\n    this._update();\n  }\n  static fromObject(obj) {\n    const rectangle = new _Rectangle().copy(obj);\n    if (\"id\" in obj) {\n      rectangle.id = obj.id;\n    }\n    return rectangle;\n  }\n  copy(rectangle) {\n    super.copy.call(this, rectangle);\n    for (let i = 0; i < _Rectangle.Properties.length; i++) {\n      const k = _Rectangle.Properties[i];\n      if (k in rectangle && typeof rectangle[k] === \"number\") {\n        this[k] = rectangle[k];\n      }\n    }\n    return this;\n  }\n  _update() {\n    if (this._flagVertices || this._flagWidth || this._flagHeight) {\n      const xr = this._width / 2;\n      const yr = this._height / 2;\n      if (!this._closed && this.vertices.length === 4) {\n        this.vertices.push(new Anchor());\n      }\n      this.vertices[0].set(-xr, -yr).sub(this._origin).command = Commands.move;\n      this.vertices[1].set(xr, -yr).sub(this._origin).command = Commands.line;\n      this.vertices[2].set(xr, yr).sub(this._origin).command = Commands.line;\n      this.vertices[3].set(-xr, yr).sub(this._origin).command = Commands.line;\n      if (this.vertices[4]) {\n        this.vertices[4].set(-xr, -yr).sub(this._origin).command = Commands.line;\n      }\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    this._flagWidth = this._flagHeight = false;\n    super.flagReset.call(this);\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Rectangle(0, 0, this.width, this.height);\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    for (let i = 0; i < Path.Properties.length; i++) {\n      const k = Path.Properties[i];\n      clone[k] = this[k];\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.renderer.type = \"rectangle\";\n    object.width = this.width;\n    object.height = this.height;\n    object.origin = this.origin.toObject();\n    return object;\n  }\n};\nvar Rectangle = _Rectangle;\n__publicField(Rectangle, \"Properties\", [\"width\", \"height\"]);\nvar proto11 = {\n  width: {\n    enumerable: true,\n    get: function() {\n      return this._width;\n    },\n    set: function(v) {\n      this._width = v;\n      this._flagWidth = true;\n    }\n  },\n  height: {\n    enumerable: true,\n    get: function() {\n      return this._height;\n    },\n    set: function(v) {\n      this._height = v;\n      this._flagHeight = true;\n    }\n  },\n  origin: {\n    enumerable: true,\n    get: function() {\n      return this._origin;\n    },\n    set: function(v) {\n      if (this._origin) {\n        this._origin.unbind(Events.Types.change, this._renderer.flagVertices);\n      }\n      this._origin = v;\n      this._origin.bind(Events.Types.change, this._renderer.flagVertices);\n      this._renderer.flagVertices();\n    }\n  }\n};\n\n// src/effects/sprite.js\nvar _Sprite = class extends Rectangle {\n  constructor(path, ox, oy, cols, rows, frameRate) {\n    super(ox, oy, 0, 0);\n    __publicField(this, \"_flagTexture\", false);\n    __publicField(this, \"_flagColumns\", false);\n    __publicField(this, \"_flagRows\", false);\n    __publicField(this, \"_flagFrameRate\", false);\n    __publicField(this, \"_flagIndex\", false);\n    __publicField(this, \"_amount\", 1);\n    __publicField(this, \"_duration\", 0);\n    __publicField(this, \"_startTime\", 0);\n    __publicField(this, \"_playing\", false);\n    __publicField(this, \"_firstFrame\", 0);\n    __publicField(this, \"_lastFrame\", 0);\n    __publicField(this, \"_loop\", true);\n    __publicField(this, \"_texture\", null);\n    __publicField(this, \"_columns\", 1);\n    __publicField(this, \"_rows\", 1);\n    __publicField(this, \"_frameRate\", 0);\n    __publicField(this, \"_index\", 0);\n    __publicField(this, \"_origin\", null);\n    for (let prop in proto12) {\n      Object.defineProperty(this, prop, proto12[prop]);\n    }\n    this.noStroke();\n    this.noFill();\n    if (path instanceof Texture) {\n      this.texture = path;\n    } else if (typeof path === \"string\") {\n      this.texture = new Texture(path);\n    }\n    this.origin = new Vector();\n    this._update();\n    if (typeof cols === \"number\") {\n      this.columns = cols;\n    }\n    if (typeof rows === \"number\") {\n      this.rows = rows;\n    }\n    if (typeof frameRate === \"number\") {\n      this.frameRate = frameRate;\n    }\n    this.index = 0;\n  }\n  static fromObject(obj) {\n    const sprite = new _Sprite().copy(obj);\n    if (\"id\" in obj) {\n      sprite.id = obj.id;\n    }\n    return sprite;\n  }\n  copy(sprite) {\n    super.copy.call(this, sprite);\n    for (let i = 0; i < _Sprite.Properties.length; i++) {\n      const k = _Sprite.Properties[i];\n      if (k in sprite) {\n        this[k] = sprite[k];\n      }\n    }\n    return this;\n  }\n  play(firstFrame, lastFrame, onLastFrame) {\n    this._playing = true;\n    this._firstFrame = 0;\n    this._lastFrame = this.amount - 1;\n    this._startTime = _.performance.now();\n    if (typeof firstFrame === \"number\") {\n      this._firstFrame = firstFrame;\n    }\n    if (typeof lastFrame === \"number\") {\n      this._lastFrame = lastFrame;\n    }\n    if (typeof onLastFrame === \"function\") {\n      this._onLastFrame = onLastFrame;\n    } else {\n      delete this._onLastFrame;\n    }\n    if (this._index !== this._firstFrame) {\n      this._startTime -= 1e3 * Math.abs(this._index - this._firstFrame) / this._frameRate;\n    }\n    return this;\n  }\n  pause() {\n    this._playing = false;\n    return this;\n  }\n  stop() {\n    this._playing = false;\n    this._index = 0;\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Sprite(\n      this.texture,\n      this.translation.x,\n      this.translation.y,\n      this.columns,\n      this.rows,\n      this.frameRate\n    );\n    if (this.playing) {\n      clone.play(this._firstFrame, this._lastFrame);\n    }\n    clone.loop = this.loop;\n    clone.firstFrame = this.firstFrame;\n    clone.lastFrame = this.lastFrame;\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.texture = this.texture.toObject();\n    object.columns = this.columns;\n    object.rows = this.rows;\n    object.frameRate = this.frameRate;\n    object.index = this.index;\n    object.firstFrame = this.firstFrame;\n    object.lastFrame = this.lastFrame;\n    object.loop = this.loop;\n    return object;\n  }\n  _update() {\n    const effect = this._texture;\n    const cols = this._columns;\n    const rows = this._rows;\n    let width, height, elapsed, amount, duration;\n    let index, iw, ih, frames;\n    if (effect) {\n      if (this._flagColumns || this._flagRows) {\n        this._amount = this._columns * this._rows;\n      }\n      if (this._flagFrameRate) {\n        this._duration = 1e3 * this._amount / this._frameRate;\n      }\n      if (this._flagTexture) {\n        this.fill = effect;\n      }\n      if (effect.loaded) {\n        iw = effect.image.width;\n        ih = effect.image.height;\n        width = iw / cols;\n        height = ih / rows;\n        amount = this._amount;\n        if (this.width !== width) {\n          this.width = width;\n        }\n        if (this.height !== height) {\n          this.height = height;\n        }\n        if (this._playing && this._frameRate > 0) {\n          if (_.isNaN(this._lastFrame)) {\n            this._lastFrame = amount - 1;\n          }\n          elapsed = _.performance.now() - this._startTime;\n          frames = this._lastFrame + 1;\n          duration = 1e3 * (frames - this._firstFrame) / this._frameRate;\n          if (this._loop) {\n            elapsed = elapsed % duration;\n          } else {\n            elapsed = Math.min(elapsed, duration);\n          }\n          index = lerp(this._firstFrame, frames, elapsed / duration);\n          index = Math.floor(index);\n          if (index !== this._index) {\n            this._index = index;\n            if (index >= this._lastFrame - 1 && this._onLastFrame) {\n              this._onLastFrame();\n            }\n          }\n        }\n        const col = this._index % cols;\n        const row = Math.floor(this._index / cols);\n        const ox = -width * col + (iw - width) / 2;\n        const oy = -height * row + (ih - height) / 2;\n        if (ox !== effect.offset.x) {\n          effect.offset.x = ox;\n        }\n        if (oy !== effect.offset.y) {\n          effect.offset.y = oy;\n        }\n      }\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    this._flagTexture = this._flagColumns = this._flagRows = this._flagFrameRate = false;\n    super.flagReset.call(this);\n    return this;\n  }\n};\nvar Sprite = _Sprite;\n__publicField(Sprite, \"Properties\", [\n  \"texture\",\n  \"columns\",\n  \"rows\",\n  \"frameRate\",\n  \"index\",\n  \"firstFrame\",\n  \"lastFrame\",\n  \"loop\"\n]);\nvar proto12 = {\n  texture: {\n    enumerable: true,\n    get: function() {\n      return this._texture;\n    },\n    set: function(v) {\n      this._texture = v;\n      this._flagTexture = true;\n    }\n  },\n  columns: {\n    enumerable: true,\n    get: function() {\n      return this._columns;\n    },\n    set: function(v) {\n      this._columns = v;\n      this._flagColumns = true;\n    }\n  },\n  rows: {\n    enumerable: true,\n    get: function() {\n      return this._rows;\n    },\n    set: function(v) {\n      this._rows = v;\n      this._flagRows = true;\n    }\n  },\n  frameRate: {\n    enumerable: true,\n    get: function() {\n      return this._frameRate;\n    },\n    set: function(v) {\n      this._frameRate = v;\n      this._flagFrameRate = true;\n    }\n  },\n  index: {\n    enumerable: true,\n    get: function() {\n      return this._index;\n    },\n    set: function(v) {\n      this._index = v;\n      this._flagIndex = true;\n    }\n  },\n  firstFrame: {\n    enumerable: true,\n    get: function() {\n      return this._firstFrame;\n    },\n    set: function(v) {\n      this._firstFrame = v;\n    }\n  },\n  lastFrame: {\n    enumerable: true,\n    get: function() {\n      return this._lastFrame;\n    },\n    set: function(v) {\n      this._lastFrame = v;\n    }\n  },\n  loop: {\n    enumerable: true,\n    get: function() {\n      return this._loop;\n    },\n    set: function(v) {\n      this._loop = !!v;\n    }\n  }\n};\n\n// src/children.js\nvar _ids;\nvar Children = class extends Collection {\n  constructor(children) {\n    children = Array.isArray(children) ? children : Array.prototype.slice.call(arguments);\n    super(children);\n    __privateAdd(this, _ids, {});\n    this.attach(children);\n    this.on(Events.Types.insert, this.attach);\n    this.on(Events.Types.remove, this.detach);\n  }\n  get ids() {\n    return __privateGet(this, _ids);\n  }\n  attach(children) {\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child && child.id) {\n        this.ids[child.id] = child;\n      }\n    }\n    return this;\n  }\n  detach(children) {\n    for (let i = 0; i < children.length; i++) {\n      delete this.ids[children[i].id];\n    }\n    return this;\n  }\n};\n_ids = new WeakMap();\n\n// src/shapes/arc-segment.js\nvar _ArcSegment = class extends Path {\n  constructor(x, y, ir, or, sa, ea, res) {\n    const amount = res || Constants.Resolution * 3;\n    const points = [];\n    for (let i = 0; i < amount; i++) {\n      points.push(new Anchor());\n    }\n    super(points, true, false, true);\n    __publicField(this, \"_flagStartAngle\", false);\n    __publicField(this, \"_flagEndAngle\", false);\n    __publicField(this, \"_flagInnerRadius\", false);\n    __publicField(this, \"_flagOuterRadius\", false);\n    __publicField(this, \"_startAngle\", 0);\n    __publicField(this, \"_endAngle\", TWO_PI);\n    __publicField(this, \"_innerRadius\", 0);\n    __publicField(this, \"_outerRadius\", 0);\n    this._renderer.type = \"arc-segment\";\n    for (let prop in proto13) {\n      Object.defineProperty(this, prop, proto13[prop]);\n    }\n    if (typeof ir === \"number\") {\n      this.innerRadius = ir;\n    }\n    if (typeof or === \"number\") {\n      this.outerRadius = or;\n    }\n    if (typeof sa === \"number\") {\n      this.startAngle = sa;\n    }\n    if (typeof ea === \"number\") {\n      this.endAngle = ea;\n    }\n    this._update();\n    if (typeof x === \"number\") {\n      this.translation.x = x;\n    }\n    if (typeof y === \"number\") {\n      this.translation.y = y;\n    }\n  }\n  static fromObject(obj) {\n    const segment = new _ArcSegment().copy(obj);\n    if (\"id\" in obj) {\n      segment.id = obj.id;\n    }\n    return segment;\n  }\n  copy(arcSegment) {\n    super.copy.call(this, arcSegment);\n    for (let i = 0; i < _ArcSegment.Properties.length; i++) {\n      const k = _ArcSegment.Properties[i];\n      if (k in arcSegment && typeof arcSegment[k] === \"number\") {\n        this[k] = arcSegment[k];\n      }\n    }\n    return this;\n  }\n  _update() {\n    if (this._flagVertices || this._flagStartAngle || this._flagEndAngle || this._flagInnerRadius || this._flagOuterRadius) {\n      const sa = this._startAngle;\n      const ea = this._endAngle;\n      const ir = this._innerRadius;\n      const or = this._outerRadius;\n      const connected = mod(sa, TWO_PI) === mod(ea, TWO_PI);\n      const punctured = ir > 0;\n      const vertices = this.vertices;\n      let length = punctured ? vertices.length / 2 : vertices.length;\n      let command, id = 0;\n      let i, last, pct, v, theta, step, x, y, amp;\n      if (connected) {\n        length--;\n      } else if (!punctured) {\n        length -= 2;\n      }\n      for (i = 0, last = length - 1; i < length; i++) {\n        pct = i / last;\n        v = vertices[id];\n        theta = pct * (ea - sa) + sa;\n        step = (ea - sa) / length;\n        x = or * Math.cos(theta);\n        y = or * Math.sin(theta);\n        switch (i) {\n          case 0:\n            command = Commands.move;\n            break;\n          default:\n            command = Commands.curve;\n        }\n        v.command = command;\n        v.x = x;\n        v.y = y;\n        v.controls.left.clear();\n        v.controls.right.clear();\n        if (v.command === Commands.curve) {\n          amp = or * step / Math.PI;\n          v.controls.left.x = amp * Math.cos(theta - HALF_PI);\n          v.controls.left.y = amp * Math.sin(theta - HALF_PI);\n          v.controls.right.x = amp * Math.cos(theta + HALF_PI);\n          v.controls.right.y = amp * Math.sin(theta + HALF_PI);\n          if (i === 1) {\n            v.controls.left.multiplyScalar(2);\n          }\n          if (i === last) {\n            v.controls.right.multiplyScalar(2);\n          }\n        }\n        id++;\n      }\n      if (punctured) {\n        if (connected) {\n          vertices[id].command = Commands.close;\n          id++;\n        } else {\n          length--;\n          last = length - 1;\n        }\n        for (i = 0; i < length; i++) {\n          pct = i / last;\n          v = vertices[id];\n          theta = (1 - pct) * (ea - sa) + sa;\n          step = (ea - sa) / length;\n          x = ir * Math.cos(theta);\n          y = ir * Math.sin(theta);\n          command = Commands.curve;\n          if (i <= 0) {\n            command = connected ? Commands.move : Commands.line;\n          }\n          v.command = command;\n          v.x = x;\n          v.y = y;\n          v.controls.left.clear();\n          v.controls.right.clear();\n          if (v.command === Commands.curve) {\n            amp = ir * step / Math.PI;\n            v.controls.left.x = amp * Math.cos(theta + HALF_PI);\n            v.controls.left.y = amp * Math.sin(theta + HALF_PI);\n            v.controls.right.x = amp * Math.cos(theta - HALF_PI);\n            v.controls.right.y = amp * Math.sin(theta - HALF_PI);\n            if (i === 1) {\n              v.controls.left.multiplyScalar(2);\n            }\n            if (i === last) {\n              v.controls.right.multiplyScalar(2);\n            }\n          }\n          id++;\n        }\n        vertices[id].copy(vertices[0]);\n        vertices[id].command = Commands.line;\n      } else if (!connected) {\n        vertices[id].command = Commands.line;\n        vertices[id].x = 0;\n        vertices[id].y = 0;\n        id++;\n        vertices[id].copy(vertices[0]);\n        vertices[id].command = Commands.line;\n      }\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    super.flagReset.call(this);\n    this._flagStartAngle = this._flagEndAngle = this._flagInnerRadius = this._flagOuterRadius = false;\n    return this;\n  }\n  clone(parent) {\n    const ir = this.innerRadius;\n    const or = this.outerRadius;\n    const sa = this.startAngle;\n    const ea = this.endAngle;\n    const resolution = this.vertices.length;\n    const clone = new _ArcSegment(0, 0, ir, or, sa, ea, resolution);\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    for (let i = 0; i < Path.Properties.length; i++) {\n      const k = Path.Properties[i];\n      clone[k] = this[k];\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.renderer.type = \"arc-segment\";\n    for (let i = 0; i < _ArcSegment.Properties.length; i++) {\n      const k = _ArcSegment.Properties[i];\n      object[k] = this[k];\n    }\n    return object;\n  }\n};\nvar ArcSegment = _ArcSegment;\n__publicField(ArcSegment, \"Properties\", [\"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\"]);\nvar proto13 = {\n  startAngle: {\n    enumerable: true,\n    get: function() {\n      return this._startAngle;\n    },\n    set: function(v) {\n      this._startAngle = v;\n      this._flagStartAngle = true;\n    }\n  },\n  endAngle: {\n    enumerable: true,\n    get: function() {\n      return this._endAngle;\n    },\n    set: function(v) {\n      this._endAngle = v;\n      this._flagEndAngle = true;\n    }\n  },\n  innerRadius: {\n    enumerable: true,\n    get: function() {\n      return this._innerRadius;\n    },\n    set: function(v) {\n      this._innerRadius = v;\n      this._flagInnerRadius = true;\n    }\n  },\n  outerRadius: {\n    enumerable: true,\n    get: function() {\n      return this._outerRadius;\n    },\n    set: function(v) {\n      this._outerRadius = v;\n      this._flagOuterRadius = true;\n    }\n  }\n};\n\n// src/shapes/circle.js\nvar cos2 = Math.cos;\nvar sin2 = Math.sin;\nvar _Circle = class extends Path {\n  constructor(ox, oy, r, resolution) {\n    const amount = resolution ? Math.max(resolution, 2) : 4;\n    const points = [];\n    for (let i = 0; i < amount; i++) {\n      points.push(new Anchor(0, 0, 0, 0, 0, 0));\n    }\n    super(points, true, true, true);\n    __publicField(this, \"_flagRadius\", false);\n    __publicField(this, \"_radius\", 0);\n    this._renderer.type = \"circle\";\n    for (let prop in proto14) {\n      Object.defineProperty(this, prop, proto14[prop]);\n    }\n    if (typeof r === \"number\") {\n      this.radius = r;\n    }\n    this._update();\n    if (typeof ox === \"number\") {\n      this.translation.x = ox;\n    }\n    if (typeof oy === \"number\") {\n      this.translation.y = oy;\n    }\n  }\n  static fromObject(obj) {\n    const circle = new _Circle().copy(obj);\n    if (\"id\" in obj) {\n      circle.id = obj.id;\n    }\n    return circle;\n  }\n  copy(circle) {\n    super.copy.call(this, circle);\n    for (let i = 0; i < _Circle.Properties.length; i++) {\n      const k = _Circle.Properties[i];\n      if (k in circle && typeof circle[k] === \"number\") {\n        this[k] = circle[k];\n      }\n    }\n    return this;\n  }\n  _update() {\n    if (this._flagVertices || this._flagRadius) {\n      let length = this.vertices.length;\n      if (!this._closed && length > 2) {\n        length -= 1;\n      }\n      const c = 4 / 3 * Math.tan(Math.PI / (length * 2));\n      const radius = this._radius;\n      const rc = radius * c;\n      for (let i = 0; i < this.vertices.length; i++) {\n        const pct = i / length;\n        const theta = pct * TWO_PI;\n        const x = radius * cos2(theta);\n        const y = radius * sin2(theta);\n        const lx = rc * cos2(theta - HALF_PI);\n        const ly = rc * sin2(theta - HALF_PI);\n        const rx = rc * cos2(theta + HALF_PI);\n        const ry = rc * sin2(theta + HALF_PI);\n        const v = this.vertices[i];\n        v.command = i === 0 ? Commands.move : Commands.curve;\n        v.set(x, y);\n        v.controls.left.set(lx, ly);\n        v.controls.right.set(rx, ry);\n      }\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    this._flagRadius = false;\n    super.flagReset.call(this);\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Circle(0, 0, this.radius, this.vertices.length);\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    for (let i = 0; i < Path.Properties.length; i++) {\n      const k = Path.Properties[i];\n      clone[k] = this[k];\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.renderer.type = \"circle\";\n    for (let i = 0; i < _Circle.Properties.length; i++) {\n      const k = _Circle.Properties[i];\n      object[k] = this[k];\n    }\n    return object;\n  }\n};\nvar Circle = _Circle;\n__publicField(Circle, \"Properties\", [\"radius\"]);\nvar proto14 = {\n  radius: {\n    enumerable: true,\n    get: function() {\n      return this._radius;\n    },\n    set: function(v) {\n      this._radius = v;\n      this._flagRadius = true;\n    }\n  }\n};\n\n// src/shapes/ellipse.js\nvar cos3 = Math.cos;\nvar sin3 = Math.sin;\nvar _Ellipse = class extends Path {\n  constructor(x, y, rx, ry, resolution) {\n    if (typeof ry !== \"number\" && typeof rx === \"number\") {\n      ry = rx;\n    }\n    const amount = resolution ? Math.max(resolution, 2) : 4;\n    const points = [];\n    for (let i = 0; i < amount; i++) {\n      points.push(new Anchor());\n    }\n    super(points, true, true, true);\n    __publicField(this, \"_flagWidth\", false);\n    __publicField(this, \"_flagHeight\", false);\n    __publicField(this, \"_width\", 0);\n    __publicField(this, \"_height\", 0);\n    this._renderer.type = \"ellipse\";\n    for (let prop in proto15) {\n      Object.defineProperty(this, prop, proto15[prop]);\n    }\n    if (typeof rx === \"number\") {\n      this.width = rx * 2;\n    }\n    if (typeof ry === \"number\") {\n      this.height = ry * 2;\n    }\n    this._update();\n    if (typeof x === \"number\") {\n      this.translation.x = x;\n    }\n    if (typeof y === \"number\") {\n      this.translation.y = y;\n    }\n  }\n  static fromObject(obj) {\n    const ellipse = new _Ellipse().copy(obj);\n    if (\"id\" in obj) {\n      ellipse.id = obj.id;\n    }\n    return ellipse;\n  }\n  copy(ellipse) {\n    super.copy.call(this, ellipse);\n    for (let i = 0; i < _Ellipse.Properties.length; i++) {\n      const k = _Ellipse.Properties[i];\n      if (k in ellipse && typeof ellipse[k] === \"number\") {\n        this[k] = ellipse[k];\n      }\n    }\n    return this;\n  }\n  _update() {\n    if (this._flagVertices || this._flagWidth || this._flagHeight) {\n      let length = this.vertices.length;\n      if (!this._closed && length > 2) {\n        length -= 1;\n      }\n      const c = 4 / 3 * Math.tan(Math.PI / (this.vertices.length * 2));\n      const radiusX = this._width / 2;\n      const radiusY = this._height / 2;\n      for (let i = 0; i < this.vertices.length; i++) {\n        const pct = i / length;\n        const theta = pct * TWO_PI;\n        const x = radiusX * cos3(theta);\n        const y = radiusY * sin3(theta);\n        const lx = radiusX * c * cos3(theta - HALF_PI);\n        const ly = radiusY * c * sin3(theta - HALF_PI);\n        const rx = radiusX * c * cos3(theta + HALF_PI);\n        const ry = radiusY * c * sin3(theta + HALF_PI);\n        const v = this.vertices[i];\n        v.command = i === 0 ? Commands.move : Commands.curve;\n        v.set(x, y);\n        v.controls.left.set(lx, ly);\n        v.controls.right.set(rx, ry);\n      }\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    this._flagWidth = this._flagHeight = false;\n    super.flagReset.call(this);\n    return this;\n  }\n  clone(parent) {\n    const rx = this.width / 2;\n    const ry = this.height / 2;\n    const resolution = this.vertices.length;\n    const clone = new _Ellipse(0, 0, rx, ry, resolution);\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    for (let i = 0; i < Path.Properties.length; i++) {\n      const k = Path.Properties[i];\n      clone[k] = this[k];\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.renderer.type = \"ellipse\";\n    for (let i = 0; i < _Ellipse.Properties.length; i++) {\n      const k = _Ellipse.Properties[i];\n      object[k] = this[k];\n    }\n    return object;\n  }\n};\nvar Ellipse = _Ellipse;\n__publicField(Ellipse, \"Properties\", [\"width\", \"height\"]);\nvar proto15 = {\n  width: {\n    enumerable: true,\n    get: function() {\n      return this._width;\n    },\n    set: function(v) {\n      this._width = v;\n      this._flagWidth = true;\n    }\n  },\n  height: {\n    enumerable: true,\n    get: function() {\n      return this._height;\n    },\n    set: function(v) {\n      this._height = v;\n      this._flagHeight = true;\n    }\n  }\n};\n\n// src/shapes/points.js\nvar ceil2 = Math.ceil;\nvar floor3 = Math.floor;\nvar _Points = class extends Shape {\n  constructor(vertices) {\n    super();\n    __publicField(this, \"_flagVertices\", true);\n    __publicField(this, \"_flagLength\", true);\n    __publicField(this, \"_flagFill\", true);\n    __publicField(this, \"_flagStroke\", true);\n    __publicField(this, \"_flagLinewidth\", true);\n    __publicField(this, \"_flagOpacity\", true);\n    __publicField(this, \"_flagVisible\", true);\n    __publicField(this, \"_flagSize\", true);\n    __publicField(this, \"_flagSizeAttenuation\", true);\n    __publicField(this, \"_length\", 0);\n    __publicField(this, \"_fill\", \"#fff\");\n    __publicField(this, \"_stroke\", \"#000\");\n    __publicField(this, \"_linewidth\", 1);\n    __publicField(this, \"_opacity\", 1);\n    __publicField(this, \"_visible\", true);\n    __publicField(this, \"_size\", 1);\n    __publicField(this, \"_sizeAttenuation\", false);\n    __publicField(this, \"_beginning\", 0);\n    __publicField(this, \"_ending\", 1);\n    __publicField(this, \"_dashes\", null);\n    __publicField(this, \"noFill\", Path.prototype.noFill);\n    __publicField(this, \"noStroke\", Path.prototype.noStroke);\n    __publicField(this, \"corner\", Path.prototype.corner);\n    __publicField(this, \"center\", Path.prototype.center);\n    __publicField(this, \"getBoundingClientRect\", Path.prototype.getBoundingClientRect);\n    __publicField(this, \"_updateLength\", Path.prototype._updateLength);\n    for (let prop in proto16) {\n      Object.defineProperty(this, prop, proto16[prop]);\n    }\n    this._renderer.type = \"points\";\n    this._renderer.flagVertices = FlagVertices.bind(this);\n    this._renderer.bindVertices = BindVertices.bind(this);\n    this._renderer.unbindVertices = UnbindVertices.bind(this);\n    this._renderer.flagFill = FlagFill.bind(this);\n    this._renderer.flagStroke = FlagStroke.bind(this);\n    this._renderer.vertices = null;\n    this._renderer.collection = null;\n    this.size = 1;\n    this.sizeAttenuation = false;\n    this.beginning = 0;\n    this.ending = 1;\n    this.fill = \"#fff\";\n    this.stroke = \"#000\";\n    this.linewidth = 1;\n    this.opacity = 1;\n    this.className = \"\";\n    this.visible = true;\n    this.vertices = vertices;\n    this.dashes = [];\n    this.dashes.offset = 0;\n  }\n  static fromObject(obj) {\n    const fill = typeof obj.fill === \"string\" ? obj.fill : getEffectFromObject(obj.fill);\n    const stroke = typeof obj.stroke === \"string\" ? obj.stroke : getEffectFromObject(obj.stroke);\n    const points = new _Points().copy(__spreadProps(__spreadValues({}, obj), { fill, stroke }));\n    if (\"id\" in obj) {\n      points.id = obj.id;\n    }\n    return points;\n  }\n  copy(points) {\n    super.copy.call(this, points);\n    for (let j = 0; j < points.vertices.length; j++) {\n      const v = points.vertices[j];\n      if (v instanceof Anchor) {\n        this.vertices.push(points.vertices[j].clone());\n      } else {\n        this.vertices.push(new Anchor().copy(v));\n      }\n    }\n    for (let i = 0; i < _Points.Properties.length; i++) {\n      const k = _Points.Properties[i];\n      if (k in points) {\n        this[k] = points[k];\n      }\n    }\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Points();\n    for (let j = 0; j < this.vertices.length; j++) {\n      clone.vertices.push(this.vertices[j].clone());\n    }\n    for (let i = 0; i < _Points.Properties.length; i++) {\n      const k = _Points.Properties[i];\n      clone[k] = this[k];\n    }\n    clone.className = this.className;\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone._update();\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    result.renderer.type = \"points\";\n    result.vertices = this.vertices.map((v) => v.toObject());\n    _.each(\n      _Points.Properties,\n      function(k) {\n        if (typeof this[k] !== \"undefined\") {\n          if (this[k].toObject) {\n            result[k] = this[k].toObject();\n          } else {\n            result[k] = this[k];\n          }\n        }\n      },\n      this\n    );\n    return result;\n  }\n  subdivide(limit) {\n    this._update();\n    let points = [];\n    for (let i = 0; i < this.vertices.length; i++) {\n      const a = this.vertices[i];\n      const b = this.vertices[i - 1];\n      if (!b) {\n        continue;\n      }\n      const x1 = a.x;\n      const y1 = a.y;\n      const x2 = b.x;\n      const y2 = b.y;\n      const subdivisions = subdivide(x1, y1, x1, y1, x2, y2, x2, y2, limit);\n      points = points.concat(subdivisions);\n    }\n    this.vertices = points;\n    return this;\n  }\n  _update() {\n    if (this._flagVertices) {\n      if (this._flagLength) {\n        this._updateLength(void 0, true);\n      }\n      const beginning = Math.min(this._beginning, this._ending);\n      const ending = Math.max(this._beginning, this._ending);\n      const bid = getIdByLength(this, beginning * this._length);\n      const eid = getIdByLength(this, ending * this._length);\n      const low = ceil2(bid);\n      const high = floor3(eid);\n      let j = 0, v;\n      this._renderer.vertices = [];\n      this._renderer.collection = [];\n      for (let i = 0; i < this._collection.length; i++) {\n        if (i >= low && i <= high) {\n          v = this._collection[i];\n          this._renderer.collection.push(v);\n          this._renderer.vertices[j * 2 + 0] = v.x;\n          this._renderer.vertices[j * 2 + 1] = v.y;\n          j++;\n        }\n      }\n    }\n    super._update.apply(this, arguments);\n    return this;\n  }\n  flagReset() {\n    this._flagVertices = this._flagLength = this._flagFill = this._flagStroke = this._flagLinewidth = this._flagOpacity = this._flagVisible = this._flagSize = this._flagSizeAttenuation = false;\n    super.flagReset.call(this);\n    return this;\n  }\n};\nvar Points = _Points;\n__publicField(Points, \"Properties\", [\n  \"fill\",\n  \"stroke\",\n  \"linewidth\",\n  \"opacity\",\n  \"visible\",\n  \"size\",\n  \"sizeAttenuation\",\n  \"beginning\",\n  \"ending\",\n  \"dashes\"\n]);\nvar proto16 = {\n  linewidth: {\n    enumerable: true,\n    get: function() {\n      return this._linewidth;\n    },\n    set: function(v) {\n      this._linewidth = v;\n      this._flagLinewidth = true;\n    }\n  },\n  opacity: {\n    enumerable: true,\n    get: function() {\n      return this._opacity;\n    },\n    set: function(v) {\n      this._opacity = v;\n      this._flagOpacity = true;\n    }\n  },\n  visible: {\n    enumerable: true,\n    get: function() {\n      return this._visible;\n    },\n    set: function(v) {\n      this._visible = v;\n      this._flagVisible = true;\n    }\n  },\n  size: {\n    enumerable: true,\n    get: function() {\n      return this._size;\n    },\n    set: function(v) {\n      this._size = v;\n      this._flagSize = true;\n    }\n  },\n  sizeAttenuation: {\n    enumerable: true,\n    get: function() {\n      return this._sizeAttenuation;\n    },\n    set: function(v) {\n      this._sizeAttenuation = v;\n      this._flagSizeAttenuation = true;\n    }\n  },\n  fill: {\n    enumerable: true,\n    get: function() {\n      return this._fill;\n    },\n    set: function(f) {\n      if (this._fill instanceof Gradient || this._fill instanceof LinearGradient || this._fill instanceof RadialGradient || this._fill instanceof Texture) {\n        this._fill.unbind(Events.Types.change, this._renderer.flagFill);\n      }\n      this._fill = f;\n      this._flagFill = true;\n      if (this._fill instanceof Gradient || this._fill instanceof LinearGradient || this._fill instanceof RadialGradient || this._fill instanceof Texture) {\n        this._fill.bind(Events.Types.change, this._renderer.flagFill);\n      }\n    }\n  },\n  stroke: {\n    enumerable: true,\n    get: function() {\n      return this._stroke;\n    },\n    set: function(f) {\n      if (this._stroke instanceof Gradient || this._stroke instanceof LinearGradient || this._stroke instanceof RadialGradient || this._stroke instanceof Texture) {\n        this._stroke.unbind(Events.Types.change, this._renderer.flagStroke);\n      }\n      this._stroke = f;\n      this._flagStroke = true;\n      if (this._stroke instanceof Gradient || this._stroke instanceof LinearGradient || this._stroke instanceof RadialGradient || this._stroke instanceof Texture) {\n        this._stroke.bind(Events.Types.change, this._renderer.flagStroke);\n      }\n    }\n  },\n  length: {\n    get: function() {\n      if (this._flagLength) {\n        this._updateLength();\n      }\n      return this._length;\n    }\n  },\n  beginning: {\n    enumerable: true,\n    get: function() {\n      return this._beginning;\n    },\n    set: function(v) {\n      this._beginning = v;\n      this._flagVertices = true;\n    }\n  },\n  ending: {\n    enumerable: true,\n    get: function() {\n      return this._ending;\n    },\n    set: function(v) {\n      this._ending = v;\n      this._flagVertices = true;\n    }\n  },\n  vertices: {\n    enumerable: true,\n    get: function() {\n      return this._collection;\n    },\n    set: function(vertices) {\n      const bindVertices = this._renderer.bindVertices;\n      const unbindVertices = this._renderer.unbindVertices;\n      if (this._collection) {\n        this._collection.unbind(Events.Types.insert, bindVertices).unbind(Events.Types.remove, unbindVertices);\n      }\n      if (vertices instanceof Collection) {\n        this._collection = vertices;\n      } else {\n        this._collection = new Collection(vertices || []);\n      }\n      this._collection.bind(Events.Types.insert, bindVertices).bind(Events.Types.remove, unbindVertices);\n      bindVertices(this._collection);\n    }\n  },\n  dashes: {\n    enumerable: true,\n    get: function() {\n      return this._dashes;\n    },\n    set: function(v) {\n      if (typeof v.offset !== \"number\") {\n        v.offset = this.dashes && this._dashes.offset || 0;\n      }\n      this._dashes = v;\n    }\n  }\n};\n\n// src/shapes/polygon.js\nvar cos4 = Math.cos;\nvar sin4 = Math.sin;\nvar _Polygon = class extends Path {\n  constructor(x, y, radius, sides) {\n    sides = Math.max(sides || 0, 3);\n    super();\n    __publicField(this, \"_flagWidth\", false);\n    __publicField(this, \"_flagHeight\", false);\n    __publicField(this, \"_flagSides\", false);\n    __publicField(this, \"_radius\", 0);\n    __publicField(this, \"_width\", 0);\n    __publicField(this, \"_height\", 0);\n    __publicField(this, \"_sides\", 0);\n    this._renderer.type = \"polygon\";\n    for (let prop in proto17) {\n      Object.defineProperty(this, prop, proto17[prop]);\n    }\n    this.closed = true;\n    this.automatic = false;\n    if (typeof radius === \"number\") {\n      this.radius = radius;\n    }\n    if (typeof sides === \"number\") {\n      this.sides = sides;\n    }\n    this._update();\n    if (typeof x === \"number\") {\n      this.translation.x = x;\n    }\n    if (typeof y === \"number\") {\n      this.translation.y = y;\n    }\n  }\n  static fromObject(obj) {\n    const polygon = new _Polygon().copy(obj);\n    if (\"id\" in obj) {\n      polygon.id = obj.id;\n    }\n    return polygon;\n  }\n  copy(polygon) {\n    super.copy.call(this, polygon);\n    for (let i = 0; i < _Polygon.Properties.length; i++) {\n      const k = _Polygon.Properties[i];\n      if (k in polygon && typeof polygon[k] === \"number\") {\n        this[k] = polygon[k];\n      }\n    }\n    return this;\n  }\n  _update() {\n    if (this._flagVertices || this._flagWidth || this._flagHeight || this._flagSides) {\n      const sides = this._sides;\n      const amount = sides + 1;\n      let length = this.vertices.length;\n      if (length > sides) {\n        this.vertices.splice(sides - 1, length - sides);\n        length = sides;\n      }\n      for (let i = 0; i < amount; i++) {\n        const pct = (i + 0.5) / sides;\n        const theta = TWO_PI * pct + Math.PI / 2;\n        const x = this._width * cos4(theta) / 2;\n        const y = this._height * sin4(theta) / 2;\n        if (i >= length) {\n          this.vertices.push(new Anchor(x, y));\n        } else {\n          this.vertices[i].set(x, y);\n        }\n        this.vertices[i].command = i === 0 ? Commands.move : Commands.line;\n      }\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    this._flagWidth = this._flagHeight = this._flagSides = false;\n    super.flagReset.call(this);\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Polygon(0, 0, 0, this.sides);\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    clone.width = this.width;\n    clone.height = this.height;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    for (let i = 0; i < Path.Properties.length; i++) {\n      const k = Path.Properties[i];\n      clone[k] = this[k];\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.renderer.type = \"polygon\";\n    for (let i = 0; i < _Polygon.Properties.length; i++) {\n      const k = _Polygon.Properties[i];\n      object[k] = this[k];\n    }\n    return object;\n  }\n};\nvar Polygon = _Polygon;\n__publicField(Polygon, \"Properties\", [\"width\", \"height\", \"sides\"]);\nvar proto17 = {\n  radius: {\n    enumerable: true,\n    get: function() {\n      return this._radius;\n    },\n    set: function(v) {\n      this._radius = v;\n      this.width = v * 2;\n      this.height = v * 2;\n    }\n  },\n  width: {\n    enumerable: true,\n    get: function() {\n      return this._width;\n    },\n    set: function(v) {\n      this._width = v;\n      this._flagWidth = true;\n      this._radius = Math.max(this.width, this.height) / 2;\n    }\n  },\n  height: {\n    enumerable: true,\n    get: function() {\n      return this._height;\n    },\n    set: function(v) {\n      this._height = v;\n      this._flagHeight = true;\n      this._radius = Math.max(this.width, this.height) / 2;\n    }\n  },\n  sides: {\n    enumerable: true,\n    get: function() {\n      return this._sides;\n    },\n    set: function(v) {\n      this._sides = v;\n      this._flagSides = true;\n    }\n  }\n};\n\n// src/shapes/rounded-rectangle.js\nvar _RoundedRectangle = class extends Path {\n  constructor(x, y, width, height, radius) {\n    if (typeof radius === \"undefined\" && typeof width === \"number\" && typeof height === \"number\") {\n      radius = Math.floor(Math.min(width, height) / 12);\n    }\n    const points = [];\n    for (let i = 0; i < 10; i++) {\n      points.push(\n        new Anchor(0, 0, 0, 0, 0, 0, i === 0 ? Commands.move : Commands.curve)\n      );\n    }\n    super(points);\n    __publicField(this, \"_flagWidth\", false);\n    __publicField(this, \"_flagHeight\", false);\n    __publicField(this, \"_flagRadius\", false);\n    __publicField(this, \"_width\", 0);\n    __publicField(this, \"_height\", 0);\n    __publicField(this, \"_radius\", 12);\n    this._renderer.type = \"rounded-rectangle\";\n    for (let prop in proto18) {\n      Object.defineProperty(this, prop, proto18[prop]);\n    }\n    this.closed = true;\n    this.automatic = false;\n    this._renderer.flagRadius = FlagRadius.bind(this);\n    if (typeof width === \"number\") {\n      this.width = width;\n    }\n    if (typeof height === \"number\") {\n      this.height = height;\n    }\n    if (typeof radius === \"number\") {\n      this.radius = radius;\n    }\n    this._update();\n    if (typeof x === \"number\") {\n      this.translation.x = x;\n    }\n    if (typeof y === \"number\") {\n      this.translation.y = y;\n    }\n  }\n  static fromObject(obj) {\n    const rectangle = new _RoundedRectangle().copy(obj);\n    if (\"id\" in obj) {\n      rectangle.id = obj.id;\n    }\n    return rectangle;\n  }\n  copy(roundedRectangle) {\n    super.copy.call(this, roundedRectangle);\n    for (let i = 0; i < _RoundedRectangle.Properties.length; i++) {\n      const k = _RoundedRectangle.Properties[i];\n      if (k in roundedRectangle) {\n        const value = roundedRectangle[k];\n        if (/radius/i.test(k)) {\n          this[k] = typeof value === \"number\" || value instanceof Vector ? value : new Vector().copy(value);\n        } else if (typeof value === \"number\") {\n          this[k] = value;\n        }\n      }\n    }\n    return this;\n  }\n  _update() {\n    if (this._flagVertices || this._flagWidth || this._flagHeight || this._flagRadius) {\n      const width = this._width;\n      const height = this._height;\n      let rx, ry;\n      if (this._radius instanceof Vector) {\n        rx = this._radius.x;\n        ry = this._radius.y;\n      } else {\n        rx = this._radius;\n        ry = this._radius;\n      }\n      let v;\n      let w = width / 2;\n      let h = height / 2;\n      v = this.vertices[0];\n      v.x = -(w - rx);\n      v.y = -h;\n      v = this.vertices[1];\n      v.x = w - rx;\n      v.y = -h;\n      v.controls.left.clear();\n      v.controls.right.x = rx;\n      v.controls.right.y = 0;\n      v = this.vertices[2];\n      v.x = w;\n      v.y = -(h - ry);\n      v.controls.right.clear();\n      v.controls.left.clear();\n      v = this.vertices[3];\n      v.x = w;\n      v.y = h - ry;\n      v.controls.left.clear();\n      v.controls.right.x = 0;\n      v.controls.right.y = ry;\n      v = this.vertices[4];\n      v.x = w - rx;\n      v.y = h;\n      v.controls.right.clear();\n      v.controls.left.clear();\n      v = this.vertices[5];\n      v.x = -(w - rx);\n      v.y = h;\n      v.controls.left.clear();\n      v.controls.right.x = -rx;\n      v.controls.right.y = 0;\n      v = this.vertices[6];\n      v.x = -w;\n      v.y = h - ry;\n      v.controls.left.clear();\n      v.controls.right.clear();\n      v = this.vertices[7];\n      v.x = -w;\n      v.y = -(h - ry);\n      v.controls.left.clear();\n      v.controls.right.x = 0;\n      v.controls.right.y = -ry;\n      v = this.vertices[8];\n      v.x = -(w - rx);\n      v.y = -h;\n      v.controls.left.clear();\n      v.controls.right.clear();\n      v = this.vertices[9];\n      v.copy(this.vertices[8]);\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    this._flagWidth = this._flagHeight = this._flagRadius = false;\n    super.flagReset.call(this);\n    return this;\n  }\n  clone(parent) {\n    const width = this.width;\n    const height = this.height;\n    const radius = this.radius;\n    const clone = new _RoundedRectangle(0, 0, width, height, radius);\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    for (let i = 0; i < Path.Properties.length; i++) {\n      const k = Path.Properties[i];\n      clone[k] = this[k];\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.renderer.type = \"rounded-rectangle\";\n    for (let i = 0; i < _RoundedRectangle.Properties.length; i++) {\n      const k = _RoundedRectangle.Properties[i];\n      object[k] = this[k];\n    }\n    object.radius = typeof this.radius === \"number\" ? this.radius : this.radius.toObject();\n    return object;\n  }\n};\nvar RoundedRectangle = _RoundedRectangle;\n__publicField(RoundedRectangle, \"Properties\", [\"width\", \"height\", \"radius\"]);\nvar proto18 = {\n  width: {\n    enumerable: true,\n    get: function() {\n      return this._width;\n    },\n    set: function(v) {\n      this._width = v;\n      this._flagWidth = true;\n    }\n  },\n  height: {\n    enumerable: true,\n    get: function() {\n      return this._height;\n    },\n    set: function(v) {\n      this._height = v;\n      this._flagHeight = true;\n    }\n  },\n  radius: {\n    enumerable: true,\n    get: function() {\n      return this._radius;\n    },\n    set: function(v) {\n      if (this._radius instanceof Vector) {\n        this._radius.unbind(Events.Types.change, this._renderer.flagRadius);\n      }\n      this._radius = v;\n      if (this._radius instanceof Vector) {\n        this._radius.bind(Events.Types.change, this._renderer.flagRadius);\n      }\n      this._flagRadius = true;\n    }\n  }\n};\nfunction FlagRadius() {\n  this._flagRadius = true;\n}\n\n// src/shapes/star.js\nvar cos5 = Math.cos;\nvar sin5 = Math.sin;\nvar _Star = class extends Path {\n  constructor(x, y, innerRadius, outerRadius, sides) {\n    if (arguments.length <= 3) {\n      outerRadius = innerRadius;\n      innerRadius = outerRadius / 2;\n    }\n    if (typeof sides !== \"number\" || sides <= 0) {\n      sides = 5;\n    }\n    super();\n    __publicField(this, \"_flagInnerRadius\", false);\n    __publicField(this, \"_flagOuterRadius\", false);\n    __publicField(this, \"_flagSides\", false);\n    __publicField(this, \"_innerRadius\", 0);\n    __publicField(this, \"_outerRadius\", 0);\n    __publicField(this, \"_sides\", 0);\n    this._renderer.type = \"star\";\n    for (let prop in proto19) {\n      Object.defineProperty(this, prop, proto19[prop]);\n    }\n    this.closed = true;\n    this.automatic = false;\n    if (typeof innerRadius === \"number\") {\n      this.innerRadius = innerRadius;\n    }\n    if (typeof outerRadius === \"number\") {\n      this.outerRadius = outerRadius;\n    }\n    if (typeof sides === \"number\") {\n      this.sides = sides;\n    }\n    this._update();\n    if (typeof x === \"number\") {\n      this.translation.x = x;\n    }\n    if (typeof y === \"number\") {\n      this.translation.y = y;\n    }\n  }\n  static fromObject(obj) {\n    const star = new _Star().copy(obj);\n    if (\"id\" in obj) {\n      star.id = obj.id;\n    }\n    return star;\n  }\n  copy(star) {\n    super.copy.call(this, star);\n    for (let i = 0; i < _Star.Properties.length; i++) {\n      const k = _Star.Properties[i];\n      if (k in star && typeof star[k] === \"number\") {\n        this[k] = star[k];\n      }\n    }\n    return this;\n  }\n  _update() {\n    if (this._flagVertices || this._flagInnerRadius || this._flagOuterRadius || this._flagSides) {\n      const sides = this._sides * 2;\n      const amount = sides + 1;\n      let length = this.vertices.length;\n      if (length > sides) {\n        this.vertices.splice(sides - 1, length - sides);\n        length = sides;\n      }\n      for (let i = 0; i < amount; i++) {\n        const pct = (i + 0.5) / sides;\n        const theta = TWO_PI * pct;\n        const r = (!(i % 2) ? this._innerRadius : this._outerRadius) / 2;\n        const x = r * cos5(theta);\n        const y = r * sin5(theta);\n        if (i >= length) {\n          this.vertices.push(new Anchor(x, y));\n        } else {\n          this.vertices[i].set(x, y);\n        }\n        this.vertices[i].command = i === 0 ? Commands.move : Commands.line;\n      }\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    this._flagInnerRadius = this._flagOuterRadius = this._flagSides = false;\n    super.flagReset.call(this);\n    return this;\n  }\n  clone(parent) {\n    const ir = this.innerRadius;\n    const or = this.outerRadius;\n    const sides = this.sides;\n    const clone = new _Star(0, 0, ir, or, sides);\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.skewX = this.skewX;\n    clone.skewY = this.skewY;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    for (let i = 0; i < Path.Properties.length; i++) {\n      const k = Path.Properties[i];\n      clone[k] = this[k];\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.renderer.type = \"star\";\n    for (let i = 0; i < _Star.Properties.length; i++) {\n      const k = _Star.Properties[i];\n      object[k] = this[k];\n    }\n    return object;\n  }\n};\nvar Star = _Star;\n__publicField(Star, \"Properties\", [\"innerRadius\", \"outerRadius\", \"sides\"]);\nvar proto19 = {\n  innerRadius: {\n    enumerable: true,\n    get: function() {\n      return this._innerRadius;\n    },\n    set: function(v) {\n      this._innerRadius = v;\n      this._flagInnerRadius = true;\n    }\n  },\n  outerRadius: {\n    enumerable: true,\n    get: function() {\n      return this._outerRadius;\n    },\n    set: function(v) {\n      this._outerRadius = v;\n      this._flagOuterRadius = true;\n    }\n  },\n  sides: {\n    enumerable: true,\n    get: function() {\n      return this._sides;\n    },\n    set: function(v) {\n      this._sides = v;\n      this._flagSides = true;\n    }\n  }\n};\n\n// src/text.js\nvar canvas;\nvar min2 = Math.min;\nvar max2 = Math.max;\nif (root.document) {\n  canvas = document.createElement(\"canvas\");\n}\nvar _Text = class extends Shape {\n  constructor(message, x, y, styles) {\n    super();\n    __publicField(this, \"_flagValue\", true);\n    __publicField(this, \"_flagFamily\", true);\n    __publicField(this, \"_flagSize\", true);\n    __publicField(this, \"_flagLeading\", true);\n    __publicField(this, \"_flagAlignment\", true);\n    __publicField(this, \"_flagBaseline\", true);\n    __publicField(this, \"_flagStyle\", true);\n    __publicField(this, \"_flagWeight\", true);\n    __publicField(this, \"_flagDecoration\", true);\n    __publicField(this, \"_flagFill\", true);\n    __publicField(this, \"_flagStroke\", true);\n    __publicField(this, \"_flagLinewidth\", true);\n    __publicField(this, \"_flagOpacity\", true);\n    __publicField(this, \"_flagVisible\", true);\n    __publicField(this, \"_flagMask\", false);\n    __publicField(this, \"_flagClip\", false);\n    __publicField(this, \"_flagDirection\", true);\n    __publicField(this, \"_value\", \"\");\n    __publicField(this, \"_family\", \"sans-serif\");\n    __publicField(this, \"_size\", 13);\n    __publicField(this, \"_leading\", 17);\n    __publicField(this, \"_alignment\", \"center\");\n    __publicField(this, \"_baseline\", \"middle\");\n    __publicField(this, \"_style\", \"normal\");\n    __publicField(this, \"_weight\", 500);\n    __publicField(this, \"_decoration\", \"none\");\n    __publicField(this, \"_direction\", \"ltr\");\n    __publicField(this, \"_fill\", \"#000\");\n    __publicField(this, \"_stroke\", \"none\");\n    __publicField(this, \"_linewidth\", 1);\n    __publicField(this, \"_opacity\", 1);\n    __publicField(this, \"_visible\", true);\n    __publicField(this, \"_mask\", null);\n    __publicField(this, \"_clip\", false);\n    __publicField(this, \"_dashes\", null);\n    for (let prop in proto20) {\n      Object.defineProperty(this, prop, proto20[prop]);\n    }\n    this._renderer.type = \"text\";\n    this._renderer.flagFill = FlagFill2.bind(this);\n    this._renderer.flagStroke = FlagStroke2.bind(this);\n    this.value = message;\n    if (typeof x === \"number\") {\n      this.translation.x = x;\n    }\n    if (typeof y === \"number\") {\n      this.translation.y = y;\n    }\n    this.dashes = [];\n    this.dashes.offset = 0;\n    if (!_.isObject(styles)) {\n      return this;\n    }\n    for (let i = 0; i < _Text.Properties.length; i++) {\n      const property = _Text.Properties[i];\n      if (property in styles) {\n        this[property] = styles[property];\n      }\n    }\n  }\n  static Measure(text) {\n    if (canvas) {\n      const ctx = canvas.getContext(\"2d\");\n      ctx.font = [\n        text._style,\n        text._weight,\n        `${text._size}px/${text._leading}px`,\n        text._family\n      ].join(\" \");\n      const metrics = ctx.measureText(text.value, 0, 0);\n      const height = metrics.actualBoundingBoxDescent + metrics.actualBoundingBoxAscent;\n      return {\n        width: metrics.width,\n        height\n      };\n    } else {\n      const width = this.value.length * this.size * _Text.Ratio;\n      const height = this.leading;\n      console.warn(\n        \"Two.Text: unable to accurately measure text, so using an approximation.\"\n      );\n      return {\n        width,\n        height\n      };\n    }\n  }\n  static fromObject(obj) {\n    const fill = typeof obj.fill === \"string\" ? obj.fill : getEffectFromObject(obj.fill);\n    const stroke = typeof obj.stroke === \"string\" ? obj.stroke : getEffectFromObject(obj.stroke);\n    const text = new _Text().copy(__spreadProps(__spreadValues({}, obj), { fill, stroke }));\n    if (\"id\" in obj) {\n      text.id = obj.id;\n    }\n    return text;\n  }\n  copy(text) {\n    super.copy.call(this, text);\n    for (let i = 0; i < _Text.Properties.length; i++) {\n      const k = _Text.Properties[i];\n      if (k in text) {\n        this[k] = text[k];\n      }\n    }\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Text(this.value);\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    for (let i = 0; i < _Text.Properties.length; i++) {\n      const prop = _Text.Properties[i];\n      clone[prop] = this[prop];\n    }\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone._update();\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    result.renderer.type = \"text\";\n    for (let i = 0; i < _Text.Properties.length; i++) {\n      const prop = _Text.Properties[i];\n      result[prop] = this[prop];\n    }\n    return result;\n  }\n  noFill() {\n    this.fill = \"none\";\n    return this;\n  }\n  noStroke() {\n    this.stroke = \"none\";\n    this.linewidth = 0;\n    return this;\n  }\n  getBoundingClientRect(shallow) {\n    let matrix;\n    let left, right, top, bottom;\n    this._update(true);\n    matrix = shallow ? this.matrix : this.worldMatrix;\n    const { width, height } = _Text.Measure(this);\n    const border = (this._linewidth || 0) / 2;\n    switch (this.alignment) {\n      case \"left\":\n        left = -border;\n        right = width + border;\n        break;\n      case \"right\":\n        left = -(width + border);\n        right = border;\n        break;\n      default:\n        left = -(width / 2 + border);\n        right = width / 2 + border;\n    }\n    switch (this.baseline) {\n      case \"middle\":\n        top = -(height / 2 + border);\n        bottom = height / 2 + border;\n        break;\n      default:\n        top = -(height + border);\n        bottom = border;\n    }\n    const [ax, ay] = matrix.multiply(left, top);\n    const [bx, by] = matrix.multiply(left, bottom);\n    const [cx, cy] = matrix.multiply(right, top);\n    const [dx, dy] = matrix.multiply(right, bottom);\n    top = min2(ay, by, cy, dy);\n    left = min2(ax, bx, cx, dx);\n    right = max2(ax, bx, cx, dx);\n    bottom = max2(ay, by, cy, dy);\n    return {\n      top,\n      left,\n      right,\n      bottom,\n      width: right - left,\n      height: bottom - top\n    };\n  }\n  flagReset() {\n    super.flagReset.call(this);\n    this._flagValue = this._flagFamily = this._flagSize = this._flagLeading = this._flagAlignment = this._flagFill = this._flagStroke = this._flagLinewidth = this._flagOpacity = this._flagVisible = this._flagClip = this._flagDecoration = this._flagClassName = this._flagBaseline = this._flagWeight = this._flagStyle = this._flagDirection = false;\n    return this;\n  }\n};\nvar Text = _Text;\n__publicField(Text, \"Ratio\", 0.6);\n__publicField(Text, \"Properties\", [\n  \"value\",\n  \"family\",\n  \"size\",\n  \"leading\",\n  \"alignment\",\n  \"linewidth\",\n  \"style\",\n  \"weight\",\n  \"decoration\",\n  \"direction\",\n  \"baseline\",\n  \"opacity\",\n  \"visible\",\n  \"fill\",\n  \"stroke\",\n  \"dashes\"\n]);\nvar proto20 = {\n  value: {\n    enumerable: true,\n    get: function() {\n      return this._value;\n    },\n    set: function(v) {\n      this._value = v;\n      this._flagValue = true;\n    }\n  },\n  family: {\n    enumerable: true,\n    get: function() {\n      return this._family;\n    },\n    set: function(v) {\n      this._family = v;\n      this._flagFamily = true;\n    }\n  },\n  size: {\n    enumerable: true,\n    get: function() {\n      return this._size;\n    },\n    set: function(v) {\n      this._size = v;\n      this._flagSize = true;\n    }\n  },\n  leading: {\n    enumerable: true,\n    get: function() {\n      return this._leading;\n    },\n    set: function(v) {\n      this._leading = v;\n      this._flagLeading = true;\n    }\n  },\n  alignment: {\n    enumerable: true,\n    get: function() {\n      return this._alignment;\n    },\n    set: function(v) {\n      this._alignment = v;\n      this._flagAlignment = true;\n    }\n  },\n  linewidth: {\n    enumerable: true,\n    get: function() {\n      return this._linewidth;\n    },\n    set: function(v) {\n      this._linewidth = v;\n      this._flagLinewidth = true;\n    }\n  },\n  style: {\n    enumerable: true,\n    get: function() {\n      return this._style;\n    },\n    set: function(v) {\n      this._style = v;\n      this._flagStyle = true;\n    }\n  },\n  weight: {\n    enumerable: true,\n    get: function() {\n      return this._weight;\n    },\n    set: function(v) {\n      this._weight = v;\n      this._flagWeight = true;\n    }\n  },\n  decoration: {\n    enumerable: true,\n    get: function() {\n      return this._decoration;\n    },\n    set: function(v) {\n      this._decoration = v;\n      this._flagDecoration = true;\n    }\n  },\n  direction: {\n    enumerable: true,\n    get: function() {\n      return this._direction;\n    },\n    set: function(v) {\n      this._direction = v;\n      this._flagDirection = true;\n    }\n  },\n  baseline: {\n    enumerable: true,\n    get: function() {\n      return this._baseline;\n    },\n    set: function(v) {\n      this._baseline = v;\n      this._flagBaseline = true;\n    }\n  },\n  opacity: {\n    enumerable: true,\n    get: function() {\n      return this._opacity;\n    },\n    set: function(v) {\n      this._opacity = v;\n      this._flagOpacity = true;\n    }\n  },\n  visible: {\n    enumerable: true,\n    get: function() {\n      return this._visible;\n    },\n    set: function(v) {\n      this._visible = v;\n      this._flagVisible = true;\n    }\n  },\n  fill: {\n    enumerable: true,\n    get: function() {\n      return this._fill;\n    },\n    set: function(f) {\n      if (this._fill instanceof Gradient || this._fill instanceof LinearGradient || this._fill instanceof RadialGradient || this._fill instanceof Texture) {\n        this._fill.unbind(Events.Types.change, this._renderer.flagFill);\n      }\n      this._fill = f;\n      this._flagFill = true;\n      if (this._fill instanceof Gradient || this._fill instanceof LinearGradient || this._fill instanceof RadialGradient || this._fill instanceof Texture) {\n        this._fill.bind(Events.Types.change, this._renderer.flagFill);\n      }\n    }\n  },\n  stroke: {\n    enumerable: true,\n    get: function() {\n      return this._stroke;\n    },\n    set: function(f) {\n      if (this._stroke instanceof Gradient || this._stroke instanceof LinearGradient || this._stroke instanceof RadialGradient || this._stroke instanceof Texture) {\n        this._stroke.unbind(Events.Types.change, this._renderer.flagStroke);\n      }\n      this._stroke = f;\n      this._flagStroke = true;\n      if (this._stroke instanceof Gradient || this._stroke instanceof LinearGradient || this._stroke instanceof RadialGradient || this._stroke instanceof Texture) {\n        this._stroke.bind(Events.Types.change, this._renderer.flagStroke);\n      }\n    }\n  },\n  mask: {\n    enumerable: true,\n    get: function() {\n      return this._mask;\n    },\n    set: function(v) {\n      this._mask = v;\n      this._flagMask = true;\n      if (_.isObject(v) && !v.clip) {\n        v.clip = true;\n      }\n    }\n  },\n  clip: {\n    enumerable: true,\n    get: function() {\n      return this._clip;\n    },\n    set: function(v) {\n      this._clip = v;\n      this._flagClip = true;\n    }\n  },\n  dashes: {\n    enumerable: true,\n    get: function() {\n      return this._dashes;\n    },\n    set: function(v) {\n      if (typeof v.offset !== \"number\") {\n        v.offset = this.dashes && this._dashes.offset || 0;\n      }\n      this._dashes = v;\n    }\n  }\n};\nfunction FlagFill2() {\n  this._flagFill = true;\n}\nfunction FlagStroke2() {\n  this._flagStroke = true;\n}\n\n// src/group.js\nvar min3 = Math.min;\nvar max3 = Math.max;\nvar _Group = class extends Shape {\n  constructor(children) {\n    super();\n    __publicField(this, \"_flagAdditions\", false);\n    __publicField(this, \"_flagSubtractions\", false);\n    __publicField(this, \"_flagOrder\", false);\n    __publicField(this, \"_flagOpacity\", true);\n    __publicField(this, \"_flagBeginning\", false);\n    __publicField(this, \"_flagEnding\", false);\n    __publicField(this, \"_flagLength\", false);\n    __publicField(this, \"_flagMask\", false);\n    __publicField(this, \"_fill\", \"#fff\");\n    __publicField(this, \"_stroke\", \"#000\");\n    __publicField(this, \"_linewidth\", 1);\n    __publicField(this, \"_opacity\", 1);\n    __publicField(this, \"_visible\", true);\n    __publicField(this, \"_cap\", \"round\");\n    __publicField(this, \"_join\", \"round\");\n    __publicField(this, \"_miter\", 4);\n    __publicField(this, \"_closed\", true);\n    __publicField(this, \"_curved\", false);\n    __publicField(this, \"_automatic\", true);\n    __publicField(this, \"_beginning\", 0);\n    __publicField(this, \"_ending\", 1);\n    __publicField(this, \"_length\", 0);\n    __publicField(this, \"_mask\", null);\n    for (let prop in proto21) {\n      Object.defineProperty(this, prop, proto21[prop]);\n    }\n    this._renderer.type = \"group\";\n    this.additions = [];\n    this.subtractions = [];\n    this.children = Array.isArray(children) ? children : Array.prototype.slice.call(arguments);\n  }\n  static InsertChildren(children) {\n    for (let i = 0; i < children.length; i++) {\n      replaceParent.call(this, children[i], this);\n    }\n  }\n  static RemoveChildren(children) {\n    for (let i = 0; i < children.length; i++) {\n      replaceParent.call(this, children[i]);\n    }\n  }\n  static OrderChildren(children) {\n    this._flagOrder = true;\n  }\n  static fromObject(obj) {\n    const group = new _Group();\n    for (let i = 0; i < _Group.Properties.length; i++) {\n      const k = _Group.Properties[i];\n      if (k in obj) {\n        if (/(fill|stroke)/i.test(k)) {\n          group[k] = typeof obj[k] === \"string\" ? obj[k] : getEffectFromObject(obj[k]);\n        } else {\n          group[k] = obj[k];\n        }\n      }\n    }\n    if (\"mask\" in obj) {\n      group.mask = getShapeFromObject(obj.mask);\n    }\n    if (\"id\" in obj) {\n      group.id = obj.id;\n    }\n    group.children = obj.children.map(getShapeFromObject);\n    return group;\n    function getShapeFromObject(child) {\n      if (child && child.renderer) {\n        switch (child.renderer.type) {\n          case \"arc-segment\":\n            return ArcSegment.fromObject(child);\n          case \"circle\":\n            return Circle.fromObject(child);\n          case \"ellipse\":\n            return Ellipse.fromObject(child);\n          case \"points\":\n            return Points.fromObject(child);\n          case \"polygon\":\n            return Polygon.fromObject(child);\n          case \"rectangle\":\n            return Rectangle.fromObject(child);\n          case \"rounded-rectangle\":\n            return RoundedRectangle.fromObject(child);\n          case \"star\":\n            return Star.fromObject(child);\n          case \"path\":\n            return Path.fromObject(child);\n          case \"text\":\n            return Text.fromObject(child);\n          case \"group\":\n            return _Group.fromObject(child);\n          case \"shape\":\n            return Shape.fromObject(child);\n          case \"element\":\n            return Element.fromObject(child);\n        }\n      }\n      return child;\n    }\n  }\n  copy(group) {\n    super.copy.call(this, group);\n    console.warn(\"Two.Group.copy is not supported yet.\");\n    return this;\n  }\n  clone(parent) {\n    const clone = new _Group();\n    const children = this.children.map(function(child) {\n      return child.clone();\n    });\n    clone.add(children);\n    clone.opacity = this.opacity;\n    if (this.mask) {\n      clone.mask = this.mask;\n    }\n    clone.translation.copy(this.translation);\n    clone.rotation = this.rotation;\n    clone.scale = this.scale;\n    clone.className = this.className;\n    if (this.matrix.manual) {\n      clone.matrix.copy(this.matrix);\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone._update();\n  }\n  toObject() {\n    const result = super.toObject.call(this);\n    result.renderer.type = \"group\";\n    result.children = [];\n    result.opacity = this.opacity;\n    result.className = this.className;\n    result.mask = this.mask ? this.mask.toObject() : null;\n    _.each(\n      this.children,\n      (child, i) => {\n        result.children[i] = child.toObject();\n      },\n      this\n    );\n    return result;\n  }\n  corner() {\n    const rect = this.getBoundingClientRect(true);\n    for (let i = 0; i < this.children.length; i++) {\n      const child = this.children[i];\n      child.translation.x -= rect.left;\n      child.translation.y -= rect.top;\n    }\n    if (this.mask) {\n      this.mask.translation.x -= rect.left;\n      this.mask.translation.y -= rect.top;\n    }\n    return this;\n  }\n  center() {\n    const rect = this.getBoundingClientRect(true);\n    const cx = rect.left + rect.width / 2 - this.translation.x;\n    const cy = rect.top + rect.height / 2 - this.translation.y;\n    for (let i = 0; i < this.children.length; i++) {\n      const child = this.children[i];\n      if (child.isShape) {\n        child.translation.x -= cx;\n        child.translation.y -= cy;\n      }\n    }\n    if (this.mask) {\n      this.mask.translation.x -= cx;\n      this.mask.translation.y -= cy;\n    }\n    return this;\n  }\n  getById(id) {\n    let found = null;\n    function search(node) {\n      if (node.id === id) {\n        return node;\n      } else if (node.children) {\n        if (node.children.ids[id]) {\n          return node.children.ids[id];\n        }\n        for (let i = 0; i < node.children.length; i++) {\n          found = search(node.children[i]);\n          if (found) {\n            return found;\n          }\n        }\n      }\n      return null;\n    }\n    return search(this);\n  }\n  getByClassName(className) {\n    const found = [];\n    function search(node) {\n      if (Array.prototype.indexOf.call(node.classList, className) >= 0) {\n        found.push(node);\n      }\n      if (node.children) {\n        for (let i = 0; i < node.children.length; i++) {\n          const child = node.children[i];\n          search(child);\n        }\n      }\n      return found;\n    }\n    return search(this);\n  }\n  getByType(type) {\n    const found = [];\n    function search(node) {\n      if (node instanceof type) {\n        found.push(node);\n      }\n      if (node.children) {\n        for (let i = 0; i < node.children.length; i++) {\n          const child = node.children[i];\n          search(child);\n        }\n      }\n      return found;\n    }\n    return search(this);\n  }\n  add(objects) {\n    if (!(objects instanceof Array)) {\n      objects = Array.prototype.slice.call(arguments);\n    } else {\n      objects = objects.slice();\n    }\n    for (let i = 0; i < objects.length; i++) {\n      const child = objects[i];\n      if (!(child && child.id)) {\n        continue;\n      }\n      const index = Array.prototype.indexOf.call(this.children, child);\n      if (index >= 0) {\n        this.children.splice(index, 1);\n      }\n      this.children.push(child);\n    }\n    return this;\n  }\n  remove(objects) {\n    const l = arguments.length, grandparent = this.parent;\n    if (l <= 0 && grandparent) {\n      grandparent.remove(this);\n      return this;\n    }\n    if (!(objects instanceof Array)) {\n      objects = Array.prototype.slice.call(arguments);\n    } else {\n      objects = objects.slice();\n    }\n    for (let i = 0; i < objects.length; i++) {\n      const object = objects[i];\n      if (!object || !this.children.ids[object.id]) {\n        continue;\n      }\n      const index = this.children.indexOf(object);\n      if (index >= 0) {\n        this.children.splice(index, 1);\n      }\n    }\n    return this;\n  }\n  getBoundingClientRect(shallow) {\n    let rect, matrix, tc, lc, rc, bc;\n    this._update(true);\n    let left = Infinity, right = -Infinity, top = Infinity, bottom = -Infinity;\n    const regex3 = /texture|gradient/i;\n    matrix = shallow ? this.matrix : this.worldMatrix;\n    for (let i = 0; i < this.children.length; i++) {\n      const child = this.children[i];\n      if (!child.visible || regex3.test(child._renderer.type)) {\n        continue;\n      }\n      rect = child.getBoundingClientRect(shallow);\n      tc = typeof rect.top !== \"number\" || _.isNaN(rect.top) || !isFinite(rect.top);\n      lc = typeof rect.left !== \"number\" || _.isNaN(rect.left) || !isFinite(rect.left);\n      rc = typeof rect.right !== \"number\" || _.isNaN(rect.right) || !isFinite(rect.right);\n      bc = typeof rect.bottom !== \"number\" || _.isNaN(rect.bottom) || !isFinite(rect.bottom);\n      if (tc || lc || rc || bc) {\n        continue;\n      }\n      if (shallow) {\n        const [ax, ay] = matrix.multiply(rect.left, rect.top);\n        const [bx, by] = matrix.multiply(rect.right, rect.top);\n        const [cx, cy] = matrix.multiply(rect.left, rect.bottom);\n        const [dx, dy] = matrix.multiply(rect.right, rect.bottom);\n        top = min3(ay, by, cy, dy, top);\n        left = min3(ax, bx, cx, dx, left);\n        right = max3(ax, bx, cx, dx, right);\n        bottom = max3(ay, by, cy, dy, bottom);\n      } else {\n        top = min3(rect.top, top);\n        left = min3(rect.left, left);\n        right = max3(rect.right, right);\n        bottom = max3(rect.bottom, bottom);\n      }\n    }\n    return {\n      top,\n      left,\n      right,\n      bottom,\n      width: right - left,\n      height: bottom - top\n    };\n  }\n  noFill() {\n    this.children.forEach(function(child) {\n      child.noFill();\n    });\n    return this;\n  }\n  noStroke() {\n    this.children.forEach(function(child) {\n      child.noStroke();\n    });\n    return this;\n  }\n  subdivide() {\n    const args = arguments;\n    this.children.forEach(function(child) {\n      child.subdivide.apply(child, args);\n    });\n    return this;\n  }\n  _update() {\n    let i, l, child;\n    if (this._flagBeginning || this._flagEnding) {\n      const beginning = Math.min(this._beginning, this._ending);\n      const ending = Math.max(this._beginning, this._ending);\n      const length = this.length;\n      let sum = 0;\n      const bd = beginning * length;\n      const ed = ending * length;\n      for (i = 0; i < this.children.length; i++) {\n        child = this.children[i];\n        l = child.length;\n        if (bd > sum + l) {\n          child.beginning = 1;\n          child.ending = 1;\n        } else if (ed < sum) {\n          child.beginning = 0;\n          child.ending = 0;\n        } else if (bd > sum && bd < sum + l) {\n          child.beginning = (bd - sum) / l;\n          child.ending = 1;\n        } else if (ed > sum && ed < sum + l) {\n          child.beginning = 0;\n          child.ending = (ed - sum) / l;\n        } else {\n          child.beginning = 0;\n          child.ending = 1;\n        }\n        sum += l;\n      }\n    }\n    return super._update.apply(this, arguments);\n  }\n  flagReset() {\n    if (this._flagAdditions) {\n      this.additions.length = 0;\n      this._flagAdditions = false;\n    }\n    if (this._flagSubtractions) {\n      this.subtractions.length = 0;\n      this._flagSubtractions = false;\n    }\n    this._flagOrder = this._flagMask = this._flagOpacity = this._flagBeginning = this._flagEnding = false;\n    super.flagReset.call(this);\n    return this;\n  }\n};\nvar Group = _Group;\n__publicField(Group, \"Children\", Children);\n__publicField(Group, \"Properties\", [\n  \"fill\",\n  \"stroke\",\n  \"linewidth\",\n  \"cap\",\n  \"join\",\n  \"miter\",\n  \"closed\",\n  \"curved\",\n  \"automatic\"\n]);\nvar proto21 = {\n  visible: {\n    enumerable: true,\n    get: function() {\n      return this._visible;\n    },\n    set: function(v) {\n      this._flagVisible = this._visible !== v || this._flagVisible;\n      this._visible = v;\n    }\n  },\n  opacity: {\n    enumerable: true,\n    get: function() {\n      return this._opacity;\n    },\n    set: function(v) {\n      this._flagOpacity = this._opacity !== v || this._flagOpacity;\n      this._opacity = v;\n    }\n  },\n  beginning: {\n    enumerable: true,\n    get: function() {\n      return this._beginning;\n    },\n    set: function(v) {\n      this._flagBeginning = this._beginning !== v || this._flagBeginning;\n      this._beginning = v;\n    }\n  },\n  ending: {\n    enumerable: true,\n    get: function() {\n      return this._ending;\n    },\n    set: function(v) {\n      this._flagEnding = this._ending !== v || this._flagEnding;\n      this._ending = v;\n    }\n  },\n  length: {\n    enumerable: true,\n    get: function() {\n      if (this._flagLength || this._length <= 0) {\n        this._length = 0;\n        if (!this.children) {\n          return this._length;\n        }\n        for (let i = 0; i < this.children.length; i++) {\n          const child = this.children[i];\n          this._length += child.length;\n        }\n      }\n      return this._length;\n    }\n  },\n  fill: {\n    enumerable: true,\n    get: function() {\n      return this._fill;\n    },\n    set: function(v) {\n      this._fill = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.fill = v;\n      }\n    }\n  },\n  stroke: {\n    enumerable: true,\n    get: function() {\n      return this._stroke;\n    },\n    set: function(v) {\n      this._stroke = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.stroke = v;\n      }\n    }\n  },\n  linewidth: {\n    enumerable: true,\n    get: function() {\n      return this._linewidth;\n    },\n    set: function(v) {\n      this._linewidth = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.linewidth = v;\n      }\n    }\n  },\n  join: {\n    enumerable: true,\n    get: function() {\n      return this._join;\n    },\n    set: function(v) {\n      this._join = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.join = v;\n      }\n    }\n  },\n  miter: {\n    enumerable: true,\n    get: function() {\n      return this._miter;\n    },\n    set: function(v) {\n      this._miter = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.miter = v;\n      }\n    }\n  },\n  cap: {\n    enumerable: true,\n    get: function() {\n      return this._cap;\n    },\n    set: function(v) {\n      this._cap = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.cap = v;\n      }\n    }\n  },\n  closed: {\n    enumerable: true,\n    get: function() {\n      return this._closed;\n    },\n    set: function(v) {\n      this._closed = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.closed = v;\n      }\n    }\n  },\n  curved: {\n    enumerable: true,\n    get: function() {\n      return this._curved;\n    },\n    set: function(v) {\n      this._curved = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.curved = v;\n      }\n    }\n  },\n  automatic: {\n    enumerable: true,\n    get: function() {\n      return this._automatic;\n    },\n    set: function(v) {\n      this._automatic = v;\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        child.automatic = v;\n      }\n    }\n  },\n  children: {\n    enumerable: true,\n    get: function() {\n      return this._children;\n    },\n    set: function(children) {\n      const insertChildren = Group.InsertChildren.bind(this);\n      const removeChildren = Group.RemoveChildren.bind(this);\n      const orderChildren = Group.OrderChildren.bind(this);\n      if (this._children) {\n        this._children.unbind();\n        if (this._children.length > 0) {\n          removeChildren(this._children);\n        }\n      }\n      this._children = new Children(children);\n      this._children.bind(Events.Types.insert, insertChildren);\n      this._children.bind(Events.Types.remove, removeChildren);\n      this._children.bind(Events.Types.order, orderChildren);\n      if (children.length > 0) {\n        insertChildren(children);\n      }\n    }\n  },\n  mask: {\n    enumerable: true,\n    get: function() {\n      return this._mask;\n    },\n    set: function(v) {\n      this._mask = v;\n      this._flagMask = true;\n      if (_.isObject(v) && !v.clip) {\n        v.clip = true;\n      }\n    }\n  }\n};\nfunction replaceParent(child, newParent) {\n  const parent = child.parent;\n  let index;\n  if (parent === newParent) {\n    add();\n    return;\n  }\n  if (parent && parent.children.ids[child.id]) {\n    index = Array.prototype.indexOf.call(parent.children, child);\n    parent.children.splice(index, 1);\n    splice();\n  }\n  if (newParent) {\n    add();\n    return;\n  }\n  splice();\n  if (parent._flagAdditions && parent.additions.length === 0) {\n    parent._flagAdditions = false;\n  }\n  if (parent._flagSubtractions && parent.subtractions.length === 0) {\n    parent._flagSubtractions = false;\n  }\n  delete child.parent;\n  function add() {\n    if (newParent.subtractions.length > 0) {\n      index = Array.prototype.indexOf.call(newParent.subtractions, child);\n      if (index >= 0) {\n        newParent.subtractions.splice(index, 1);\n      }\n    }\n    if (newParent.additions.length > 0) {\n      index = Array.prototype.indexOf.call(newParent.additions, child);\n      if (index >= 0) {\n        newParent.additions.splice(index, 1);\n      }\n    }\n    child.parent = newParent;\n    newParent.additions.push(child);\n    newParent._flagAdditions = true;\n  }\n  function splice() {\n    index = Array.prototype.indexOf.call(parent.additions, child);\n    if (index >= 0) {\n      parent.additions.splice(index, 1);\n    }\n    index = Array.prototype.indexOf.call(parent.subtractions, child);\n    if (index < 0) {\n      parent.subtractions.push(child);\n      parent._flagSubtractions = true;\n    }\n  }\n}\n\n// src/shapes/line.js\nvar Line = class extends Path {\n  constructor(x1, y1, x2, y2) {\n    const points = [new Anchor(x1, y1), new Anchor(x2, y2)];\n    super(points);\n    for (let prop in proto22) {\n      Object.defineProperty(this, prop, proto22[prop]);\n    }\n    this.vertices[0].command = Commands.move;\n    this.vertices[1].command = Commands.line;\n    this.automatic = false;\n  }\n};\nvar proto22 = {\n  left: {\n    enumerable: true,\n    get: function() {\n      return this.vertices[0];\n    },\n    set: function(v) {\n      if (_.isObject(v)) {\n        this.vertices.splice(0, 1, v);\n      } else {\n        const error = new TwoError(\"Two.Line.x argument is not an object.\");\n        console.warn(error.name, error.message);\n      }\n    }\n  },\n  right: {\n    enumerable: true,\n    get: function() {\n      return this.vertices[1];\n    },\n    set: function(v) {\n      if (_.isObject(v)) {\n        this.vertices.splice(1, 1, v);\n      } else {\n        const error = new TwoError(\"Two.Line.y argument is not an object.\");\n        console.warn(error.name, error.message);\n      }\n    }\n  }\n};\n\n// src/utils/interpret-svg.js\nvar regex2 = {\n  path: /[+-]?(?:\\d*\\.\\d+|\\d+)(?:[eE][+-]\\d+)?/g,\n  cssBackgroundImage: /url\\(['\"]?#([\\w\\d-_]*)['\"]?\\)/i,\n  unitSuffix: /[a-zA-Z%]*/i\n};\nvar alignments = {\n  start: \"left\",\n  middle: \"center\",\n  end: \"right\"\n};\nvar reservedAttributesToRemove = [\n  \"id\",\n  \"class\",\n  \"transform\",\n  \"xmlns\",\n  \"viewBox\"\n];\nvar overwriteAttrs = [\"x\", \"y\", \"width\", \"height\", \"href\", \"xlink:href\"];\nfunction getAlignment(anchor2) {\n  return alignments[anchor2];\n}\nfunction getBaseline(node) {\n  const a = node.getAttribute(\"dominant-baseline\");\n  const b = node.getAttribute(\"alignment-baseline\");\n  return a || b;\n}\nfunction getTagName(tag) {\n  return tag.replace(/svg:/gi, \"\").toLowerCase();\n}\nfunction applyTransformsToVector(transforms, vector3) {\n  vector3.x += transforms.translateX;\n  vector3.y += transforms.translateY;\n  vector3.x *= transforms.scaleX;\n  vector3.y *= transforms.scaleY;\n  if (transforms.rotation !== 0) {\n    const l = vector3.length();\n    vector3.x = l * Math.cos(transforms.rotation);\n    vector3.y = l * Math.sin(transforms.rotation);\n  }\n}\nfunction extractCSSText(text, styles) {\n  if (!styles) {\n    styles = {};\n  }\n  const commands = text.split(\";\");\n  for (let i = 0; i < commands.length; i++) {\n    const command = commands[i].split(\":\");\n    const name = command[0];\n    const value = command[1];\n    if (typeof name === \"undefined\" || typeof value === \"undefined\") {\n      continue;\n    }\n    const trimmedName = name.replace(/\\s/g, \"\");\n    const trimmedValue = value.replace(/\\s/g, \"\");\n    styles[trimmedName] = trimmedValue;\n  }\n  return styles;\n}\nfunction getSvgStyles(node) {\n  const styles = {};\n  const attributes = getSvgAttributes(node);\n  const length = Math.max(attributes.length, node.style.length);\n  for (let i = 0; i < length; i++) {\n    const command = node.style[i];\n    const attribute = attributes[i];\n    if (command) {\n      styles[command] = node.style[command];\n    }\n    if (attribute) {\n      styles[attribute] = node.getAttribute(attribute);\n    }\n  }\n  return styles;\n}\nfunction getSvgAttributes(node) {\n  const attributes = node.getAttributeNames();\n  for (let i = 0; i < reservedAttributesToRemove.length; i++) {\n    const keyword = reservedAttributesToRemove[i];\n    const index = Array.prototype.indexOf.call(attributes, keyword);\n    if (index >= 0) {\n      attributes.splice(index, 1);\n    }\n  }\n  return attributes;\n}\nfunction applySvgViewBox(node, value) {\n  const elements = value.split(/[\\s,]/);\n  const x = -parseFloat(elements[0]);\n  const y = -parseFloat(elements[1]);\n  const width = parseFloat(elements[2]);\n  const height = parseFloat(elements[3]);\n  if (x && y) {\n    for (let i = 0; i < node.children.length; i++) {\n      const child = node.children[i];\n      if (\"translation\" in child) {\n        child.translation.add(x, y);\n      } else if (\"x\" in child) {\n        child.x = x;\n      } else if (\"y\" in child) {\n        child.y = y;\n      }\n    }\n  }\n  const xExists = typeof node.x === \"number\";\n  const yExists = typeof node.y === \"number\";\n  const widthExists = typeof node.width === \"number\";\n  const heightExists = typeof node.height === \"number\";\n  if (xExists) {\n    node.translation.x += node.x;\n  }\n  if (yExists) {\n    node.translation.y += node.y;\n  }\n  if (widthExists || heightExists) {\n    node.scale = new Vector(1, 1);\n  }\n  if (widthExists) {\n    node.scale.x = node.width / width;\n  }\n  if (heightExists) {\n    node.scale.y = node.height / height;\n  }\n  node.mask = new Rectangle(0, 0, width, height);\n  node.mask.origin.set(-width / 2, -height / 2);\n  return node;\n}\nfunction applySvgAttributes(node, elem, parentStyles) {\n  const styles = {}, attributes = {}, extracted = {};\n  let i, m, key, value, prop, attr;\n  let transforms, x, y;\n  let id, scene, ref, tagName;\n  let ca, cb, cc, error;\n  if (node === null) {\n    return styles;\n  }\n  if (root.getComputedStyle) {\n    const computedStyles = root.getComputedStyle(node);\n    i = computedStyles.length;\n    while (i--) {\n      key = computedStyles[i];\n      value = computedStyles[key];\n      if (typeof value !== \"undefined\") {\n        styles[key] = value;\n      }\n    }\n  }\n  for (i = 0; i < node.attributes.length; i++) {\n    attr = node.attributes[i];\n    if (/style/i.test(attr.nodeName)) {\n      extractCSSText(attr.value, extracted);\n    } else {\n      attributes[attr.nodeName] = attr.value;\n    }\n  }\n  if (typeof styles.opacity !== \"undefined\") {\n    styles[\"stroke-opacity\"] = styles.opacity;\n    styles[\"fill-opacity\"] = styles.opacity;\n    delete styles.opacity;\n  }\n  if (parentStyles) {\n    _.defaults(styles, parentStyles);\n  }\n  _.extend(styles, extracted, attributes);\n  styles.visible = !(typeof styles.display === \"undefined\" && /none/i.test(styles.display)) || typeof styles.visibility === \"undefined\" && /hidden/i.test(styles.visibility);\n  for (key in styles) {\n    value = styles[key];\n    switch (key) {\n      case \"gradientTransform\":\n        if (/none/i.test(value))\n          break;\n        m = node.gradientTransform && node.gradientTransform.baseVal && node.gradientTransform.baseVal.length > 0 ? node.gradientTransform.baseVal[0].matrix : node.getCTM ? node.getCTM() : null;\n        if (m === null)\n          break;\n        transforms = decomposeMatrix(m);\n        switch (elem._renderer.type) {\n          case \"linear-gradient\":\n            applyTransformsToVector(transforms, elem.left);\n            applyTransformsToVector(transforms, elem.right);\n            break;\n          case \"radial-gradient\":\n            elem.center.x += transforms.translateX;\n            elem.center.y += transforms.translateY;\n            elem.focal.x += transforms.translateX;\n            elem.focal.y += transforms.translateY;\n            elem.radius *= Math.max(transforms.scaleX, transforms.scaleY);\n            break;\n        }\n        break;\n      case \"transform\":\n        if (/none/i.test(value))\n          break;\n        m = node.transform && node.transform.baseVal && node.transform.baseVal.length > 0 ? node.transform.baseVal[0].matrix : node.getCTM ? node.getCTM() : null;\n        if (m === null)\n          break;\n        if (Constants.AutoCalculateImportedMatrices) {\n          transforms = decomposeMatrix(m);\n          elem.translation.set(transforms.translateX, transforms.translateY);\n          elem.rotation = Math.PI * (transforms.rotation / 180);\n          elem.scale = new Vector(transforms.scaleX, transforms.scaleY);\n          x = parseFloat((styles.x + \"\").replace(\"px\"));\n          y = parseFloat((styles.y + \"\").replace(\"px\"));\n          if (x) {\n            elem.translation.x = x;\n          }\n          if (y) {\n            elem.translation.y = y;\n          }\n        } else {\n          m = node.getCTM();\n          elem._matrix.manual = true;\n          elem._matrix.set(m.a, m.b, m.c, m.d, m.e, m.f);\n        }\n        break;\n      case \"visible\":\n        if (elem instanceof Group) {\n          elem._visible = value;\n          break;\n        }\n        elem.visible = value;\n        break;\n      case \"stroke-linecap\":\n        if (elem instanceof Group) {\n          elem._cap = value;\n          break;\n        }\n        elem.cap = value;\n        break;\n      case \"stroke-linejoin\":\n        if (elem instanceof Group) {\n          elem._join = value;\n          break;\n        }\n        elem.join = value;\n        break;\n      case \"stroke-miterlimit\":\n        if (elem instanceof Group) {\n          elem._miter = value;\n          break;\n        }\n        elem.miter = value;\n        break;\n      case \"stroke-width\":\n        if (elem instanceof Group) {\n          elem._linewidth = parseFloat(value);\n          break;\n        }\n        elem.linewidth = parseFloat(value);\n        break;\n      case \"opacity\":\n      case \"stroke-opacity\":\n      case \"fill-opacity\":\n        if (elem instanceof Group) {\n          elem._opacity = parseFloat(value);\n          break;\n        }\n        elem.opacity = parseFloat(value);\n        break;\n      case \"clip-path\":\n        if (regex2.cssBackgroundImage.test(value)) {\n          id = value.replace(regex2.cssBackgroundImage, \"$1\");\n          if (read.defs.current && read.defs.current.contains(id)) {\n            ref = read.defs.current.get(id);\n            if (ref && ref.childNodes.length > 0) {\n              ref = ref.childNodes[0];\n              tagName = getTagName(ref.nodeName);\n              elem.mask = read[tagName].call(this, ref, {});\n              switch (elem._renderer.type) {\n                case \"text\":\n                case \"path\":\n                  elem.position.add(elem.mask.position);\n                  elem.mask.position.clear();\n                  break;\n              }\n            }\n          }\n        }\n        break;\n      case \"fill\":\n      case \"stroke\":\n        prop = (elem instanceof Group ? \"_\" : \"\") + key;\n        if (regex2.cssBackgroundImage.test(value)) {\n          id = value.replace(regex2.cssBackgroundImage, \"$1\");\n          if (read.defs.current && read.defs.current.contains(id)) {\n            ref = read.defs.current.get(id);\n            if (!ref.object) {\n              tagName = getTagName(ref.nodeName);\n              ref.object = read[tagName].call(this, ref, {});\n            }\n            ref = ref.object;\n          } else {\n            scene = getScene(this);\n            ref = scene.getById(id);\n          }\n          elem[prop] = ref;\n        } else {\n          elem[prop] = value;\n        }\n        break;\n      case \"id\":\n        elem.id = value;\n        break;\n      case \"class\":\n      case \"className\":\n        elem.classList = value.split(\" \");\n        elem._flagClassName = true;\n        break;\n      case \"x\":\n      case \"y\":\n        ca = elem instanceof Gradient;\n        cb = elem instanceof LinearGradient;\n        cc = elem instanceof RadialGradient;\n        if (ca || cb || cc) {\n          break;\n        }\n        if (value.match(\"[a-z%]$\") && !value.endsWith(\"px\")) {\n          error = new TwoError(\n            \"only pixel values are supported with the \" + key + \" attribute.\"\n          );\n          console.warn(error.name, error.message);\n        }\n        elem.translation[key] = parseFloat(value);\n        break;\n      case \"font-family\":\n        if (elem instanceof Text) {\n          elem.family = value;\n        }\n        break;\n      case \"font-size\":\n        if (elem instanceof Text) {\n          if (value.match(\"[a-z%]$\") && !value.endsWith(\"px\")) {\n            error = new TwoError(\n              \"only pixel values are supported with the \" + key + \" attribute.\"\n            );\n            console.warn(error.name, error.message);\n          }\n          elem.size = parseFloat(value);\n        }\n        break;\n      case \"font-weight\":\n        if (elem instanceof Text) {\n          elem.weight = value;\n        }\n        break;\n      case \"font-style\":\n        if (elem instanceof Text) {\n          elem.style = value;\n        }\n        break;\n      case \"text-decoration\":\n        if (elem instanceof Text) {\n          elem.decoration = value;\n        }\n        break;\n      case \"line-height\":\n        if (elem instanceof Text) {\n          elem.leading = value;\n        }\n        break;\n    }\n  }\n  if (Object.keys(node.dataset).length)\n    elem.dataset = node.dataset;\n  return styles;\n}\nfunction updateDefsCache(node, defsCache) {\n  for (let i = 0, l = node.childNodes.length; i < l; i++) {\n    const n = node.childNodes[i];\n    if (!n.id)\n      continue;\n    const tagName = getTagName(node.nodeName);\n    if (tagName === \"#text\")\n      continue;\n    defsCache.add(n.id, n);\n  }\n}\nfunction getScene(node) {\n  while (node.parent) {\n    node = node.parent;\n  }\n  return node.scene;\n}\nvar read = {\n  svg: function(node) {\n    const defs = read.defs.current = new Registry();\n    const elements = node.getElementsByTagName(\"defs\");\n    for (let i = 0; i < elements.length; i++) {\n      updateDefsCache(elements[i], defs);\n    }\n    const svg2 = read.g.call(this, node);\n    const viewBox = node.getAttribute(\"viewBox\");\n    const x = node.getAttribute(\"x\");\n    const y = node.getAttribute(\"y\");\n    const width = node.getAttribute(\"width\");\n    const height = node.getAttribute(\"height\");\n    svg2.defs = defs;\n    const viewBoxExists = viewBox !== null;\n    const xExists = x !== null;\n    const yExists = y !== null;\n    const widthExists = width !== null;\n    const heightExists = height !== null;\n    if (xExists) {\n      svg2.x = parseFloat(x.replace(regex2.unitSuffix, \"\"));\n    }\n    if (yExists) {\n      svg2.y = parseFloat(y.replace(regex2.unitSuffix, \"\"));\n    }\n    if (widthExists) {\n      svg2.width = parseFloat(width.replace(regex2.unitSuffix, \"\"));\n    }\n    if (heightExists) {\n      svg2.height = parseFloat(height.replace(regex2.unitSuffix, \"\"));\n    }\n    if (viewBoxExists) {\n      applySvgViewBox(svg2, viewBox);\n    }\n    delete read.defs.current;\n    return svg2;\n  },\n  defs: function(node) {\n    return null;\n  },\n  use: function(node, styles) {\n    let error;\n    const href = node.getAttribute(\"href\") || node.getAttribute(\"xlink:href\");\n    if (!href) {\n      error = new TwoError(\"encountered <use /> with no href.\");\n      console.warn(error.name, error.message);\n      return null;\n    }\n    const id = href.slice(1);\n    if (!read.defs.current.contains(id)) {\n      error = new TwoError(\n        \"unable to find element for reference \" + href + \".\"\n      );\n      console.warn(error.name, error.message);\n      return null;\n    }\n    const template = read.defs.current.get(id);\n    const fullNode = template.cloneNode(true);\n    for (let i = 0; i < node.attributes.length; i++) {\n      const attr = node.attributes[i];\n      const ca = overwriteAttrs.includes(attr.nodeName);\n      const cb = !fullNode.hasAttribute(attr.nodeName);\n      if (ca || cb) {\n        fullNode.setAttribute(attr.nodeName, attr.value);\n      }\n    }\n    const tagName = getTagName(fullNode.nodeName);\n    return read[tagName].call(this, fullNode, styles);\n  },\n  g: function(node, parentStyles) {\n    const group = new Group();\n    applySvgAttributes.call(this, node, group, parentStyles);\n    this.add(group);\n    const styles = getSvgStyles.call(this, node);\n    for (let i = 0, l = node.childNodes.length; i < l; i++) {\n      const n = node.childNodes[i];\n      const tag = n.nodeName;\n      if (!tag)\n        return;\n      const tagName = getTagName(tag);\n      if (tagName in read) {\n        const o = read[tagName].call(group, n, styles);\n        if (!!o && !o.parent) {\n          group.add(o);\n        }\n      }\n    }\n    return group;\n  },\n  polygon: function(node, parentStyles) {\n    let points;\n    if (typeof node === \"string\") {\n      points = node;\n    } else {\n      points = node.getAttribute(\"points\");\n    }\n    const verts = [];\n    points.replace(\n      /(-?[\\d.eE-]+)[,|\\s](-?[\\d.eE-]+)/g,\n      function(match, p1, p2) {\n        verts.push(new Anchor(parseFloat(p1), parseFloat(p2)));\n      }\n    );\n    const poly = new Path(verts, true);\n    poly.stroke = \"none\";\n    poly.fill = \"black\";\n    applySvgAttributes.call(this, node, poly, parentStyles);\n    return poly;\n  },\n  polyline: function(node, parentStyles) {\n    const poly = read.polygon.call(this, node, parentStyles);\n    poly.closed = false;\n    return poly;\n  },\n  path: function(node, parentStyles) {\n    let path;\n    if (typeof node === \"string\") {\n      path = node;\n      node = null;\n    } else {\n      path = node.getAttribute(\"d\");\n    }\n    let points = [];\n    let closed2 = false, relative = false;\n    if (path) {\n      let coord = new Anchor();\n      let control, coords;\n      let commands = path.match(/[a-df-z][^a-df-z]*/gi);\n      const last = commands.length - 1;\n      _.each(commands.slice(0), function(command, i) {\n        const items = command.slice(1).trim().match(regex2.path);\n        const type = command[0];\n        const lower = type.toLowerCase();\n        let bin, j, l, ct, times;\n        const result = [];\n        if (i === 0) {\n          commands = [];\n        }\n        switch (lower) {\n          case \"h\":\n          case \"v\":\n            if (items.length > 1) {\n              bin = 1;\n            }\n            break;\n          case \"m\":\n          case \"l\":\n          case \"t\":\n            if (items.length > 2) {\n              bin = 2;\n            }\n            break;\n          case \"s\":\n          case \"q\":\n            if (items.length > 4) {\n              bin = 4;\n            }\n            break;\n          case \"c\":\n            if (items.length > 6) {\n              bin = 6;\n            }\n            break;\n          case \"a\":\n            if (items.length > 7) {\n              bin = 7;\n            }\n            break;\n        }\n        if (bin) {\n          for (j = 0, l = items.length, times = 0; j < l; j += bin) {\n            ct = type;\n            if (times > 0) {\n              switch (type) {\n                case \"m\":\n                  ct = \"l\";\n                  break;\n                case \"M\":\n                  ct = \"L\";\n                  break;\n              }\n            }\n            result.push(ct + items.slice(j, j + bin).join(\" \"));\n            times++;\n          }\n          commands = Array.prototype.concat.apply(commands, result);\n        } else {\n          commands.push(command);\n        }\n      });\n      _.each(commands, function(command, i) {\n        let result, x, y;\n        const type = command[0];\n        const lower = type.toLowerCase();\n        coords = command.slice(1).trim().match(regex2.path);\n        relative = type === lower;\n        let x1, y1, x2, y2, x3, y3, x4, y4, reflection;\n        let a, b;\n        let anchor2, rx, ry, xAxisRotation, largeArcFlag, sweepFlag;\n        switch (lower) {\n          case \"z\":\n            if (i >= last) {\n              closed2 = true;\n            } else {\n              x = coord.x;\n              y = coord.y;\n              result = new Anchor(\n                x,\n                y,\n                void 0,\n                void 0,\n                void 0,\n                void 0,\n                Commands.close\n              );\n              for (let j = points.length - 1; j >= 0; j--) {\n                const point = points[j];\n                if (/m/i.test(point.command)) {\n                  coord = point;\n                  break;\n                }\n              }\n            }\n            break;\n          case \"m\":\n          case \"l\":\n            control = void 0;\n            x = parseFloat(coords[0]);\n            y = parseFloat(coords[1]);\n            result = new Anchor(\n              x,\n              y,\n              void 0,\n              void 0,\n              void 0,\n              void 0,\n              /m/i.test(lower) ? Commands.move : Commands.line\n            );\n            if (relative) {\n              result.addSelf(coord);\n            }\n            coord = result;\n            break;\n          case \"h\":\n          case \"v\":\n            a = /h/i.test(lower) ? \"x\" : \"y\";\n            b = /x/i.test(a) ? \"y\" : \"x\";\n            result = new Anchor(\n              void 0,\n              void 0,\n              void 0,\n              void 0,\n              void 0,\n              void 0,\n              Commands.line\n            );\n            result[a] = parseFloat(coords[0]);\n            result[b] = coord[b];\n            if (relative) {\n              result[a] += coord[a];\n            }\n            coord = result;\n            break;\n          case \"c\":\n          case \"s\":\n            x1 = coord.x;\n            y1 = coord.y;\n            if (!control) {\n              control = new Vector();\n            }\n            if (/c/i.test(lower)) {\n              x2 = parseFloat(coords[0]);\n              y2 = parseFloat(coords[1]);\n              x3 = parseFloat(coords[2]);\n              y3 = parseFloat(coords[3]);\n              x4 = parseFloat(coords[4]);\n              y4 = parseFloat(coords[5]);\n            } else {\n              reflection = getReflection(coord, control, relative);\n              x2 = reflection.x;\n              y2 = reflection.y;\n              x3 = parseFloat(coords[0]);\n              y3 = parseFloat(coords[1]);\n              x4 = parseFloat(coords[2]);\n              y4 = parseFloat(coords[3]);\n            }\n            if (relative) {\n              x2 += x1;\n              y2 += y1;\n              x3 += x1;\n              y3 += y1;\n              x4 += x1;\n              y4 += y1;\n            }\n            coord.controls.right.set(x2 - coord.x, y2 - coord.y);\n            result = new Anchor(\n              x4,\n              y4,\n              x3 - x4,\n              y3 - y4,\n              void 0,\n              void 0,\n              Commands.curve\n            );\n            coord = result;\n            control = result.controls.left;\n            break;\n          case \"t\":\n          case \"q\":\n            x1 = coord.x;\n            y1 = coord.y;\n            if (!control) {\n              control = new Vector();\n            }\n            if (/q/i.test(lower)) {\n              x2 = parseFloat(coords[0]);\n              y2 = parseFloat(coords[1]);\n              x3 = parseFloat(coords[0]);\n              y3 = parseFloat(coords[1]);\n              x4 = parseFloat(coords[2]);\n              y4 = parseFloat(coords[3]);\n            } else {\n              reflection = getReflection(coord, control, relative);\n              x2 = reflection.x;\n              y2 = reflection.y;\n              x3 = reflection.x;\n              y3 = reflection.y;\n              x4 = parseFloat(coords[0]);\n              y4 = parseFloat(coords[1]);\n            }\n            if (relative) {\n              x2 += x1;\n              y2 += y1;\n              x3 += x1;\n              y3 += y1;\n              x4 += x1;\n              y4 += y1;\n            }\n            coord.controls.right.set(\n              (x2 - coord.x) * 0.33,\n              (y2 - coord.y) * 0.33\n            );\n            result = new Anchor(\n              x4,\n              y4,\n              x3 - x4,\n              y3 - y4,\n              void 0,\n              void 0,\n              Commands.curve\n            );\n            coord = result;\n            control = result.controls.left;\n            break;\n          case \"a\":\n            x1 = coord.x;\n            y1 = coord.y;\n            rx = parseFloat(coords[0]);\n            ry = parseFloat(coords[1]);\n            xAxisRotation = parseFloat(coords[2]);\n            largeArcFlag = parseFloat(coords[3]);\n            sweepFlag = parseFloat(coords[4]);\n            x4 = parseFloat(coords[5]);\n            y4 = parseFloat(coords[6]);\n            if (relative) {\n              x4 += x1;\n              y4 += y1;\n            }\n            anchor2 = new Anchor(x4, y4);\n            anchor2.command = Commands.arc;\n            anchor2.rx = rx;\n            anchor2.ry = ry;\n            anchor2.xAxisRotation = xAxisRotation;\n            anchor2.largeArcFlag = largeArcFlag;\n            anchor2.sweepFlag = sweepFlag;\n            result = anchor2;\n            coord = anchor2;\n            control = void 0;\n            break;\n        }\n        if (result) {\n          if (Array.isArray(result)) {\n            points = points.concat(result);\n          } else {\n            points.push(result);\n          }\n        }\n      });\n    }\n    path = new Path(points, closed2, void 0, true);\n    path.stroke = \"none\";\n    path.fill = \"black\";\n    const rect = path.getBoundingClientRect(true);\n    rect.centroid = {\n      x: rect.left + rect.width / 2,\n      y: rect.top + rect.height / 2\n    };\n    _.each(path.vertices, function(v) {\n      v.subSelf(rect.centroid);\n    });\n    applySvgAttributes.call(this, node, path, parentStyles);\n    path.translation.addSelf(rect.centroid);\n    return path;\n  },\n  circle: function(node, parentStyles) {\n    const x = parseFloat(node.getAttribute(\"cx\"));\n    const y = parseFloat(node.getAttribute(\"cy\"));\n    const r = parseFloat(node.getAttribute(\"r\"));\n    const circle = new Circle(0, 0, r);\n    circle.stroke = \"none\";\n    circle.fill = \"black\";\n    applySvgAttributes.call(this, node, circle, parentStyles);\n    circle.translation.x = x;\n    circle.translation.y = y;\n    return circle;\n  },\n  ellipse: function(node, parentStyles) {\n    const x = parseFloat(node.getAttribute(\"cx\"));\n    const y = parseFloat(node.getAttribute(\"cy\"));\n    const width = parseFloat(node.getAttribute(\"rx\"));\n    const height = parseFloat(node.getAttribute(\"ry\"));\n    const ellipse = new Ellipse(0, 0, width, height);\n    ellipse.stroke = \"none\";\n    ellipse.fill = \"black\";\n    applySvgAttributes.call(this, node, ellipse, parentStyles);\n    ellipse.translation.x = x;\n    ellipse.translation.y = y;\n    return ellipse;\n  },\n  rect: function(node, parentStyles) {\n    const rx = parseFloat(node.getAttribute(\"rx\"));\n    const ry = parseFloat(node.getAttribute(\"ry\"));\n    if (!_.isNaN(rx) || !_.isNaN(ry)) {\n      return read[\"rounded-rect\"](node);\n    }\n    const width = parseFloat(node.getAttribute(\"width\"));\n    const height = parseFloat(node.getAttribute(\"height\"));\n    const w2 = width / 2;\n    const h2 = height / 2;\n    const rect = new Rectangle(0, 0, width, height);\n    rect.stroke = \"none\";\n    rect.fill = \"black\";\n    applySvgAttributes.call(this, node, rect, parentStyles);\n    rect.translation.x += w2;\n    rect.translation.y += h2;\n    return rect;\n  },\n  \"rounded-rect\": function(node, parentStyles) {\n    const rx = parseFloat(node.getAttribute(\"rx\")) || 0;\n    const ry = parseFloat(node.getAttribute(\"ry\")) || 0;\n    const width = parseFloat(node.getAttribute(\"width\"));\n    const height = parseFloat(node.getAttribute(\"height\"));\n    const w2 = width / 2;\n    const h2 = height / 2;\n    const radius = new Vector(rx, ry);\n    const rect = new RoundedRectangle(0, 0, width, height, radius);\n    rect.stroke = \"none\";\n    rect.fill = \"black\";\n    applySvgAttributes.call(this, node, rect, parentStyles);\n    rect.translation.x += w2;\n    rect.translation.y += h2;\n    return rect;\n  },\n  line: function(node, parentStyles) {\n    const x1 = parseFloat(node.getAttribute(\"x1\"));\n    const y1 = parseFloat(node.getAttribute(\"y1\"));\n    const x2 = parseFloat(node.getAttribute(\"x2\"));\n    const y2 = parseFloat(node.getAttribute(\"y2\"));\n    const line = new Line(x1, y1, x2, y2).noFill();\n    applySvgAttributes.call(this, node, line, parentStyles);\n    return line;\n  },\n  lineargradient: function(node, parentStyles) {\n    let units = node.getAttribute(\"gradientUnits\");\n    let spread = node.getAttribute(\"spreadMethod\");\n    if (!units) {\n      units = \"objectBoundingBox\";\n    }\n    if (!spread) {\n      spread = \"pad\";\n    }\n    let x1 = parseFloat(node.getAttribute(\"x1\") || 0);\n    let y1 = parseFloat(node.getAttribute(\"y1\") || 0);\n    let x2 = parseFloat(node.getAttribute(\"x2\") || 0);\n    let y2 = parseFloat(node.getAttribute(\"y2\") || 0);\n    const ox = (x2 + x1) / 2;\n    const oy = (y2 + y1) / 2;\n    if (/userSpaceOnUse/i.test(units)) {\n      x1 -= ox;\n      y1 -= oy;\n      x2 -= ox;\n      y2 -= oy;\n    }\n    const stops = [];\n    for (let i = 0; i < node.children.length; i++) {\n      const child = node.children[i];\n      let offset = child.getAttribute(\"offset\");\n      if (/%/gi.test(offset)) {\n        offset = parseFloat(offset.replace(/%/gi, \"\")) / 100;\n      }\n      offset = parseFloat(offset);\n      let color = child.getAttribute(\"stop-color\");\n      let opacity = child.getAttribute(\"stop-opacity\");\n      let style = child.getAttribute(\"style\");\n      let matches;\n      if (color === null) {\n        matches = style ? style.match(/stop-color:\\s?([#a-fA-F0-9]*)/) : false;\n        color = matches && matches.length > 1 ? matches[1] : void 0;\n      }\n      if (opacity === null) {\n        matches = style ? style.match(/stop-opacity:\\s?([0-9.-]*)/) : false;\n        opacity = matches && matches.length > 1 ? parseFloat(matches[1]) : 1;\n      } else {\n        opacity = parseFloat(opacity);\n      }\n      stops.push(new Stop(offset, color, opacity));\n    }\n    const gradient = new LinearGradient(x1, y1, x2, y2, stops);\n    gradient.spread = spread;\n    gradient.units = units;\n    applySvgAttributes.call(this, node, gradient, parentStyles);\n    return gradient;\n  },\n  radialgradient: function(node, parentStyles) {\n    let units = node.getAttribute(\"gradientUnits\");\n    let spread = node.getAttribute(\"spreadMethod\");\n    if (!units) {\n      units = \"objectBoundingBox\";\n    }\n    if (!spread) {\n      spread = \"pad\";\n    }\n    let cx = parseFloat(node.getAttribute(\"cx\")) || 0;\n    let cy = parseFloat(node.getAttribute(\"cy\")) || 0;\n    let r = parseFloat(node.getAttribute(\"r\"));\n    let fx = parseFloat(node.getAttribute(\"fx\"));\n    let fy = parseFloat(node.getAttribute(\"fy\"));\n    if (_.isNaN(fx)) {\n      fx = cx;\n    }\n    if (_.isNaN(fy)) {\n      fy = cy;\n    }\n    const ox = Math.abs(cx + fx) / 2;\n    const oy = Math.abs(cy + fy) / 2;\n    if (/userSpaceOnUse/i.test(units)) {\n      cx -= ox;\n      cy -= oy;\n      fx -= ox;\n      fy -= oy;\n    }\n    const stops = [];\n    for (let i = 0; i < node.children.length; i++) {\n      const child = node.children[i];\n      let offset = child.getAttribute(\"offset\");\n      if (/%/gi.test(offset)) {\n        offset = parseFloat(offset.replace(/%/gi, \"\")) / 100;\n      }\n      offset = parseFloat(offset);\n      let color = child.getAttribute(\"stop-color\");\n      let opacity = child.getAttribute(\"stop-opacity\");\n      let style = child.getAttribute(\"style\");\n      let matches;\n      if (color === null) {\n        matches = style ? style.match(/stop-color:\\s?([#a-fA-F0-9]*)/) : false;\n        color = matches && matches.length > 1 ? matches[1] : void 0;\n      }\n      if (opacity === null) {\n        matches = style ? style.match(/stop-opacity:\\s?([0-9.-]*)/) : false;\n        opacity = matches && matches.length > 1 ? parseFloat(matches[1]) : 1;\n      } else {\n        opacity = parseFloat(opacity);\n      }\n      stops.push(new Stop(offset, color, opacity));\n    }\n    const gradient = new RadialGradient(cx, cy, r, stops, fx, fy);\n    gradient.spread = spread;\n    gradient.units = units;\n    applySvgAttributes.call(this, node, gradient, parentStyles);\n    return gradient;\n  },\n  text: function(node, parentStyles) {\n    const alignment = getAlignment(node.getAttribute(\"text-anchor\")) || \"left\";\n    const baseline = getBaseline(node) || \"baseline\";\n    let message = \"\";\n    if (node.childNodes.length > 0 && node.childNodes[0].tagName === \"TSPAN\") {\n      message = node.childNodes[0].textContent;\n    } else {\n      message = node.textContent;\n    }\n    const text = new Text(message);\n    applySvgAttributes.call(this, node, text, parentStyles);\n    text.alignment = alignment;\n    text.baseline = baseline;\n    return text;\n  },\n  clippath: function(node, parentStyles) {\n    if (read.defs.current && !read.defs.current.contains(node.id)) {\n      read.defs.current.add(node.id, node);\n    }\n    return null;\n  },\n  image: function(node, parentStyles) {\n    let error;\n    const href = node.getAttribute(\"href\") || node.getAttribute(\"xlink:href\");\n    if (!href) {\n      error = new TwoError(\"encountered <image /> with no href.\");\n      console.warn(error.name, error.message);\n      return null;\n    }\n    const x = parseFloat(node.getAttribute(\"x\")) || 0;\n    const y = parseFloat(node.getAttribute(\"y\")) || 0;\n    const width = parseFloat(node.getAttribute(\"width\"));\n    const height = parseFloat(node.getAttribute(\"height\"));\n    const sprite = new Sprite(href, x, y);\n    if (!_.isNaN(width)) {\n      sprite.width = width;\n    }\n    if (!_.isNaN(height)) {\n      sprite.height = height;\n    }\n    applySvgAttributes.call(this, node, sprite, parentStyles);\n    return sprite;\n  }\n};\n\n// src/utils/xhr.js\nfunction xhr(path, callback) {\n  const xhr2 = new XMLHttpRequest();\n  xhr2.open(\"GET\", path);\n  xhr2.onreadystatechange = function() {\n    if (xhr2.readyState === 4 && xhr2.status === 200) {\n      callback(xhr2.responseText);\n    }\n  };\n  xhr2.send();\n  return xhr2;\n}\n\n// src/effects/image-sequence.js\nvar _ImageSequence = class extends Rectangle {\n  constructor(paths, ox, oy, frameRate) {\n    super(ox, oy, 0, 0);\n    __publicField(this, \"_flagTextures\", false);\n    __publicField(this, \"_flagFrameRate\", false);\n    __publicField(this, \"_flagIndex\", false);\n    __publicField(this, \"_amount\", 1);\n    __publicField(this, \"_duration\", 0);\n    __publicField(this, \"_index\", 0);\n    __publicField(this, \"_startTime\", 0);\n    __publicField(this, \"_playing\", false);\n    __publicField(this, \"_firstFrame\", 0);\n    __publicField(this, \"_lastFrame\", 0);\n    __publicField(this, \"_loop\", true);\n    __publicField(this, \"_textures\", null);\n    __publicField(this, \"_frameRate\", 0);\n    __publicField(this, \"_origin\", null);\n    for (let prop in proto23) {\n      Object.defineProperty(this, prop, proto23[prop]);\n    }\n    this._renderer.flagTextures = FlagTextures.bind(this);\n    this._renderer.bindTextures = BindTextures.bind(this);\n    this._renderer.unbindTextures = UnbindTextures.bind(this);\n    this.noStroke();\n    this.noFill();\n    if (Array.isArray(paths)) {\n      this.textures = paths.map(GenerateTexture.bind(this));\n    } else {\n      this.textures = [GenerateTexture(paths)];\n    }\n    this.origin = new Vector();\n    this._update();\n    if (typeof frameRate === \"number\") {\n      this.frameRate = frameRate;\n    } else {\n      this.frameRate = _ImageSequence.DefaultFrameRate;\n    }\n    this.index = 0;\n  }\n  static fromObject(obj) {\n    const sequence = new _ImageSequence().copy(obj);\n    if (\"id\" in obj) {\n      sequence.id = obj.id;\n    }\n    return sequence;\n  }\n  copy(imageSequence) {\n    super.copy.call(this, imageSequence);\n    for (let i = 0; i < _ImageSequence.Properties.length; i++) {\n      const k = _ImageSequence.Properties[i];\n      if (k in imageSequence) {\n        this[k] = imageSequence[k];\n      }\n    }\n    return this;\n  }\n  play(firstFrame, lastFrame, onLastFrame) {\n    this._playing = true;\n    this._firstFrame = 0;\n    this._lastFrame = this.amount - 1;\n    this._startTime = _.performance.now();\n    if (typeof firstFrame === \"number\") {\n      this._firstFrame = firstFrame;\n    }\n    if (typeof lastFrame === \"number\") {\n      this._lastFrame = lastFrame;\n    }\n    if (typeof onLastFrame === \"function\") {\n      this._onLastFrame = onLastFrame;\n    } else {\n      delete this._onLastFrame;\n    }\n    if (this._index !== this._firstFrame) {\n      this._startTime -= 1e3 * Math.abs(this._index - this._firstFrame) / this._frameRate;\n    }\n    return this;\n  }\n  pause() {\n    this._playing = false;\n    return this;\n  }\n  stop() {\n    this._playing = false;\n    this._index = this._firstFrame;\n    return this;\n  }\n  clone(parent) {\n    const clone = new _ImageSequence(\n      this.textures,\n      this.translation.x,\n      this.translation.y,\n      this.frameRate\n    );\n    clone._loop = this._loop;\n    if (this._playing) {\n      clone.play();\n    }\n    if (parent) {\n      parent.add(clone);\n    }\n    return clone;\n  }\n  toObject() {\n    const object = super.toObject.call(this);\n    object.textures = this.textures.map(function(texture) {\n      return texture.toObject();\n    });\n    object.frameRate = this.frameRate;\n    object.index = this.index;\n    object.firstFrame = this.firstFrame;\n    object.lastFrame = this.lastFrame;\n    object.loop = this.loop;\n    return object;\n  }\n  _update() {\n    const effect = this._textures;\n    let width, height, elapsed, amount, duration, texture;\n    let index, frames;\n    if (effect) {\n      if (this._flagTextures) {\n        this._amount = effect.length;\n      }\n      if (this._flagFrameRate) {\n        this._duration = 1e3 * this._amount / this._frameRate;\n      }\n      if (this._playing && this._frameRate > 0) {\n        amount = this._amount;\n        if (_.isNaN(this._lastFrame)) {\n          this._lastFrame = amount - 1;\n        }\n        elapsed = _.performance.now() - this._startTime;\n        frames = this._lastFrame + 1;\n        duration = 1e3 * (frames - this._firstFrame) / this._frameRate;\n        if (this._loop) {\n          elapsed = elapsed % duration;\n        } else {\n          elapsed = Math.min(elapsed, duration);\n        }\n        index = lerp(this._firstFrame, frames, elapsed / duration);\n        index = Math.floor(index);\n        if (index !== this._index) {\n          this._index = index;\n          texture = effect[this._index];\n          if (texture.loaded) {\n            width = texture.image.width;\n            height = texture.image.height;\n            if (this.width !== width) {\n              this.width = width;\n            }\n            if (this.height !== height) {\n              this.height = height;\n            }\n            this.fill = texture;\n            if (index >= this._lastFrame - 1 && this._onLastFrame) {\n              this._onLastFrame();\n            }\n          }\n        }\n      } else if (this._flagIndex || !(this.fill instanceof Texture)) {\n        texture = effect[this._index];\n        if (texture.loaded) {\n          width = texture.image.width;\n          height = texture.image.height;\n          if (this.width !== width) {\n            this.width = width;\n          }\n          if (this.height !== height) {\n            this.height = height;\n          }\n        }\n        this.fill = texture;\n      }\n    }\n    super._update.call(this);\n    return this;\n  }\n  flagReset() {\n    this._flagTextures = this._flagFrameRate = false;\n    super.flagReset.call(this);\n    return this;\n  }\n};\nvar ImageSequence = _ImageSequence;\n__publicField(ImageSequence, \"Properties\", [\n  \"textures\",\n  \"frameRate\",\n  \"index\",\n  \"firstFrame\",\n  \"lastFrame\",\n  \"loop\"\n]);\n__publicField(ImageSequence, \"DefaultFrameRate\", 30);\nvar proto23 = {\n  frameRate: {\n    enumerable: true,\n    get: function() {\n      return this._frameRate;\n    },\n    set: function(v) {\n      this._frameRate = v;\n      this._flagFrameRate = true;\n    }\n  },\n  index: {\n    enumerable: true,\n    get: function() {\n      return this._index;\n    },\n    set: function(v) {\n      this._index = v;\n      this._flagIndex = true;\n    }\n  },\n  textures: {\n    enumerable: true,\n    get: function() {\n      return this._textures;\n    },\n    set: function(textures) {\n      const bindTextures = this._renderer.bindTextures;\n      const unbindTextures = this._renderer.unbindTextures;\n      if (this._textures) {\n        this._textures.unbind(Events.Types.insert, bindTextures).unbind(Events.Types.remove, unbindTextures);\n      }\n      this._textures = new Collection((textures || []).slice(0));\n      this._textures.bind(Events.Types.insert, bindTextures).bind(Events.Types.remove, unbindTextures);\n      bindTextures(this._textures);\n    }\n  },\n  firstFrame: {\n    enumerable: true,\n    get: function() {\n      return this._firstFrame;\n    },\n    set: function(v) {\n      this._firstFrame = v;\n    }\n  },\n  lastFrame: {\n    enumerable: true,\n    get: function() {\n      return this._lastFrame;\n    },\n    set: function(v) {\n      this._lastFrame = v;\n    }\n  },\n  loop: {\n    enumerable: true,\n    get: function() {\n      return this._loop;\n    },\n    set: function(v) {\n      this._loop = !!v;\n    }\n  }\n};\nfunction FlagTextures() {\n  this._flagTextures = true;\n}\nfunction BindTextures(items) {\n  let i = items.length;\n  while (i--) {\n    items[i].bind(Events.Types.change, this._renderer.flagTextures);\n  }\n  this._renderer.flagTextures();\n}\nfunction UnbindTextures(items) {\n  let i = items.length;\n  while (i--) {\n    items[i].unbind(Events.Types.change, this._renderer.flagTextures);\n  }\n  this._renderer.flagTextures();\n}\nfunction GenerateTexture(obj) {\n  if (obj instanceof Texture) {\n    return obj;\n  } else if (typeof obj === \"string\") {\n    return new Texture(obj);\n  }\n}\n\n// src/renderers/canvas.js\nvar emptyArray = [];\nvar max4 = Math.max;\nvar min4 = Math.min;\nvar abs = Math.abs;\nvar sin6 = Math.sin;\nvar cos6 = Math.cos;\nvar acos = Math.acos;\nvar sqrt = Math.sqrt;\nvar canvas2 = {\n  isHidden: /(undefined|none|transparent)/i,\n  alignments: {\n    left: \"start\",\n    middle: \"center\",\n    right: \"end\"\n  },\n  baselines: {\n    top: \"top\",\n    middle: \"middle\",\n    bottom: \"bottom\",\n    baseline: \"alphabetic\"\n  },\n  getRendererType: function(type) {\n    return type in canvas2 ? type : \"path\";\n  },\n  group: {\n    renderChild: function(child) {\n      const prop = canvas2.getRendererType(child._renderer.type);\n      canvas2[prop].render.call(child, this.ctx, true, this.clip);\n    },\n    render: function(ctx) {\n      if (!this._visible) {\n        return this;\n      }\n      this._update();\n      const matrix = this._matrix.elements;\n      const parent = this.parent;\n      this._renderer.opacity = this._opacity * (parent && parent._renderer ? parent._renderer.opacity : 1);\n      const mask = this._mask;\n      const defaultMatrix = isDefaultMatrix(matrix);\n      const shouldIsolate = !defaultMatrix || !!mask;\n      if (!this._renderer.context) {\n        this._renderer.context = {};\n      }\n      this._renderer.context.ctx = ctx;\n      if (shouldIsolate) {\n        ctx.save();\n        if (!defaultMatrix) {\n          ctx.transform(\n            matrix[0],\n            matrix[3],\n            matrix[1],\n            matrix[4],\n            matrix[2],\n            matrix[5]\n          );\n        }\n      }\n      if (mask) {\n        const prop = canvas2.getRendererType(mask._renderer.type);\n        canvas2[prop].render.call(mask, ctx, true);\n      }\n      if (this._opacity > 0 && this._scale !== 0) {\n        for (let i = 0; i < this.children.length; i++) {\n          const child = this.children[i];\n          const prop = canvas2.getRendererType(child._renderer.type);\n          canvas2[prop].render.call(child, ctx);\n        }\n      }\n      if (shouldIsolate) {\n        ctx.restore();\n      }\n      return this.flagReset();\n    }\n  },\n  path: {\n    render: function(ctx, forced, parentClipped) {\n      let matrix, stroke, linewidth, fill, opacity, visible, cap, join, miter, closed2, commands, length, last, prev, a, b, c, d, ux, uy, vx, vy, ar, bl, br, cl, x, y, mask, clip, defaultMatrix, isOffset, dashes, po;\n      po = this.parent && this.parent._renderer ? this.parent._renderer.opacity : 1;\n      mask = this._mask;\n      clip = this._clip;\n      opacity = this._opacity * (po || 1);\n      visible = this._visible;\n      if (!forced && (!visible || clip || opacity === 0)) {\n        return this;\n      }\n      this._update();\n      matrix = this._matrix.elements;\n      stroke = this._stroke;\n      linewidth = this._linewidth;\n      fill = this._fill;\n      cap = this._cap;\n      join = this._join;\n      miter = this._miter;\n      closed2 = this._closed;\n      commands = this._renderer.vertices;\n      length = commands.length;\n      last = length - 1;\n      defaultMatrix = isDefaultMatrix(matrix);\n      dashes = this.dashes;\n      if (!defaultMatrix) {\n        ctx.save();\n        ctx.transform(\n          matrix[0],\n          matrix[3],\n          matrix[1],\n          matrix[4],\n          matrix[2],\n          matrix[5]\n        );\n      }\n      if (mask) {\n        const prop = canvas2.getRendererType(mask._renderer.type);\n        canvas2[prop].render.call(mask, ctx, true);\n      }\n      if (fill) {\n        if (typeof fill === \"string\") {\n          ctx.fillStyle = fill;\n        } else {\n          const prop = canvas2.getRendererType(fill._renderer.type);\n          canvas2[prop].render.call(fill, ctx, this);\n          ctx.fillStyle = fill._renderer.effect;\n        }\n      }\n      if (stroke) {\n        if (typeof stroke === \"string\") {\n          ctx.strokeStyle = stroke;\n        } else {\n          const prop = canvas2.getRendererType(stroke._renderer.type);\n          canvas2[prop].render.call(stroke, ctx, this);\n          ctx.strokeStyle = stroke._renderer.effect;\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n        if (miter) {\n          ctx.miterLimit = miter;\n        }\n        if (join) {\n          ctx.lineJoin = join;\n        }\n        if (!closed2 && cap) {\n          ctx.lineCap = cap;\n        }\n      }\n      if (typeof opacity === \"number\") {\n        ctx.globalAlpha = opacity;\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.lineDashOffset = dashes.offset || 0;\n        ctx.setLineDash(dashes);\n      }\n      ctx.beginPath();\n      let rx, ry, xAxisRotation, largeArcFlag, sweepFlag, ax, ay;\n      for (let i = 0; i < length; i++) {\n        b = commands[i];\n        x = b.x;\n        y = b.y;\n        switch (b.command) {\n          case Commands.close:\n            ctx.closePath();\n            break;\n          case Commands.arc:\n            rx = b.rx;\n            ry = b.ry;\n            xAxisRotation = b.xAxisRotation;\n            largeArcFlag = b.largeArcFlag;\n            sweepFlag = b.sweepFlag;\n            prev = closed2 ? mod(i - 1, length) : max4(i - 1, 0);\n            a = commands[prev];\n            ax = a.x;\n            ay = a.y;\n            canvas2.renderSvgArcCommand(\n              ctx,\n              ax,\n              ay,\n              rx,\n              ry,\n              largeArcFlag,\n              sweepFlag,\n              xAxisRotation,\n              x,\n              y\n            );\n            break;\n          case Commands.curve:\n            prev = closed2 ? mod(i - 1, length) : Math.max(i - 1, 0);\n            a = commands[prev];\n            ar = a.controls && a.controls.right || Vector.zero;\n            bl = b.controls && b.controls.left || Vector.zero;\n            if (a._relative) {\n              vx = ar.x + a.x;\n              vy = ar.y + a.y;\n            } else {\n              vx = ar.x;\n              vy = ar.y;\n            }\n            if (b._relative) {\n              ux = bl.x + b.x;\n              uy = bl.y + b.y;\n            } else {\n              ux = bl.x;\n              uy = bl.y;\n            }\n            ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\n            if (i >= last && closed2) {\n              c = d;\n              br = b.controls && b.controls.right || Vector.zero;\n              cl = c.controls && c.controls.left || Vector.zero;\n              if (b._relative) {\n                vx = br.x + b.x;\n                vy = br.y + b.y;\n              } else {\n                vx = br.x;\n                vy = br.y;\n              }\n              if (c._relative) {\n                ux = cl.x + c.x;\n                uy = cl.y + c.y;\n              } else {\n                ux = cl.x;\n                uy = cl.y;\n              }\n              x = c.x;\n              y = c.y;\n              ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\n            }\n            break;\n          case Commands.line:\n            ctx.lineTo(x, y);\n            break;\n          case Commands.move:\n            d = b;\n            ctx.moveTo(x, y);\n            break;\n        }\n      }\n      if (closed2) {\n        ctx.closePath();\n      }\n      if (!clip && !parentClipped) {\n        if (!canvas2.isHidden.test(fill)) {\n          isOffset = fill._renderer && fill._renderer.offset;\n          if (isOffset) {\n            ctx.save();\n            ctx.translate(-fill._renderer.offset.x, -fill._renderer.offset.y);\n            ctx.scale(fill._renderer.scale.x, fill._renderer.scale.y);\n          }\n          ctx.fill();\n          if (isOffset) {\n            ctx.restore();\n          }\n        }\n        if (!canvas2.isHidden.test(stroke)) {\n          isOffset = stroke._renderer && stroke._renderer.offset;\n          if (isOffset) {\n            ctx.save();\n            ctx.translate(\n              -stroke._renderer.offset.x,\n              -stroke._renderer.offset.y\n            );\n            ctx.scale(stroke._renderer.scale.x, stroke._renderer.scale.y);\n            ctx.lineWidth = linewidth / stroke._renderer.scale.x;\n          }\n          ctx.stroke();\n          if (isOffset) {\n            ctx.restore();\n          }\n        }\n      }\n      if (!defaultMatrix) {\n        ctx.restore();\n      }\n      if (clip && !parentClipped) {\n        ctx.clip();\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.setLineDash(emptyArray);\n      }\n      return this.flagReset();\n    }\n  },\n  points: {\n    render: function(ctx, forced, parentClipped) {\n      let me, stroke, linewidth, fill, opacity, visible, size, commands, length, b, x, y, defaultMatrix, isOffset, dashes, po;\n      po = this.parent && this.parent._renderer ? this.parent._renderer.opacity : 1;\n      opacity = this._opacity * (po || 1);\n      visible = this._visible;\n      if (!forced && (!visible || opacity === 0)) {\n        return this;\n      }\n      this._update();\n      me = this._matrix.elements;\n      stroke = this._stroke;\n      linewidth = this._linewidth;\n      fill = this._fill;\n      commands = this._renderer.collection;\n      length = commands.length;\n      defaultMatrix = isDefaultMatrix(me);\n      dashes = this.dashes;\n      size = this._size;\n      if (!defaultMatrix) {\n        ctx.save();\n        ctx.transform(me[0], me[3], me[1], me[4], me[2], me[5]);\n      }\n      if (fill) {\n        if (typeof fill === \"string\") {\n          ctx.fillStyle = fill;\n        } else {\n          const prop = canvas2.getRendererType(fill._renderer.type);\n          canvas2[prop].render.call(fill, ctx, this);\n          ctx.fillStyle = fill._renderer.effect;\n        }\n      }\n      if (stroke) {\n        if (typeof stroke === \"string\") {\n          ctx.strokeStyle = stroke;\n        } else {\n          const prop = canvas2.getRendererType(stroke._renderer.type);\n          canvas2[prop].render.call(stroke, ctx, this);\n          ctx.strokeStyle = stroke._renderer.effect;\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n      }\n      if (typeof opacity === \"number\") {\n        ctx.globalAlpha = opacity;\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.lineDashOffset = dashes.offset || 0;\n        ctx.setLineDash(dashes);\n      }\n      ctx.beginPath();\n      let radius = size * 0.5, m;\n      if (!this._sizeAttenuation) {\n        m = this.worldMatrix.elements;\n        m = decomposeMatrix(m[0], m[3], m[1], m[4], m[2], m[5]);\n        radius /= Math.max(m.scaleX, m.scaleY);\n      }\n      for (let i = 0; i < length; i++) {\n        b = commands[i];\n        x = b.x;\n        y = b.y;\n        ctx.moveTo(x + radius, y);\n        ctx.arc(x, y, radius, 0, TWO_PI);\n      }\n      if (!parentClipped) {\n        if (!canvas2.isHidden.test(fill)) {\n          isOffset = fill._renderer && fill._renderer.offset;\n          if (isOffset) {\n            ctx.save();\n            ctx.translate(-fill._renderer.offset.x, -fill._renderer.offset.y);\n            ctx.scale(fill._renderer.scale.x, fill._renderer.scale.y);\n          }\n          ctx.fill();\n          if (isOffset) {\n            ctx.restore();\n          }\n        }\n        if (!canvas2.isHidden.test(stroke)) {\n          isOffset = stroke._renderer && stroke._renderer.offset;\n          if (isOffset) {\n            ctx.save();\n            ctx.translate(\n              -stroke._renderer.offset.x,\n              -stroke._renderer.offset.y\n            );\n            ctx.scale(stroke._renderer.scale.x, stroke._renderer.scale.y);\n            ctx.lineWidth = linewidth / stroke._renderer.scale.x;\n          }\n          ctx.stroke();\n          if (isOffset) {\n            ctx.restore();\n          }\n        }\n      }\n      if (!defaultMatrix) {\n        ctx.restore();\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.setLineDash(emptyArray);\n      }\n      return this.flagReset();\n    }\n  },\n  text: {\n    render: function(ctx, forced, parentClipped) {\n      const po = this.parent && this.parent._renderer ? this.parent._renderer.opacity : 1;\n      const opacity = this._opacity * po;\n      const visible = this._visible;\n      const mask = this._mask;\n      const clip = this._clip;\n      if (!forced && (!visible || clip || opacity === 0)) {\n        return this;\n      }\n      this._update();\n      const matrix = this._matrix.elements;\n      const stroke = this._stroke;\n      const linewidth = this._linewidth;\n      const fill = this._fill;\n      const decoration = this._decoration;\n      const direction = this._direction;\n      const defaultMatrix = isDefaultMatrix(matrix);\n      const isOffset = fill._renderer && fill._renderer.offset && stroke._renderer && stroke._renderer.offset;\n      const dashes = this.dashes;\n      const alignment = canvas2.alignments[this._alignment] || this._alignment;\n      const baseline = canvas2.baselines[this._baseline] || this._baseline;\n      let a, b, c, d, e, sx, sy, x1, y1, x2, y2;\n      if (!defaultMatrix) {\n        ctx.save();\n        ctx.transform(\n          matrix[0],\n          matrix[3],\n          matrix[1],\n          matrix[4],\n          matrix[2],\n          matrix[5]\n        );\n      }\n      if (mask) {\n        const prop = canvas2.getRendererType(mask._renderer.type);\n        canvas2[prop].render.call(mask, ctx, true);\n      }\n      if (!isOffset) {\n        ctx.font = [\n          this._style,\n          this._weight,\n          this._size + \"px/\" + this._leading + \"px\",\n          this._family\n        ].join(\" \");\n      }\n      ctx.textAlign = alignment;\n      ctx.textBaseline = baseline;\n      ctx.direction = direction;\n      if (fill) {\n        if (typeof fill === \"string\") {\n          ctx.fillStyle = fill;\n        } else {\n          const prop = canvas2.getRendererType(fill._renderer.type);\n          canvas2[prop].render.call(fill, ctx, this);\n          ctx.fillStyle = fill._renderer.effect;\n        }\n      }\n      if (stroke) {\n        if (typeof stroke === \"string\") {\n          ctx.strokeStyle = stroke;\n        } else {\n          const prop = canvas2.getRendererType(stroke._renderer.type);\n          canvas2[prop].render.call(stroke, ctx, this);\n          ctx.strokeStyle = stroke._renderer.effect;\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n      }\n      if (typeof opacity === \"number\") {\n        ctx.globalAlpha = opacity;\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.lineDashOffset = dashes.offset || 0;\n        ctx.setLineDash(dashes);\n      }\n      if (!clip && !parentClipped) {\n        if (!canvas2.isHidden.test(fill)) {\n          if (fill._renderer && fill._renderer.offset) {\n            sx = fill._renderer.scale.x;\n            sy = fill._renderer.scale.y;\n            ctx.save();\n            ctx.translate(-fill._renderer.offset.x, -fill._renderer.offset.y);\n            ctx.scale(sx, sy);\n            a = this._size / fill._renderer.scale.y;\n            b = this._leading / fill._renderer.scale.y;\n            ctx.font = [\n              this._style,\n              this._weight,\n              a + \"px/\",\n              b + \"px\",\n              this._family\n            ].join(\" \");\n            c = fill._renderer.offset.x / fill._renderer.scale.x;\n            d = fill._renderer.offset.y / fill._renderer.scale.y;\n            ctx.fillText(this.value, c, d);\n            ctx.restore();\n          } else {\n            ctx.fillText(this.value, 0, 0);\n          }\n        }\n        if (!canvas2.isHidden.test(stroke)) {\n          if (stroke._renderer && stroke._renderer.offset) {\n            sx = stroke._renderer.scale.x;\n            sy = stroke._renderer.scale.y;\n            ctx.save();\n            ctx.translate(\n              -stroke._renderer.offset.x,\n              -stroke._renderer.offset.y\n            );\n            ctx.scale(sx, sy);\n            a = this._size / stroke._renderer.scale.y;\n            b = this._leading / stroke._renderer.scale.y;\n            ctx.font = [\n              this._style,\n              this._weight,\n              a + \"px/\",\n              b + \"px\",\n              this._family\n            ].join(\" \");\n            c = stroke._renderer.offset.x / stroke._renderer.scale.x;\n            d = stroke._renderer.offset.y / stroke._renderer.scale.y;\n            e = linewidth / stroke._renderer.scale.x;\n            ctx.lineWidth = e;\n            ctx.strokeText(this.value, c, d);\n            ctx.restore();\n          } else {\n            ctx.strokeText(this.value, 0, 0);\n          }\n        }\n      }\n      if (/(underline|strikethrough)/i.test(decoration)) {\n        const metrics = ctx.measureText(this.value);\n        let scalar = 1;\n        switch (decoration) {\n          case \"underline\":\n            y1 = metrics.actualBoundingBoxDescent;\n            y2 = metrics.actualBoundingBoxDescent;\n            break;\n          case \"strikethrough\":\n            y1 = 0;\n            y2 = 0;\n            scalar = 0.5;\n            break;\n        }\n        switch (baseline) {\n          case \"top\":\n            y1 += this._size * scalar;\n            y2 += this._size * scalar;\n            break;\n          case \"baseline\":\n          case \"bottom\":\n            y1 -= this._size * scalar;\n            y2 -= this._size * scalar;\n            break;\n        }\n        switch (alignment) {\n          case \"left\":\n          case \"start\":\n            x1 = 0;\n            x2 = metrics.width;\n            break;\n          case \"right\":\n          case \"end\":\n            x1 = -metrics.width;\n            x2 = 0;\n            break;\n          default:\n            x1 = -metrics.width / 2;\n            x2 = metrics.width / 2;\n        }\n        ctx.lineWidth = Math.max(Math.floor(this._size / 15), 1);\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n      }\n      if (!defaultMatrix) {\n        ctx.restore();\n      }\n      if (clip && !parentClipped) {\n        ctx.clip();\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.setLineDash(emptyArray);\n      }\n      return this.flagReset();\n    }\n  },\n  \"linear-gradient\": {\n    render: function(ctx, parent) {\n      if (!parent) {\n        return;\n      }\n      this._update();\n      if (!this._renderer.effect || this._flagEndPoints || this._flagStops || this._flagUnits) {\n        let rect;\n        let lx = this.left._x;\n        let ly = this.left._y;\n        let rx = this.right._x;\n        let ry = this.right._y;\n        if (/objectBoundingBox/i.test(this._units)) {\n          rect = parent.getBoundingClientRect(true);\n          lx = (lx - 0.5) * rect.width;\n          ly = (ly - 0.5) * rect.height;\n          rx = (rx - 0.5) * rect.width;\n          ry = (ry - 0.5) * rect.height;\n        }\n        this._renderer.effect = ctx.createLinearGradient(lx, ly, rx, ry);\n        for (let i = 0; i < this.stops.length; i++) {\n          const stop = this.stops[i];\n          this._renderer.effect.addColorStop(stop._offset, stop._color);\n        }\n      }\n      return this.flagReset();\n    }\n  },\n  \"radial-gradient\": {\n    render: function(ctx, parent) {\n      if (!parent) {\n        return;\n      }\n      this._update();\n      if (!this._renderer.effect || this._flagCenter || this._flagFocal || this._flagRadius || this._flagStops || this._flagUnits) {\n        let rect;\n        let cx = this.center._x;\n        let cy = this.center._y;\n        let fx = this.focal._x;\n        let fy = this.focal._y;\n        let radius = this._radius;\n        if (/objectBoundingBox/i.test(this._units)) {\n          rect = parent.getBoundingClientRect(true);\n          cx = (cx - 0.5) * rect.width * 0.5;\n          cy = (cy - 0.5) * rect.height * 0.5;\n          fx = (fx - 0.5) * rect.width * 0.5;\n          fy = (fy - 0.5) * rect.height * 0.5;\n          radius *= Math.min(rect.width, rect.height);\n        }\n        this._renderer.effect = ctx.createRadialGradient(\n          cx,\n          cy,\n          0,\n          fx,\n          fy,\n          radius\n        );\n        for (let i = 0; i < this.stops.length; i++) {\n          const stop = this.stops[i];\n          this._renderer.effect.addColorStop(stop._offset, stop._color);\n        }\n      }\n      return this.flagReset();\n    }\n  },\n  texture: {\n    render: function(ctx) {\n      this._update();\n      const image = this.image;\n      if (!this._renderer.effect || (this._flagLoaded || this._flagImage || this._flagVideo || this._flagRepeat) && this.loaded) {\n        this._renderer.effect = ctx.createPattern(this.image, this._repeat);\n      }\n      if (this._flagOffset || this._flagLoaded || this._flagScale) {\n        if (!(this._renderer.offset instanceof Vector)) {\n          this._renderer.offset = new Vector();\n        }\n        this._renderer.offset.x = -this._offset.x;\n        this._renderer.offset.y = -this._offset.y;\n        if (image) {\n          this._renderer.offset.x += image.width / 2;\n          this._renderer.offset.y += image.height / 2;\n          if (this._scale instanceof Vector) {\n            this._renderer.offset.x *= this._scale.x;\n            this._renderer.offset.y *= this._scale.y;\n          } else {\n            this._renderer.offset.x *= this._scale;\n            this._renderer.offset.y *= this._scale;\n          }\n        }\n      }\n      if (this._flagScale || this._flagLoaded) {\n        if (!(this._renderer.scale instanceof Vector)) {\n          this._renderer.scale = new Vector();\n        }\n        if (this._scale instanceof Vector) {\n          this._renderer.scale.copy(this._scale);\n        } else {\n          this._renderer.scale.set(this._scale, this._scale);\n        }\n      }\n      return this.flagReset();\n    }\n  },\n  renderSvgArcCommand: function(ctx, ax, ay, rx, ry, largeArcFlag, sweepFlag, xAxisRotation, x, y) {\n    xAxisRotation = xAxisRotation * Math.PI / 180;\n    rx = abs(rx);\n    ry = abs(ry);\n    const dx2 = (ax - x) / 2;\n    const dy2 = (ay - y) / 2;\n    const x1p = cos6(xAxisRotation) * dx2 + sin6(xAxisRotation) * dy2;\n    const y1p = -sin6(xAxisRotation) * dx2 + cos6(xAxisRotation) * dy2;\n    const x1ps = x1p * x1p;\n    const y1ps = y1p * y1p;\n    let rxs = rx * rx;\n    let rys = ry * ry;\n    const cr = x1ps / rxs + y1ps / rys;\n    if (cr > 1) {\n      const s = sqrt(cr);\n      rx = s * rx;\n      ry = s * ry;\n      rxs = rx * rx;\n      rys = ry * ry;\n    }\n    const dq = rxs * y1ps + rys * x1ps;\n    const pq = (rxs * rys - dq) / dq;\n    let q = sqrt(max4(0, pq));\n    if (largeArcFlag === sweepFlag)\n      q = -q;\n    const cxp = q * rx * y1p / ry;\n    const cyp = -q * ry * x1p / rx;\n    const cx = cos6(xAxisRotation) * cxp - sin6(xAxisRotation) * cyp + (ax + x) / 2;\n    const cy = sin6(xAxisRotation) * cxp + cos6(xAxisRotation) * cyp + (ay + y) / 2;\n    const startAngle = svgAngle(1, 0, (x1p - cxp) / rx, (y1p - cyp) / ry);\n    const delta = svgAngle(\n      (x1p - cxp) / rx,\n      (y1p - cyp) / ry,\n      (-x1p - cxp) / rx,\n      (-y1p - cyp) / ry\n    ) % TWO_PI;\n    const endAngle = startAngle + delta;\n    const clockwise = sweepFlag === 0;\n    renderArcEstimate(\n      ctx,\n      cx,\n      cy,\n      rx,\n      ry,\n      startAngle,\n      endAngle,\n      clockwise,\n      xAxisRotation\n    );\n  }\n};\nvar Renderer = class extends Events {\n  constructor(params) {\n    super();\n    const smoothing = params.smoothing !== false;\n    this.domElement = params.domElement || document.createElement(\"canvas\");\n    this.ctx = this.domElement.getContext(\"2d\");\n    this.overdraw = params.overdraw || false;\n    if (typeof this.ctx.imageSmoothingEnabled !== \"undefined\") {\n      this.ctx.imageSmoothingEnabled = smoothing;\n    }\n    this.scene = new Group();\n    this.scene.parent = this;\n  }\n  setSize(width, height, ratio) {\n    this.width = width;\n    this.height = height;\n    this.ratio = typeof ratio === \"undefined\" ? getRatio(this.ctx) : ratio;\n    this.domElement.width = width * this.ratio;\n    this.domElement.height = height * this.ratio;\n    if (this.domElement.style) {\n      _.extend(this.domElement.style, {\n        width: width + \"px\",\n        height: height + \"px\"\n      });\n    }\n    return this.trigger(Events.Types.resize, width, height, ratio);\n  }\n  render() {\n    const isOne = this.ratio === 1;\n    if (!isOne) {\n      this.ctx.save();\n      this.ctx.scale(this.ratio, this.ratio);\n    }\n    if (!this.overdraw) {\n      this.ctx.clearRect(0, 0, this.width, this.height);\n    }\n    canvas2.group.render.call(this.scene, this.ctx);\n    if (!isOne) {\n      this.ctx.restore();\n    }\n    return this;\n  }\n};\n__publicField(Renderer, \"Utils\", canvas2);\nfunction renderArcEstimate(ctx, ox, oy, rx, ry, startAngle, endAngle, clockwise, xAxisRotation) {\n  const delta = endAngle - startAngle;\n  const epsilon = Curve.Tolerance.epsilon;\n  const samePoints = Math.abs(delta) < epsilon;\n  let deltaAngle = mod(delta, TWO_PI);\n  if (deltaAngle < epsilon) {\n    if (samePoints) {\n      deltaAngle = 0;\n    } else {\n      deltaAngle = TWO_PI;\n    }\n  }\n  if (clockwise === true && !samePoints) {\n    if (deltaAngle === TWO_PI) {\n      deltaAngle = -TWO_PI;\n    } else {\n      deltaAngle = deltaAngle - TWO_PI;\n    }\n  }\n  for (let i = 0; i < Constants.Resolution; i++) {\n    const t = i / (Constants.Resolution - 1);\n    const angle = startAngle + t * deltaAngle;\n    let x = ox + rx * Math.cos(angle);\n    let y = oy + ry * Math.sin(angle);\n    if (xAxisRotation !== 0) {\n      const cos7 = Math.cos(xAxisRotation);\n      const sin7 = Math.sin(xAxisRotation);\n      const tx = x - ox;\n      const ty = y - oy;\n      x = tx * cos7 - ty * sin7 + ox;\n      y = tx * sin7 + ty * cos7 + oy;\n    }\n    ctx.lineTo(x, y);\n  }\n}\nfunction svgAngle(ux, uy, vx, vy) {\n  const dot = ux * vx + uy * vy;\n  const len = sqrt(ux * ux + uy * uy) * sqrt(vx * vx + vy * vy);\n  let ang = acos(max4(-1, min4(1, dot / len)));\n  if (ux * vy - uy * vx < 0) {\n    ang = -ang;\n  }\n  return ang;\n}\nfunction isDefaultMatrix(m) {\n  return m[0] == 1 && m[3] == 0 && m[1] == 0 && m[4] == 1 && m[2] == 0 && m[5] == 0;\n}\n\n// src/renderers/svg.js\nvar svg = {\n  version: 1.1,\n  ns: \"http://www.w3.org/2000/svg\",\n  xlink: \"http://www.w3.org/1999/xlink\",\n  alignments: {\n    left: \"start\",\n    center: \"middle\",\n    right: \"end\"\n  },\n  baselines: {\n    top: \"hanging\",\n    middle: \"middle\",\n    bottom: \"ideographic\",\n    baseline: \"alphabetic\"\n  },\n  createElement: function(name, attrs) {\n    const tag = name;\n    const elem = document.createElementNS(svg.ns, tag);\n    if (tag === \"svg\") {\n      attrs = _.defaults(attrs || {}, {\n        version: svg.version\n      });\n    }\n    if (attrs && Object.keys(attrs).length > 0) {\n      svg.setAttributes(elem, attrs);\n    }\n    return elem;\n  },\n  setAttributes: function(elem, attrs) {\n    const keys = Object.keys(attrs);\n    for (let i = 0; i < keys.length; i++) {\n      if (/href/.test(keys[i])) {\n        elem.setAttributeNS(svg.xlink, keys[i], attrs[keys[i]]);\n      } else {\n        elem.setAttribute(keys[i], attrs[keys[i]]);\n      }\n    }\n    return this;\n  },\n  removeAttributes: function(elem, attrs) {\n    for (let key in attrs) {\n      elem.removeAttribute(key);\n    }\n    return this;\n  },\n  toString: function(points, closed2) {\n    let l = points.length, last = l - 1, d, string = \"\";\n    for (let i = 0; i < l; i++) {\n      const b = points[i];\n      const prev = closed2 ? mod(i - 1, l) : Math.max(i - 1, 0);\n      const a = points[prev];\n      let command, c;\n      let vx, vy, ux, uy, ar, bl, br, cl;\n      let rx, ry, xAxisRotation, largeArcFlag, sweepFlag;\n      let x = toFixed(b.x);\n      let y = toFixed(b.y);\n      switch (b.command) {\n        case Commands.close:\n          command = Commands.close;\n          break;\n        case Commands.arc:\n          rx = b.rx;\n          ry = b.ry;\n          xAxisRotation = b.xAxisRotation;\n          largeArcFlag = b.largeArcFlag;\n          sweepFlag = b.sweepFlag;\n          command = Commands.arc + \" \" + rx + \" \" + ry + \" \" + xAxisRotation + \" \" + largeArcFlag + \" \" + sweepFlag + \" \" + x + \" \" + y;\n          break;\n        case Commands.curve:\n          ar = a.controls && a.controls.right || Vector.zero;\n          bl = b.controls && b.controls.left || Vector.zero;\n          if (a.relative) {\n            vx = toFixed(ar.x + a.x);\n            vy = toFixed(ar.y + a.y);\n          } else {\n            vx = toFixed(ar.x);\n            vy = toFixed(ar.y);\n          }\n          if (b.relative) {\n            ux = toFixed(bl.x + b.x);\n            uy = toFixed(bl.y + b.y);\n          } else {\n            ux = toFixed(bl.x);\n            uy = toFixed(bl.y);\n          }\n          command = (i === 0 ? Commands.move : Commands.curve) + \" \" + vx + \" \" + vy + \" \" + ux + \" \" + uy + \" \" + x + \" \" + y;\n          break;\n        case Commands.move:\n          d = b;\n          command = Commands.move + \" \" + x + \" \" + y;\n          break;\n        default:\n          command = b.command + \" \" + x + \" \" + y;\n      }\n      if (i >= last && closed2) {\n        if (b.command === Commands.curve) {\n          c = d;\n          br = b.controls && b.controls.right || b;\n          cl = c.controls && c.controls.left || c;\n          if (b.relative) {\n            vx = toFixed(br.x + b.x);\n            vy = toFixed(br.y + b.y);\n          } else {\n            vx = toFixed(br.x);\n            vy = toFixed(br.y);\n          }\n          if (c.relative) {\n            ux = toFixed(cl.x + c.x);\n            uy = toFixed(cl.y + c.y);\n          } else {\n            ux = toFixed(cl.x);\n            uy = toFixed(cl.y);\n          }\n          x = toFixed(c.x);\n          y = toFixed(c.y);\n          command += \" C \" + vx + \" \" + vy + \" \" + ux + \" \" + uy + \" \" + x + \" \" + y;\n        }\n        if (b.command !== Commands.close) {\n          command += \" Z\";\n        }\n      }\n      string += command + \" \";\n    }\n    return string;\n  },\n  pointsToString: function(points, size) {\n    let string = \"\";\n    const r = size * 0.5;\n    for (let i = 0; i < points.length; i++) {\n      const x = points[i].x;\n      const y = points[i].y - r;\n      string += Commands.move + \" \" + x + \" \" + y + \" \";\n      string += \"a \" + r + \" \" + r + \" 0 1 0 0.001 0 Z\";\n    }\n    return string;\n  },\n  getClip: function(shape, domElement) {\n    let clip = shape._renderer.clip;\n    if (!clip) {\n      clip = shape._renderer.clip = svg.createElement(\"clipPath\", {\n        \"clip-rule\": \"nonzero\"\n      });\n    }\n    if (clip.parentNode === null) {\n      domElement.defs.appendChild(clip);\n    }\n    return clip;\n  },\n  getRendererType: function(type) {\n    return type in svg ? type : \"path\";\n  },\n  defs: {\n    update: function(domElement) {\n      const { defs } = domElement;\n      if (defs._flagUpdate) {\n        const children = Array.prototype.slice.call(defs.children, 0);\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          const id = child.id;\n          const selector = `[fill=\"url(#${id})\"],[stroke=\"url(#${id})\"],[clip-path=\"url(#${id})\"]`;\n          const exists = domElement.querySelector(selector);\n          if (!exists) {\n            defs.removeChild(child);\n          }\n        }\n        defs._flagUpdate = false;\n      }\n    }\n  },\n  group: {\n    appendChild: function(object) {\n      const elem = object._renderer.elem;\n      if (!elem) {\n        return;\n      }\n      const tag = elem.nodeName;\n      if (!tag || /(radial|linear)gradient/i.test(tag) || object._clip) {\n        return;\n      }\n      this.elem.appendChild(elem);\n    },\n    removeChild: function(object) {\n      const elem = object._renderer.elem;\n      if (!elem || elem.parentNode != this.elem) {\n        return;\n      }\n      const tag = elem.nodeName;\n      if (!tag) {\n        return;\n      }\n      if (object._clip) {\n        return;\n      }\n      this.elem.removeChild(elem);\n    },\n    orderChild: function(object) {\n      this.elem.appendChild(object._renderer.elem);\n    },\n    renderChild: function(child) {\n      const prop = svg.getRendererType(child._renderer.type);\n      svg[prop].render.call(child, this);\n    },\n    render: function(domElement) {\n      if (!this._visible && !this._flagVisible || this._opacity === 0 && !this._flagOpacity) {\n        return this;\n      }\n      this._update();\n      if (!this._renderer.elem) {\n        this._renderer.elem = svg.createElement(\"g\", {\n          id: this.id\n        });\n        domElement.appendChild(this._renderer.elem);\n      }\n      const flagMatrix = this._matrix.manual || this._flagMatrix;\n      const context = {\n        domElement,\n        elem: this._renderer.elem\n      };\n      if (flagMatrix) {\n        this._renderer.elem.setAttribute(\n          \"transform\",\n          \"matrix(\" + this._matrix.toString() + \")\"\n        );\n      }\n      for (let i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        const prop = svg.getRendererType(child._renderer.type);\n        svg[prop].render.call(child, domElement);\n      }\n      if (this._flagId) {\n        this._renderer.elem.setAttribute(\"id\", this._id);\n      }\n      if (this._flagOpacity) {\n        this._renderer.elem.setAttribute(\"opacity\", this._opacity);\n      }\n      if (this._flagVisible) {\n        this._renderer.elem.setAttribute(\n          \"display\",\n          this._visible ? \"inline\" : \"none\"\n        );\n      }\n      if (this._flagClassName) {\n        this._renderer.elem.setAttribute(\"class\", this.classList.join(\" \"));\n      }\n      if (this._flagAdditions) {\n        this.additions.forEach(svg.group.appendChild, context);\n      }\n      if (this._flagSubtractions) {\n        this.subtractions.forEach(svg.group.removeChild, context);\n      }\n      if (this._flagOrder) {\n        this.children.forEach(svg.group.orderChild, context);\n      }\n      if (this._flagMask) {\n        if (this._mask) {\n          const prop = svg.getRendererType(this._mask._renderer.type);\n          svg[prop].render.call(this._mask, domElement);\n          this._renderer.elem.setAttribute(\n            \"clip-path\",\n            \"url(#\" + this._mask.id + \")\"\n          );\n        } else {\n          this._renderer.elem.removeAttribute(\"clip-path\");\n        }\n      }\n      if (this.dataset) {\n        Object.assign(this._renderer.elem.dataset, this.dataset);\n      }\n      return this.flagReset();\n    }\n  },\n  path: {\n    render: function(domElement) {\n      if (this._opacity === 0 && !this._flagOpacity) {\n        return this;\n      }\n      this._update();\n      const changed = {};\n      const flagMatrix = this._matrix.manual || this._flagMatrix;\n      if (flagMatrix) {\n        changed.transform = \"matrix(\" + this._matrix.toString() + \")\";\n      }\n      if (this._flagId) {\n        changed.id = this._id;\n      }\n      if (this._flagVertices) {\n        const vertices = svg.toString(this._renderer.vertices, this._closed);\n        changed.d = vertices;\n      }\n      if (this._fill && this._fill._renderer) {\n        this._renderer.hasFillEffect = true;\n        this._fill._update();\n        const prop = svg.getRendererType(this._fill._renderer.type);\n        svg[prop].render.call(this._fill, domElement, true);\n      }\n      if (this._flagFill) {\n        changed.fill = this._fill && this._fill.id ? \"url(#\" + this._fill.id + \")\" : this._fill;\n        if (this._renderer.hasFillEffect && typeof this._fill.id === \"undefined\") {\n          domElement.defs._flagUpdate = true;\n          delete this._renderer.hasFillEffect;\n        }\n      }\n      if (this._stroke && this._stroke._renderer) {\n        this._renderer.hasStrokeEffect = true;\n        this._stroke._update();\n        const prop = svg.getRendererType(this._stroke._renderer.type);\n        svg[prop].render.call(this._stroke, domElement, true);\n      }\n      if (this._flagStroke) {\n        changed.stroke = this._stroke && this._stroke.id ? \"url(#\" + this._stroke.id + \")\" : this._stroke;\n        if (this._renderer.hasStrokeEffect && typeof this._stroke.id === \"undefined\") {\n          domElement.defs._flagUpdate = true;\n          delete this._renderer.hasStrokeEffect;\n        }\n      }\n      if (this._flagLinewidth) {\n        changed[\"stroke-width\"] = this._linewidth;\n      }\n      if (this._flagOpacity) {\n        changed[\"stroke-opacity\"] = this._opacity;\n        changed[\"fill-opacity\"] = this._opacity;\n      }\n      if (this._flagClassName) {\n        changed[\"class\"] = this.classList.join(\" \");\n      }\n      if (this._flagVisible) {\n        changed.visibility = this._visible ? \"visible\" : \"hidden\";\n      }\n      if (this._flagCap) {\n        changed[\"stroke-linecap\"] = this._cap;\n      }\n      if (this._flagJoin) {\n        changed[\"stroke-linejoin\"] = this._join;\n      }\n      if (this._flagMiter) {\n        changed[\"stroke-miterlimit\"] = this._miter;\n      }\n      if (this.dashes && this.dashes.length > 0) {\n        changed[\"stroke-dasharray\"] = this.dashes.join(\" \");\n        changed[\"stroke-dashoffset\"] = this.dashes.offset || 0;\n      }\n      if (!this._renderer.elem) {\n        changed.id = this._id;\n        this._renderer.elem = svg.createElement(\"path\", changed);\n        domElement.appendChild(this._renderer.elem);\n      } else {\n        svg.setAttributes(this._renderer.elem, changed);\n      }\n      if (this._flagClip) {\n        const clip = svg.getClip(this, domElement);\n        const elem = this._renderer.elem;\n        if (this._clip) {\n          elem.removeAttribute(\"id\");\n          clip.setAttribute(\"id\", this.id);\n          clip.appendChild(elem);\n        } else {\n          clip.removeAttribute(\"id\");\n          elem.setAttribute(\"id\", this.id);\n          this.parent._renderer.elem.appendChild(elem);\n        }\n      }\n      if (this._flagMask) {\n        if (this._mask) {\n          const prop = svg.getRendererType(this._mask._renderer.type);\n          svg[prop].render.call(this._mask, domElement);\n          this._renderer.elem.setAttribute(\n            \"clip-path\",\n            \"url(#\" + this._mask.id + \")\"\n          );\n        } else {\n          this._renderer.elem.removeAttribute(\"clip-path\");\n        }\n      }\n      return this.flagReset();\n    }\n  },\n  points: {\n    render: function(domElement) {\n      if (this._opacity === 0 && !this._flagOpacity) {\n        return this;\n      }\n      this._update();\n      const changed = {};\n      const flagMatrix = this._matrix.manual || this._flagMatrix;\n      if (flagMatrix) {\n        changed.transform = \"matrix(\" + this._matrix.toString() + \")\";\n      }\n      if (this._flagId) {\n        changed.id = this._id;\n      }\n      if (this._flagVertices || this._flagSize || this._flagSizeAttenuation) {\n        let size = this._size;\n        if (!this._sizeAttenuation) {\n          const me = this.worldMatrix.elements;\n          const m = decomposeMatrix(me[0], me[3], me[1], me[4], me[2], me[5]);\n          size /= Math.max(m.scaleX, m.scaleY);\n        }\n        const vertices = svg.pointsToString(this._renderer.collection, size);\n        changed.d = vertices;\n      }\n      if (this._fill && this._fill._renderer) {\n        this._renderer.hasFillEffect = true;\n        this._fill._update();\n        const prop = svg.getRendererType(this._fill._renderer.type);\n        svg[prop].render.call(this._fill, domElement, true);\n      }\n      if (this._flagFill) {\n        changed.fill = this._fill && this._fill.id ? \"url(#\" + this._fill.id + \")\" : this._fill;\n        if (this._renderer.hasFillEffect && typeof this._fill.id === \"undefined\") {\n          domElement.defs._flagUpdate = true;\n          delete this._renderer.hasFillEffect;\n        }\n      }\n      if (this._stroke && this._stroke._renderer) {\n        this._renderer.hasStrokeEffect = true;\n        this._stroke._update();\n        const prop = svg.getRendererType(this._stroke._renderer.type);\n        svg[prop].render.call(this._stroke, domElement, true);\n      }\n      if (this._flagStroke) {\n        changed.stroke = this._stroke && this._stroke.id ? \"url(#\" + this._stroke.id + \")\" : this._stroke;\n        if (this._renderer.hasStrokeEffect && typeof this._stroke.id === \"undefined\") {\n          domElement.defs._flagUpdate = true;\n          delete this._renderer.hasStrokeEffect;\n        }\n      }\n      if (this._flagLinewidth) {\n        changed[\"stroke-width\"] = this._linewidth;\n      }\n      if (this._flagOpacity) {\n        changed[\"stroke-opacity\"] = this._opacity;\n        changed[\"fill-opacity\"] = this._opacity;\n      }\n      if (this._flagClassName) {\n        changed[\"class\"] = this.classList.join(\" \");\n      }\n      if (this._flagVisible) {\n        changed.visibility = this._visible ? \"visible\" : \"hidden\";\n      }\n      if (this.dashes && this.dashes.length > 0) {\n        changed[\"stroke-dasharray\"] = this.dashes.join(\" \");\n        changed[\"stroke-dashoffset\"] = this.dashes.offset || 0;\n      }\n      if (!this._renderer.elem) {\n        changed.id = this._id;\n        this._renderer.elem = svg.createElement(\"path\", changed);\n        domElement.appendChild(this._renderer.elem);\n      } else {\n        svg.setAttributes(this._renderer.elem, changed);\n      }\n      return this.flagReset();\n    }\n  },\n  text: {\n    render: function(domElement) {\n      this._update();\n      const changed = {};\n      const flagMatrix = this._matrix.manual || this._flagMatrix;\n      if (flagMatrix) {\n        changed.transform = \"matrix(\" + this._matrix.toString() + \")\";\n      }\n      if (this._flagId) {\n        changed.id = this._id;\n      }\n      if (this._flagFamily) {\n        changed[\"font-family\"] = this._family;\n      }\n      if (this._flagSize) {\n        changed[\"font-size\"] = this._size;\n      }\n      if (this._flagLeading) {\n        changed[\"line-height\"] = this._leading;\n      }\n      if (this._flagAlignment) {\n        changed[\"text-anchor\"] = svg.alignments[this._alignment] || this._alignment;\n      }\n      if (this._flagBaseline) {\n        changed[\"dominant-baseline\"] = svg.baselines[this._baseline] || this._baseline;\n      }\n      if (this._flagStyle) {\n        changed[\"font-style\"] = this._style;\n      }\n      if (this._flagWeight) {\n        changed[\"font-weight\"] = this._weight;\n      }\n      if (this._flagDecoration) {\n        changed[\"text-decoration\"] = this._decoration;\n      }\n      if (this._flagDirection) {\n        changed[\"direction\"] = this._direction;\n      }\n      if (this._fill && this._fill._renderer) {\n        this._renderer.hasFillEffect = true;\n        this._fill._update();\n        const prop = svg.getRendererType(this._fill._renderer.type);\n        svg[prop].render.call(this._fill, domElement, true);\n      }\n      if (this._flagFill) {\n        changed.fill = this._fill && this._fill.id ? \"url(#\" + this._fill.id + \")\" : this._fill;\n        if (this._renderer.hasFillEffect && typeof this._fill.id === \"undefined\") {\n          domElement.defs._flagUpdate = true;\n          delete this._renderer.hasFillEffect;\n        }\n      }\n      if (this._stroke && this._stroke._renderer) {\n        this._renderer.hasStrokeEffect = true;\n        this._stroke._update();\n        const prop = svg.getRendererType(this._stroke._renderer.type);\n        svg[prop].render.call(this._stroke, domElement, true);\n      }\n      if (this._flagStroke) {\n        changed.stroke = this._stroke && this._stroke.id ? \"url(#\" + this._stroke.id + \")\" : this._stroke;\n        if (this._renderer.hasStrokeEffect && typeof this._stroke.id === \"undefined\") {\n          domElement.defs._flagUpdate = true;\n          delete this._renderer.hasStrokeEffect;\n        }\n      }\n      if (this._flagLinewidth) {\n        changed[\"stroke-width\"] = this._linewidth;\n      }\n      if (this._flagOpacity) {\n        changed.opacity = this._opacity;\n      }\n      if (this._flagClassName) {\n        changed[\"class\"] = this.classList.join(\" \");\n      }\n      if (this._flagVisible) {\n        changed.visibility = this._visible ? \"visible\" : \"hidden\";\n      }\n      if (this.dashes && this.dashes.length > 0) {\n        changed[\"stroke-dasharray\"] = this.dashes.join(\" \");\n        changed[\"stroke-dashoffset\"] = this.dashes.offset || 0;\n      }\n      if (!this._renderer.elem) {\n        changed.id = this._id;\n        this._renderer.elem = svg.createElement(\"text\", changed);\n        domElement.appendChild(this._renderer.elem);\n      } else {\n        svg.setAttributes(this._renderer.elem, changed);\n      }\n      if (this._flagClip) {\n        const clip = svg.getClip(this, domElement);\n        const elem = this._renderer.elem;\n        if (this._clip) {\n          elem.removeAttribute(\"id\");\n          clip.setAttribute(\"id\", this.id);\n          clip.appendChild(elem);\n        } else {\n          clip.removeAttribute(\"id\");\n          elem.setAttribute(\"id\", this.id);\n          this.parent._renderer.elem.appendChild(elem);\n        }\n      }\n      if (this._flagMask) {\n        if (this._mask) {\n          const prop = svg.getRendererType(this._mask._renderer.type);\n          svg[prop].render.call(this._mask, domElement);\n          this._renderer.elem.setAttribute(\n            \"clip-path\",\n            \"url(#\" + this._mask.id + \")\"\n          );\n        } else {\n          this._renderer.elem.removeAttribute(\"clip-path\");\n        }\n      }\n      if (this._flagValue) {\n        this._renderer.elem.textContent = this._value;\n      }\n      return this.flagReset();\n    }\n  },\n  \"linear-gradient\": {\n    render: function(domElement, silent) {\n      if (!silent) {\n        this._update();\n      }\n      const changed = {};\n      if (this._flagId) {\n        changed.id = this._id;\n      }\n      if (this._flagEndPoints) {\n        changed.x1 = this.left._x;\n        changed.y1 = this.left._y;\n        changed.x2 = this.right._x;\n        changed.y2 = this.right._y;\n      }\n      if (this._flagSpread) {\n        changed.spreadMethod = this._spread;\n      }\n      if (this._flagUnits) {\n        changed.gradientUnits = this._units;\n      }\n      if (!this._renderer.elem) {\n        changed.id = this._id;\n        this._renderer.elem = svg.createElement(\"linearGradient\", changed);\n      } else {\n        svg.setAttributes(this._renderer.elem, changed);\n      }\n      if (this._renderer.elem.parentNode === null) {\n        domElement.defs.appendChild(this._renderer.elem);\n      }\n      if (this._flagStops) {\n        const lengthChanged = this._renderer.elem.childNodes.length !== this.stops.length;\n        if (lengthChanged) {\n          while (this._renderer.elem.lastChild) {\n            this._renderer.elem.removeChild(this._renderer.elem.lastChild);\n          }\n        }\n        for (let i = 0; i < this.stops.length; i++) {\n          const stop = this.stops[i];\n          const attrs = {};\n          if (stop._flagOffset) {\n            attrs.offset = 100 * stop._offset + \"%\";\n          }\n          if (stop._flagColor) {\n            attrs[\"stop-color\"] = stop._color;\n          }\n          if (stop._flagOpacity) {\n            attrs[\"stop-opacity\"] = stop._opacity;\n          }\n          if (!stop._renderer.elem) {\n            stop._renderer.elem = svg.createElement(\"stop\", attrs);\n          } else {\n            svg.setAttributes(stop._renderer.elem, attrs);\n          }\n          if (lengthChanged) {\n            this._renderer.elem.appendChild(stop._renderer.elem);\n          }\n          stop.flagReset();\n        }\n      }\n      return this.flagReset();\n    }\n  },\n  \"radial-gradient\": {\n    render: function(domElement, silent) {\n      if (!silent) {\n        this._update();\n      }\n      const changed = {};\n      if (this._flagId) {\n        changed.id = this._id;\n      }\n      if (this._flagCenter) {\n        changed.cx = this.center._x;\n        changed.cy = this.center._y;\n      }\n      if (this._flagFocal) {\n        changed.fx = this.focal._x;\n        changed.fy = this.focal._y;\n      }\n      if (this._flagRadius) {\n        changed.r = this._radius;\n      }\n      if (this._flagSpread) {\n        changed.spreadMethod = this._spread;\n      }\n      if (this._flagUnits) {\n        changed.gradientUnits = this._units;\n      }\n      if (!this._renderer.elem) {\n        changed.id = this._id;\n        this._renderer.elem = svg.createElement(\"radialGradient\", changed);\n      } else {\n        svg.setAttributes(this._renderer.elem, changed);\n      }\n      if (this._renderer.elem.parentNode === null) {\n        domElement.defs.appendChild(this._renderer.elem);\n      }\n      if (this._flagStops) {\n        const lengthChanged = this._renderer.elem.childNodes.length !== this.stops.length;\n        if (lengthChanged) {\n          while (this._renderer.elem.lastChild) {\n            this._renderer.elem.removeChild(this._renderer.elem.lastChild);\n          }\n        }\n        for (let i = 0; i < this.stops.length; i++) {\n          const stop = this.stops[i];\n          const attrs = {};\n          if (stop._flagOffset) {\n            attrs.offset = 100 * stop._offset + \"%\";\n          }\n          if (stop._flagColor) {\n            attrs[\"stop-color\"] = stop._color;\n          }\n          if (stop._flagOpacity) {\n            attrs[\"stop-opacity\"] = stop._opacity;\n          }\n          if (!stop._renderer.elem) {\n            stop._renderer.elem = svg.createElement(\"stop\", attrs);\n          } else {\n            svg.setAttributes(stop._renderer.elem, attrs);\n          }\n          if (lengthChanged) {\n            this._renderer.elem.appendChild(stop._renderer.elem);\n          }\n          stop.flagReset();\n        }\n      }\n      return this.flagReset();\n    }\n  },\n  texture: {\n    render: function(domElement, silent) {\n      if (!silent) {\n        this._update();\n      }\n      const changed = {};\n      const styles = { x: 0, y: 0 };\n      const image = this.image;\n      if (this._flagId) {\n        changed.id = this._id;\n      }\n      if (this._flagLoaded && this.loaded) {\n        switch (image.nodeName.toLowerCase()) {\n          case \"canvas\":\n            styles.href = styles[\"xlink:href\"] = image.toDataURL(\"image/png\");\n            break;\n          case \"img\":\n          case \"image\":\n            styles.href = styles[\"xlink:href\"] = this.src;\n            break;\n        }\n      }\n      if (this._flagOffset || this._flagLoaded || this._flagScale) {\n        changed.x = this._offset.x;\n        changed.y = this._offset.y;\n        if (image) {\n          changed.x -= image.width / 2;\n          changed.y -= image.height / 2;\n          if (this._scale instanceof Vector) {\n            changed.x *= this._scale.x;\n            changed.y *= this._scale.y;\n          } else {\n            changed.x *= this._scale;\n            changed.y *= this._scale;\n          }\n        }\n        if (changed.x > 0) {\n          changed.x *= -1;\n        }\n        if (changed.y > 0) {\n          changed.y *= -1;\n        }\n      }\n      if (this._flagScale || this._flagLoaded || this._flagRepeat) {\n        changed.width = 0;\n        changed.height = 0;\n        if (image) {\n          changed.width = image.width;\n          changed.height = image.height;\n          switch (this._repeat) {\n            case \"no-repeat\":\n              changed.width += 1;\n              changed.height += 1;\n              break;\n          }\n          if (this._scale instanceof Vector) {\n            changed.width *= this._scale.x;\n            changed.height *= this._scale.y;\n          } else {\n            changed.width *= this._scale;\n            changed.height *= this._scale;\n          }\n          styles.width = changed.width;\n          styles.height = changed.height;\n        }\n      }\n      if (this._flagScale || this._flagLoaded) {\n        if (!this._renderer.image) {\n          this._renderer.image = svg.createElement(\"image\", styles);\n        } else {\n          svg.setAttributes(this._renderer.image, styles);\n        }\n      }\n      if (!this._renderer.elem) {\n        changed.id = this._id;\n        changed.patternUnits = \"userSpaceOnUse\";\n        this._renderer.elem = svg.createElement(\"pattern\", changed);\n      } else if (Object.keys(changed).length !== 0) {\n        svg.setAttributes(this._renderer.elem, changed);\n      }\n      if (this._renderer.elem.parentNode === null) {\n        domElement.defs.appendChild(this._renderer.elem);\n      }\n      if (this._renderer.elem && this._renderer.image && !this._renderer.appended) {\n        this._renderer.elem.appendChild(this._renderer.image);\n        this._renderer.appended = true;\n      }\n      return this.flagReset();\n    }\n  }\n};\nvar Renderer2 = class extends Events {\n  constructor(params) {\n    super();\n    this.domElement = params.domElement || svg.createElement(\"svg\");\n    this.scene = new Group();\n    this.scene.parent = this;\n    this.defs = svg.createElement(\"defs\");\n    this.defs._flagUpdate = false;\n    this.domElement.appendChild(this.defs);\n    this.domElement.defs = this.defs;\n    this.domElement.style.overflow = \"hidden\";\n  }\n  setSize(width, height) {\n    this.width = width;\n    this.height = height;\n    svg.setAttributes(this.domElement, {\n      width,\n      height\n    });\n    return this.trigger(Events.Types.resize, width, height);\n  }\n  render() {\n    svg.group.render.call(this.scene, this.domElement);\n    svg.defs.update(this.domElement);\n    return this;\n  }\n};\n__publicField(Renderer2, \"Utils\", svg);\n\n// src/utils/shaders.js\nvar shaders = {\n  create: function(gl, source, type) {\n    const shader = gl.createShader(gl[type]);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      const error = gl.getShaderInfoLog(shader);\n      gl.deleteShader(shader);\n      throw new TwoError(\"unable to compile shader \" + shader + \": \" + error);\n    }\n    return shader;\n  },\n  types: {\n    vertex: \"VERTEX_SHADER\",\n    fragment: \"FRAGMENT_SHADER\"\n  },\n  path: {\n    vertex: `\n      precision mediump float;\n      attribute vec2 a_position;\n\n      uniform mat3 u_matrix;\n      uniform vec2 u_resolution;\n      uniform vec4 u_rect;\n\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;\n        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;\n        vec2 normal = projected / u_resolution;\n        vec2 clipspace = (normal * 2.0) - 1.0;\n\n        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n        v_textureCoords = a_position;\n      }\n    `,\n    fragment: `\n      precision mediump float;\n\n      uniform sampler2D u_image;\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec4 texel = texture2D(u_image, v_textureCoords);\n        if (texel.a == 0.0) {\n          discard;\n        }\n        gl_FragColor = texel;\n      }\n    `\n  },\n  points: {\n    vertex: `\n      precision mediump float;\n      attribute vec2 a_position;\n\n      uniform float u_size;\n      uniform mat3 u_matrix;\n      uniform vec2 u_resolution;\n\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;\n        vec2 normal = projected / u_resolution;\n        vec2 clipspace = (normal * 2.0) - 1.0;\n\n        gl_PointSize = u_size;\n        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n        v_textureCoords = a_position;\n      }\n    `,\n    fragment: `\n      precision mediump float;\n\n      uniform sampler2D u_image;\n\n      void main() {\n        vec4 texel = texture2D(u_image, gl_PointCoord);\n        if (texel.a == 0.0) {\n          discard;\n        }\n        gl_FragColor = texel;\n      }\n    `\n  }\n};\n\n// src/renderers/webgl.js\nvar multiplyMatrix = Matrix2.Multiply;\nvar identity = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nvar transformation = new NumArray(9);\nvar CanvasUtils = Renderer.Utils;\nvar vector2 = new Vector();\nvar quad = new NumArray([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]);\nvar webgl = {\n  precision: 0.9,\n  isHidden: /(undefined|none|transparent)/i,\n  canvas: root.document ? root.document.createElement(\"canvas\") : { getContext: function() {\n  } },\n  alignments: {\n    left: \"start\",\n    middle: \"center\",\n    right: \"end\"\n  },\n  matrix: new Matrix2(),\n  group: {\n    removeChild: function(child, gl) {\n      if (child.children) {\n        for (let i = 0; i < child.children.length; i++) {\n          webgl.group.removeChild(child.children[i], gl);\n        }\n      }\n      if (child._renderer.texture) {\n        gl.deleteTexture(child._renderer.texture);\n        delete child._renderer.texture;\n      }\n      if (child._renderer.positionBuffer) {\n        gl.deleteBuffer(child._renderer.positionBuffer);\n        delete child._renderer.positionBuffer;\n      }\n    },\n    render: function(gl, programs) {\n      if (!this._visible) {\n        return;\n      }\n      this._update();\n      const parent = this.parent;\n      const flagParentMatrix = parent._matrix && parent._matrix.manual || parent._flagMatrix;\n      const flagMatrix = this._matrix.manual || this._flagMatrix;\n      if (flagParentMatrix || flagMatrix) {\n        if (!this._renderer.matrix) {\n          this._renderer.matrix = new NumArray(9);\n        }\n        this._matrix.toTransformArray(true, transformation);\n        multiplyMatrix(\n          transformation,\n          parent._renderer.matrix,\n          this._renderer.matrix\n        );\n        if (!(this._renderer.scale instanceof Vector)) {\n          this._renderer.scale = new Vector();\n        }\n        if (this._scale instanceof Vector) {\n          this._renderer.scale.x = this._scale.x;\n          this._renderer.scale.y = this._scale.y;\n        } else {\n          this._renderer.scale.x = this._scale;\n          this._renderer.scale.y = this._scale;\n        }\n        if (!/renderer/i.test(parent._renderer.type)) {\n          this._renderer.scale.x *= parent._renderer.scale.x;\n          this._renderer.scale.y *= parent._renderer.scale.y;\n        }\n        if (flagParentMatrix) {\n          this._flagMatrix = true;\n        }\n      }\n      if (this._mask) {\n        gl.clear(gl.STENCIL_BUFFER_BIT);\n        gl.enable(gl.STENCIL_TEST);\n        gl.stencilFunc(gl.ALWAYS, 1, 0);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.REPLACE);\n        gl.colorMask(false, false, false, false);\n        const prop = Renderer.Utils.getRendererType(\n          this._mask._renderer.type\n        );\n        webgl[prop].render.call(this._mask, gl, programs, this);\n        gl.stencilFunc(gl.EQUAL, 1, 255);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n        gl.colorMask(true, true, true, true);\n      }\n      this._flagOpacity = parent._flagOpacity || this._flagOpacity;\n      this._renderer.opacity = this._opacity * (parent && parent._renderer ? parent._renderer.opacity : 1);\n      let i;\n      if (this._flagSubtractions) {\n        for (i = 0; i < this.subtractions.length; i++) {\n          webgl.group.removeChild(this.subtractions[i], gl);\n        }\n      }\n      for (i = 0; i < this.children.length; i++) {\n        const child = this.children[i];\n        const prop = Renderer.Utils.getRendererType(child._renderer.type);\n        webgl[prop].render.call(child, gl, programs);\n      }\n      if (this._mask) {\n        gl.disable(gl.STENCIL_TEST);\n      }\n      return this.flagReset();\n    }\n  },\n  path: {\n    updateCanvas: function(gl, elem) {\n      let prev, a, c, ux, uy, vx, vy, ar, bl, br, cl, x, y;\n      let isOffset;\n      const commands = elem._renderer.vertices;\n      const canvas3 = this.canvas;\n      const ctx = this.ctx;\n      const ratio = gl.renderer.ratio;\n      const scale = vector2.copy(elem._renderer.scale).multiply(ratio);\n      const stroke = elem._stroke;\n      const linewidth = elem._linewidth;\n      const fill = elem._fill;\n      const opacity = elem._renderer.opacity || elem._opacity;\n      const cap = elem._cap;\n      const join = elem._join;\n      const miter = elem._miter;\n      const closed2 = elem._closed;\n      const dashes = elem.dashes;\n      const length = commands.length;\n      const last = length - 1;\n      canvas3.width = Math.max(\n        Math.ceil(elem._renderer.rect.width * scale.x),\n        1\n      );\n      canvas3.height = Math.max(\n        Math.ceil(elem._renderer.rect.height * scale.y),\n        1\n      );\n      const centroid = elem._renderer.rect.centroid;\n      const cx = centroid.x;\n      const cy = centroid.y;\n      ctx.clearRect(0, 0, canvas3.width, canvas3.height);\n      if (fill) {\n        if (typeof fill === \"string\") {\n          ctx.fillStyle = fill;\n        } else {\n          const prop = Renderer.Utils.getRendererType(\n            fill._renderer.type\n          );\n          webgl[prop].render.call(fill, ctx, elem);\n          ctx.fillStyle = fill._renderer.effect;\n        }\n      }\n      if (stroke) {\n        if (typeof stroke === \"string\") {\n          ctx.strokeStyle = stroke;\n        } else {\n          const prop = Renderer.Utils.getRendererType(\n            stroke._renderer.type\n          );\n          webgl[prop].render.call(stroke, ctx, elem);\n          ctx.strokeStyle = stroke._renderer.effect;\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n        if (miter) {\n          ctx.miterLimit = miter;\n        }\n        if (join) {\n          ctx.lineJoin = join;\n        }\n        if (!closed2 && cap) {\n          ctx.lineCap = cap;\n        }\n      }\n      if (typeof opacity === \"number\") {\n        ctx.globalAlpha = opacity;\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.lineDashOffset = dashes.offset || 0;\n        ctx.setLineDash(dashes);\n      }\n      let d, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, ax, ay;\n      ctx.save();\n      ctx.scale(scale.x, scale.y);\n      ctx.translate(cx, cy);\n      ctx.beginPath();\n      for (let i = 0; i < commands.length; i++) {\n        const b = commands[i];\n        x = b.x;\n        y = b.y;\n        switch (b.command) {\n          case Commands.close:\n            ctx.closePath();\n            break;\n          case Commands.arc:\n            rx = b.rx;\n            ry = b.ry;\n            xAxisRotation = b.xAxisRotation;\n            largeArcFlag = b.largeArcFlag;\n            sweepFlag = b.sweepFlag;\n            prev = closed2 ? mod(i - 1, length) : Math.max(i - 1, 0);\n            a = commands[prev];\n            ax = a.x;\n            ay = a.y;\n            CanvasUtils.renderSvgArcCommand(\n              ctx,\n              ax,\n              ay,\n              rx,\n              ry,\n              largeArcFlag,\n              sweepFlag,\n              xAxisRotation,\n              x,\n              y\n            );\n            break;\n          case Commands.curve:\n            prev = closed2 ? mod(i - 1, length) : Math.max(i - 1, 0);\n            a = commands[prev];\n            ar = a.controls && a.controls.right || Vector.zero;\n            bl = b.controls && b.controls.left || Vector.zero;\n            if (a._relative) {\n              vx = ar.x + a.x;\n              vy = ar.y + a.y;\n            } else {\n              vx = ar.x;\n              vy = ar.y;\n            }\n            if (b._relative) {\n              ux = bl.x + b.x;\n              uy = bl.y + b.y;\n            } else {\n              ux = bl.x;\n              uy = bl.y;\n            }\n            ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\n            if (i >= last && closed2) {\n              c = d;\n              br = b.controls && b.controls.right || Vector.zero;\n              cl = c.controls && c.controls.left || Vector.zero;\n              if (b._relative) {\n                vx = br.x + b.x;\n                vy = br.y + b.y;\n              } else {\n                vx = br.x;\n                vy = br.y;\n              }\n              if (c._relative) {\n                ux = cl.x + c.x;\n                uy = cl.y + c.y;\n              } else {\n                ux = cl.x;\n                uy = cl.y;\n              }\n              x = c.x;\n              y = c.y;\n              ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\n            }\n            break;\n          case Commands.line:\n            ctx.lineTo(x, y);\n            break;\n          case Commands.move:\n            d = b;\n            ctx.moveTo(x, y);\n            break;\n        }\n      }\n      if (closed2) {\n        ctx.closePath();\n      }\n      if (!webgl.isHidden.test(fill)) {\n        isOffset = fill._renderer && fill._renderer.offset;\n        if (isOffset) {\n          ctx.save();\n          ctx.translate(-fill._renderer.offset.x, -fill._renderer.offset.y);\n          ctx.scale(fill._renderer.scale.x, fill._renderer.scale.y);\n        }\n        ctx.fill();\n        if (isOffset) {\n          ctx.restore();\n        }\n      }\n      if (!webgl.isHidden.test(stroke)) {\n        isOffset = stroke._renderer && stroke._renderer.offset;\n        if (isOffset) {\n          ctx.save();\n          ctx.translate(-stroke._renderer.offset.x, -stroke._renderer.offset.y);\n          ctx.scale(stroke._renderer.scale.x, stroke._renderer.scale.y);\n          ctx.lineWidth = linewidth / stroke._renderer.scale.x;\n        }\n        ctx.stroke();\n        if (isOffset) {\n          ctx.restore();\n        }\n      }\n      ctx.restore();\n    },\n    getBoundingClientRect: function(vertices, border, rect) {\n      let left = Infinity, right = -Infinity, top = Infinity, bottom = -Infinity, width, height;\n      vertices.forEach(function(v) {\n        const x = v.x, y = v.y, controls = v.controls;\n        let a, b, c, d, cl, cr;\n        top = Math.min(y, top);\n        left = Math.min(x, left);\n        right = Math.max(x, right);\n        bottom = Math.max(y, bottom);\n        if (!v.controls) {\n          return;\n        }\n        cl = controls.left;\n        cr = controls.right;\n        if (!cl || !cr) {\n          return;\n        }\n        a = v._relative ? cl.x + x : cl.x;\n        b = v._relative ? cl.y + y : cl.y;\n        c = v._relative ? cr.x + x : cr.x;\n        d = v._relative ? cr.y + y : cr.y;\n        if (!a || !b || !c || !d) {\n          return;\n        }\n        top = Math.min(b, d, top);\n        left = Math.min(a, c, left);\n        right = Math.max(a, c, right);\n        bottom = Math.max(b, d, bottom);\n      });\n      if (typeof border === \"number\") {\n        top -= border;\n        left -= border;\n        right += border;\n        bottom += border;\n      }\n      width = right - left;\n      height = bottom - top;\n      rect.top = top;\n      rect.left = left;\n      rect.right = right;\n      rect.bottom = bottom;\n      rect.width = width;\n      rect.height = height;\n      if (!rect.centroid) {\n        rect.centroid = {};\n      }\n      rect.centroid.x = -left;\n      rect.centroid.y = -top;\n    },\n    render: function(gl, programs, forcedParent) {\n      if (!this._visible || !this._opacity) {\n        return this;\n      }\n      this._update();\n      const parent = forcedParent || this.parent;\n      const prop = Renderer.Utils.getRendererType(this._renderer.type);\n      const program = programs[prop];\n      const flagParentMatrix = parent._matrix.manual || parent._flagMatrix;\n      const flagMatrix = this._matrix.manual || this._flagMatrix;\n      const parentChanged = this._renderer.parent !== parent;\n      const flagTexture = this._flagVertices || this._flagFill || this._fill instanceof LinearGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagEndPoints) || this._fill instanceof RadialGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagRadius || this._fill._flagCenter || this._fill._flagFocal) || this._fill instanceof Texture && (this._fill._flagLoaded && this._fill.loaded || this._fill._flagImage || this._fill._flagVideo || this._fill._flagRepeat || this._fill._flagOffset || this._fill._flagScale) || this._stroke instanceof LinearGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagEndPoints) || this._stroke instanceof RadialGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagRadius || this._stroke._flagCenter || this._stroke._flagFocal) || this._stroke instanceof Texture && (this._stroke._flagLoaded && this._stroke.loaded || this._stroke._flagImage || this._stroke._flagVideo || this._stroke._flagRepeat || this._stroke._flagOffset || this._fill._flagScale) || this._flagStroke || this._flagLinewidth || this._flagOpacity || parent._flagOpacity || this._flagVisible || this._flagCap || this._flagJoin || this._flagMiter || this._flagScale || this.dashes && this.dashes.length > 0 || !this._renderer.texture;\n      if (flagParentMatrix || flagMatrix || parentChanged) {\n        if (!this._renderer.matrix) {\n          this._renderer.matrix = new NumArray(9);\n        }\n        this._matrix.toTransformArray(true, transformation);\n        multiplyMatrix(\n          transformation,\n          parent._renderer.matrix,\n          this._renderer.matrix\n        );\n        if (!(this._renderer.scale instanceof Vector)) {\n          this._renderer.scale = new Vector();\n        }\n        let sx, sy;\n        if (this._scale instanceof Vector) {\n          sx = this._scale.x * parent._renderer.scale.x;\n          sy = this._scale.y * parent._renderer.scale.y;\n        } else {\n          sx = this._scale * parent._renderer.scale.x;\n          sy = this._scale * parent._renderer.scale.y;\n        }\n        this._renderer.scale.x = sx < 0 ? -sx : sx;\n        this._renderer.scale.y = sy < 0 ? -sy : sy;\n        if (parentChanged) {\n          this._renderer.parent = parent;\n        }\n      }\n      if (this._mask) {\n        gl.clear(gl.STENCIL_BUFFER_BIT);\n        gl.enable(gl.STENCIL_TEST);\n        gl.stencilFunc(gl.ALWAYS, 1, 0);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.REPLACE);\n        gl.colorMask(false, false, false, false);\n        const prop2 = Renderer.Utils.getRendererType(\n          this._mask._renderer.type\n        );\n        webgl[prop2].render.call(this._mask, gl, programs, this);\n        gl.stencilFunc(gl.EQUAL, 1, 255);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n        gl.colorMask(true, true, true, true);\n      }\n      if (flagTexture) {\n        if (!this._renderer.rect) {\n          this._renderer.rect = {};\n        }\n        this._renderer.opacity = this._opacity * parent._renderer.opacity;\n        webgl.path.getBoundingClientRect(\n          this._renderer.vertices,\n          this._linewidth,\n          this._renderer.rect\n        );\n        webgl.updateTexture.call(webgl, gl, this);\n      } else {\n        if (this._fill && this._fill._update) {\n          this._fill._update();\n        }\n        if (this._stroke && this._stroke._update) {\n          this._stroke._update();\n        }\n      }\n      if (this._clip && !forcedParent || !this._renderer.texture) {\n        return this;\n      }\n      if (programs.current !== program) {\n        gl.useProgram(program);\n        gl.bindBuffer(gl.ARRAY_BUFFER, programs.buffers.position);\n        gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n        gl.enableVertexAttribArray(program.position);\n        gl.bufferData(gl.ARRAY_BUFFER, quad, gl.STATIC_DRAW);\n        if (!programs.resolution.flagged) {\n          gl.uniform2f(\n            gl.getUniformLocation(program, \"u_resolution\"),\n            programs.resolution.width,\n            programs.resolution.height\n          );\n        }\n        programs.current = program;\n      }\n      if (programs.resolution.flagged) {\n        gl.uniform2f(\n          gl.getUniformLocation(program, \"u_resolution\"),\n          programs.resolution.width,\n          programs.resolution.height\n        );\n      }\n      gl.bindTexture(gl.TEXTURE_2D, this._renderer.texture);\n      const rect = this._renderer.rect;\n      gl.uniformMatrix3fv(program.matrix, false, this._renderer.matrix);\n      gl.uniform4f(program.rect, rect.left, rect.top, rect.right, rect.bottom);\n      gl.drawArrays(gl.TRIANGLES, 0, 6);\n      if (this._mask) {\n        gl.disable(gl.STENCIL_TEST);\n      }\n      return this.flagReset();\n    }\n  },\n  points: {\n    updateCanvas: function(gl, elem) {\n      let isOffset;\n      const canvas3 = this.canvas;\n      const ctx = this.ctx;\n      const ratio = gl.renderer.ratio;\n      const stroke = elem._stroke;\n      const linewidth = elem._linewidth;\n      const fill = elem._fill;\n      const opacity = elem._renderer.opacity || elem._opacity;\n      const dashes = elem.dashes;\n      const size = elem._size * ratio;\n      let dimension = size;\n      if (!webgl.isHidden.test(stroke)) {\n        dimension += linewidth;\n      }\n      canvas3.width = getPoT(dimension);\n      canvas3.height = canvas3.width;\n      const aspect = dimension / canvas3.width;\n      const cx = canvas3.width / 2;\n      const cy = canvas3.height / 2;\n      ctx.clearRect(0, 0, canvas3.width, canvas3.height);\n      if (fill) {\n        if (typeof fill === \"string\") {\n          ctx.fillStyle = fill;\n        } else {\n          const prop = Renderer.Utils.getRendererType(\n            fill._renderer.type\n          );\n          webgl[prop].render.call(fill, ctx, elem);\n          ctx.fillStyle = fill._renderer.effect;\n        }\n      }\n      if (stroke) {\n        if (typeof stroke === \"string\") {\n          ctx.strokeStyle = stroke;\n        } else {\n          const prop = Renderer.Utils.getRendererType(\n            stroke._renderer.type\n          );\n          webgl[prop].render.call(stroke, ctx, elem);\n          ctx.strokeStyle = stroke._renderer.effect;\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth / aspect;\n        }\n      }\n      if (typeof opacity === \"number\") {\n        ctx.globalAlpha = opacity;\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.lineDashOffset = dashes.offset || 0;\n        ctx.setLineDash(dashes);\n      }\n      ctx.save();\n      ctx.translate(cx, cy);\n      ctx.scale(webgl.precision, webgl.precision);\n      ctx.beginPath();\n      ctx.arc(0, 0, size / aspect * 0.5, 0, TWO_PI);\n      ctx.restore();\n      if (closed) {\n        ctx.closePath();\n      }\n      if (!webgl.isHidden.test(fill)) {\n        isOffset = fill._renderer && fill._renderer.offset;\n        if (isOffset) {\n          ctx.save();\n          ctx.translate(-fill._renderer.offset.x, -fill._renderer.offset.y);\n          ctx.scale(fill._renderer.scale.x, fill._renderer.scale.y);\n        }\n        ctx.fill();\n        if (isOffset) {\n          ctx.restore();\n        }\n      }\n      if (!webgl.isHidden.test(stroke)) {\n        isOffset = stroke._renderer && stroke._renderer.offset;\n        if (isOffset) {\n          ctx.save();\n          ctx.translate(-stroke._renderer.offset.x, -stroke._renderer.offset.y);\n          ctx.scale(stroke._renderer.scale.x, stroke._renderer.scale.y);\n          ctx.lineWidth = linewidth / stroke._renderer.scale.x;\n        }\n        ctx.stroke();\n        if (isOffset) {\n          ctx.restore();\n        }\n      }\n    },\n    render: function(gl, programs, forcedParent) {\n      if (!this._visible || !this._opacity) {\n        return this;\n      }\n      this._update();\n      let size = this._size;\n      const parent = forcedParent || this.parent;\n      const program = programs[this._renderer.type];\n      const sizeAttenuation = this._sizeAttenuation;\n      const stroke = this._stroke;\n      const linewidth = this._linewidth;\n      const flagParentMatrix = parent._matrix.manual || parent._flagMatrix;\n      const flagMatrix = this._matrix.manual || this._flagMatrix;\n      const parentChanged = this._renderer.parent !== parent;\n      const commands = this._renderer.vertices;\n      const length = this._renderer.collection.length;\n      const flagVertices = this._flagVertices;\n      const flagTexture = this._flagFill || this._fill instanceof LinearGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagEndPoints) || this._fill instanceof RadialGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagRadius || this._fill._flagCenter || this._fill._flagFocal) || this._fill instanceof Texture && (this._fill._flagLoaded && this._fill.loaded || this._fill._flagImage || this._fill._flagVideo || this._fill._flagRepeat || this._fill._flagOffset || this._fill._flagScale) || this._stroke instanceof LinearGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagEndPoints) || this._stroke instanceof RadialGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagRadius || this._stroke._flagCenter || this._stroke._flagFocal) || this._stroke instanceof Texture && (this._stroke._flagLoaded && this._stroke.loaded || this._stroke._flagImage || this._stroke._flagVideo || this._stroke._flagRepeat || this._stroke._flagOffset || this._fill._flagScale) || this._flagStroke || this._flagLinewidth || this._flagOpacity || parent._flagOpacity || this._flagVisible || this._flagScale || this.dashes && this.dashes.length > 0 || !this._renderer.texture;\n      if (flagParentMatrix || flagMatrix || parentChanged) {\n        if (!this._renderer.matrix) {\n          this._renderer.matrix = new NumArray(9);\n        }\n        this._matrix.toTransformArray(true, transformation);\n        multiplyMatrix(\n          transformation,\n          parent._renderer.matrix,\n          this._renderer.matrix\n        );\n        if (!(this._renderer.scale instanceof Vector)) {\n          this._renderer.scale = new Vector();\n        }\n        let sx, sy;\n        if (this._scale instanceof Vector) {\n          sx = this._scale.x * parent._renderer.scale.x;\n          sy = this._scale.y * parent._renderer.scale.y;\n        } else {\n          sx = this._scale * parent._renderer.scale.x;\n          sy = this._scale * parent._renderer.scale.y;\n        }\n        this._renderer.scale.x = sx < 0 ? -sx : sx;\n        this._renderer.scale.y = sy < 0 ? -sy : sy;\n        if (parentChanged) {\n          this._renderer.parent = parent;\n        }\n      }\n      if (flagVertices) {\n        const positionBuffer = this._renderer.positionBuffer;\n        if (positionBuffer) {\n          gl.deleteBuffer(positionBuffer);\n        }\n        this._renderer.positionBuffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.positionBuffer);\n        gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n        gl.enableVertexAttribArray(program.position);\n        gl.bufferData(gl.ARRAY_BUFFER, commands, gl.STATIC_DRAW);\n      }\n      if (flagTexture) {\n        this._renderer.opacity = this._opacity * parent._renderer.opacity;\n        webgl.updateTexture.call(webgl, gl, this);\n      } else {\n        if (this._fill && this._fill._update) {\n          this._fill._update();\n        }\n        if (this._stroke && this._stroke._update) {\n          this._stroke._update();\n        }\n      }\n      if (this._clip && !forcedParent || !this._renderer.texture) {\n        return this;\n      }\n      if (!webgl.isHidden.test(stroke)) {\n        size += linewidth;\n      }\n      size /= webgl.precision;\n      if (sizeAttenuation) {\n        size *= Math.max(this._renderer.scale.x, this._renderer.scale.y);\n      }\n      if (programs.current !== program) {\n        gl.useProgram(program);\n        if (!programs.resolution.flagged) {\n          gl.uniform2f(\n            gl.getUniformLocation(program, \"u_resolution\"),\n            programs.resolution.width,\n            programs.resolution.height\n          );\n        }\n        programs.current = program;\n      }\n      if (programs.resolution.flagged) {\n        gl.uniform2f(\n          gl.getUniformLocation(program, \"u_resolution\"),\n          programs.resolution.width,\n          programs.resolution.height\n        );\n      }\n      gl.bindTexture(gl.TEXTURE_2D, this._renderer.texture);\n      gl.uniformMatrix3fv(program.matrix, false, this._renderer.matrix);\n      gl.uniform1f(program.size, size * programs.resolution.ratio);\n      gl.drawArrays(gl.POINTS, 0, length);\n      return this.flagReset();\n    }\n  },\n  text: {\n    updateCanvas: function(gl, elem) {\n      const canvas3 = this.canvas;\n      const ctx = this.ctx;\n      const ratio = gl.renderer.ratio;\n      const scale = vector2.copy(elem._renderer.scale).multiply(ratio);\n      const stroke = elem._stroke;\n      const linewidth = elem._linewidth;\n      const fill = elem._fill;\n      const opacity = elem._renderer.opacity || elem._opacity;\n      const dashes = elem.dashes;\n      const decoration = elem._decoration;\n      const direction = elem._direction;\n      canvas3.width = Math.max(\n        Math.ceil(elem._renderer.rect.width * scale.x),\n        1\n      );\n      canvas3.height = Math.max(\n        Math.ceil(elem._renderer.rect.height * scale.y),\n        1\n      );\n      const centroid = elem._renderer.rect.centroid;\n      const cx = centroid.x;\n      const cy = centroid.y;\n      let a, b, c, d, e, sx, sy, x1, y1, x2, y2;\n      const isOffset = fill._renderer && fill._renderer.offset && stroke._renderer && stroke._renderer.offset;\n      ctx.clearRect(0, 0, canvas3.width, canvas3.height);\n      if (!isOffset) {\n        ctx.font = [\n          elem._style,\n          elem._weight,\n          elem._size + \"px/\" + elem._leading + \"px\",\n          elem._family\n        ].join(\" \");\n      }\n      ctx.textAlign = \"center\";\n      ctx.textBaseline = \"middle\";\n      ctx.textDirection = direction;\n      if (fill) {\n        if (typeof fill === \"string\") {\n          ctx.fillStyle = fill;\n        } else {\n          const prop = Renderer.Utils.getRendererType(\n            fill._renderer.type\n          );\n          webgl[prop].render.call(fill, ctx, elem);\n          ctx.fillStyle = fill._renderer.effect;\n        }\n      }\n      if (stroke) {\n        if (typeof stroke === \"string\") {\n          ctx.strokeStyle = stroke;\n        } else {\n          const prop = Renderer.Utils.getRendererType(\n            stroke._renderer.type\n          );\n          webgl[prop].render.call(stroke, ctx, elem);\n          ctx.strokeStyle = stroke._renderer.effect;\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n      }\n      if (typeof opacity === \"number\") {\n        ctx.globalAlpha = opacity;\n      }\n      if (dashes && dashes.length > 0) {\n        ctx.lineDashOffset = dashes.offset || 0;\n        ctx.setLineDash(dashes);\n      }\n      ctx.save();\n      ctx.scale(scale.x, scale.y);\n      ctx.translate(cx, cy);\n      if (!webgl.isHidden.test(fill)) {\n        if (fill._renderer && fill._renderer.offset) {\n          sx = fill._renderer.scale.x;\n          sy = fill._renderer.scale.y;\n          ctx.save();\n          ctx.translate(-fill._renderer.offset.x, -fill._renderer.offset.y);\n          ctx.scale(sx, sy);\n          a = elem._size / fill._renderer.scale.y;\n          b = elem._leading / fill._renderer.scale.y;\n          ctx.font = [\n            elem._style,\n            elem._weight,\n            a + \"px/\",\n            b + \"px\",\n            elem._family\n          ].join(\" \");\n          c = fill._renderer.offset.x / fill._renderer.scale.x;\n          d = fill._renderer.offset.y / fill._renderer.scale.y;\n          ctx.fillText(elem.value, c, d);\n          ctx.restore();\n        } else {\n          ctx.fillText(elem.value, 0, 0);\n        }\n      }\n      if (!webgl.isHidden.test(stroke)) {\n        if (stroke._renderer && stroke._renderer.offset) {\n          sx = stroke._renderer.scale.x;\n          sy = stroke._renderer.scale.y;\n          ctx.save();\n          ctx.translate(-stroke._renderer.offset.x, -stroke._renderer.offset.y);\n          ctx.scale(sx, sy);\n          a = elem._size / stroke._renderer.scale.y;\n          b = elem._leading / stroke._renderer.scale.y;\n          ctx.font = [\n            elem._style,\n            elem._weight,\n            a + \"px/\",\n            b + \"px\",\n            elem._family\n          ].join(\" \");\n          c = stroke._renderer.offset.x / stroke._renderer.scale.x;\n          d = stroke._renderer.offset.y / stroke._renderer.scale.y;\n          e = linewidth / stroke._renderer.scale.x;\n          ctx.lineWidth = e;\n          ctx.strokeText(elem.value, c, d);\n          ctx.restore();\n        } else {\n          ctx.strokeText(elem.value, 0, 0);\n        }\n      }\n      if (/(underline|strikethrough)/i.test(decoration)) {\n        const metrics = ctx.measureText(elem.value);\n        switch (decoration) {\n          case \"underline\":\n            y1 = metrics.actualBoundingBoxDescent;\n            y2 = metrics.actualBoundingBoxDescent;\n            break;\n          case \"strikethrough\":\n            y1 = 0;\n            y2 = 0;\n            break;\n        }\n        x1 = -metrics.width / 2;\n        x2 = metrics.width / 2;\n        ctx.lineWidth = Math.max(Math.floor(elem._size / 15), 1);\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n      }\n      ctx.restore();\n    },\n    getBoundingClientRect: function(elem, rect) {\n      const ctx = webgl.ctx;\n      ctx.font = [\n        elem._style,\n        elem._weight,\n        elem._size + \"px/\" + elem._leading + \"px\",\n        elem._family\n      ].join(\" \");\n      ctx.textAlign = \"center\";\n      ctx.textBaseline = Renderer.Utils.baselines[elem._baseline] || elem._baseline;\n      const metrics = ctx.measureText(elem._value);\n      let width = metrics.width;\n      let height = 1.15 * (metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent);\n      if (this._linewidth && !webgl.isHidden.test(this._stroke)) {\n        width += this._linewidth * 2;\n        height += this._linewidth * 2;\n      }\n      const w = width / 2;\n      const h = height / 2;\n      switch (webgl.alignments[elem._alignment] || elem._alignment) {\n        case webgl.alignments.left:\n          if (elem.direction === \"ltr\") {\n            rect.left = 0;\n            rect.right = width;\n          } else {\n            rect.left = -width;\n            rect.right = 0;\n          }\n          break;\n        case webgl.alignments.right:\n          if (elem.direction === \"ltr\") {\n            rect.left = -width;\n            rect.right = 0;\n          } else {\n            rect.left = 0;\n            rect.right = width;\n          }\n          break;\n        default:\n          rect.left = -w;\n          rect.right = w;\n      }\n      switch (elem._baseline) {\n        case \"bottom\":\n          rect.top = -height;\n          rect.bottom = 0;\n          break;\n        case \"top\":\n          rect.top = 0;\n          rect.bottom = height;\n          break;\n        case \"baseline\":\n          rect.top = -h * 1.5;\n          rect.bottom = h * 0.5;\n          break;\n        default:\n          rect.top = -h;\n          rect.bottom = h;\n      }\n      rect.width = width;\n      rect.height = height;\n      if (!rect.centroid) {\n        rect.centroid = {};\n      }\n      rect.centroid.x = w;\n      rect.centroid.y = h;\n    },\n    render: function(gl, programs, forcedParent) {\n      if (!this._visible || !this._opacity) {\n        return this;\n      }\n      this._update();\n      const parent = forcedParent || this.parent;\n      const program = programs[this._renderer.type];\n      const flagParentMatrix = parent._matrix.manual || parent._flagMatrix;\n      const flagMatrix = this._matrix.manual || this._flagMatrix;\n      const parentChanged = this._renderer.parent !== parent;\n      const flagTexture = this._flagVertices || this._flagFill || this._fill instanceof LinearGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagEndPoints) || this._fill instanceof RadialGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagRadius || this._fill._flagCenter || this._fill._flagFocal) || this._fill instanceof Texture && (this._fill._flagLoaded && this._fill.loaded || this._fill._flagImage || this._fill._flagVideo || this._fill._flagRepeat || this._fill._flagOffset || this._fill._flagScale) || this._stroke instanceof LinearGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagEndPoints) || this._stroke instanceof RadialGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagRadius || this._stroke._flagCenter || this._stroke._flagFocal) || this._stroke instanceof Texture && (this._stroke._flagLoaded && this._stroke.loaded || this._stroke._flagImage || this._stroke._flagVideo || this._stroke._flagRepeat || this._stroke._flagOffset || this._fill._flagScale) || this._flagStroke || this._flagLinewidth || this._flagOpacity || parent._flagOpacity || this._flagVisible || this._flagScale || this._flagValue || this._flagFamily || this._flagSize || this._flagLeading || this._flagAlignment || this._flagBaseline || this._flagStyle || this._flagWeight || this._flagDecoration || this.dashes && this.dashes.length > 0 || !this._renderer.texture;\n      if (flagParentMatrix || flagMatrix || parentChanged) {\n        if (!this._renderer.matrix) {\n          this._renderer.matrix = new NumArray(9);\n        }\n        this._matrix.toTransformArray(true, transformation);\n        multiplyMatrix(\n          transformation,\n          parent._renderer.matrix,\n          this._renderer.matrix\n        );\n        if (!(this._renderer.scale instanceof Vector)) {\n          this._renderer.scale = new Vector();\n        }\n        let sx, sy;\n        if (this._scale instanceof Vector) {\n          sx = this._scale.x * parent._renderer.scale.x;\n          sy = this._scale.y * parent._renderer.scale.y;\n        } else {\n          sx = this._scale * parent._renderer.scale.x;\n          sy = this._scale * parent._renderer.scale.y;\n        }\n        this._renderer.scale.x = sx < 0 ? -sx : sx;\n        this._renderer.scale.y = sy < 0 ? -sy : sy;\n        if (parentChanged) {\n          this._renderer.parent = parent;\n        }\n      }\n      if (this._mask) {\n        gl.clear(gl.STENCIL_BUFFER_BIT);\n        gl.enable(gl.STENCIL_TEST);\n        gl.stencilFunc(gl.ALWAYS, 1, 0);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.REPLACE);\n        gl.colorMask(false, false, false, false);\n        const prop = Renderer.Utils.getRendererType(\n          this._mask._renderer.type\n        );\n        webgl[prop].render.call(this._mask, gl, programs, this);\n        gl.stencilFunc(gl.EQUAL, 1, 255);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n        gl.colorMask(true, true, true, true);\n      }\n      if (flagTexture) {\n        if (!this._renderer.rect) {\n          this._renderer.rect = {};\n        }\n        this._renderer.opacity = this._opacity * parent._renderer.opacity;\n        webgl.text.getBoundingClientRect(this, this._renderer.rect);\n        webgl.updateTexture.call(webgl, gl, this);\n      } else {\n        if (this._fill && this._fill._update) {\n          this._fill._update();\n        }\n        if (this._stroke && this._stroke._update) {\n          this._stroke._update();\n        }\n      }\n      if (this._clip && !forcedParent || !this._renderer.texture) {\n        return this;\n      }\n      if (programs.current !== program) {\n        gl.useProgram(program);\n        gl.bindBuffer(gl.ARRAY_BUFFER, programs.buffers.position);\n        gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n        gl.enableVertexAttribArray(program.position);\n        gl.bufferData(gl.ARRAY_BUFFER, quad, gl.STATIC_DRAW);\n        if (!programs.resolution.flagged) {\n          gl.uniform2f(\n            gl.getUniformLocation(program, \"u_resolution\"),\n            programs.resolution.width,\n            programs.resolution.height\n          );\n        }\n        programs.current = program;\n      }\n      if (programs.resolution.flagged) {\n        gl.uniform2f(\n          gl.getUniformLocation(program, \"u_resolution\"),\n          programs.resolution.width,\n          programs.resolution.height\n        );\n      }\n      gl.bindTexture(gl.TEXTURE_2D, this._renderer.texture);\n      const rect = this._renderer.rect;\n      gl.uniformMatrix3fv(program.matrix, false, this._renderer.matrix);\n      gl.uniform4f(program.rect, rect.left, rect.top, rect.right, rect.bottom);\n      gl.drawArrays(gl.TRIANGLES, 0, 6);\n      if (this._mask) {\n        gl.disable(gl.STENCIL_TEST);\n      }\n      return this.flagReset();\n    }\n  },\n  \"linear-gradient\": {\n    render: function(ctx, parent) {\n      if (!ctx.canvas.getContext(\"2d\") || !parent) {\n        return;\n      }\n      this._update();\n      if (!this._renderer.effect || this._flagEndPoints || this._flagStops || this._flagUnits) {\n        let rect;\n        let lx = this.left._x;\n        let ly = this.left._y;\n        let rx = this.right._x;\n        let ry = this.right._y;\n        if (/objectBoundingBox/i.test(this._units)) {\n          rect = parent.getBoundingClientRect(true);\n          lx = (lx - 0.5) * rect.width;\n          ly = (ly - 0.5) * rect.height;\n          rx = (rx - 0.5) * rect.width;\n          ry = (ry - 0.5) * rect.height;\n        }\n        this._renderer.effect = ctx.createLinearGradient(lx, ly, rx, ry);\n        for (let i = 0; i < this.stops.length; i++) {\n          const stop = this.stops[i];\n          this._renderer.effect.addColorStop(stop._offset, stop._color);\n        }\n      }\n      return this.flagReset();\n    }\n  },\n  \"radial-gradient\": {\n    render: function(ctx, parent) {\n      if (!ctx.canvas.getContext(\"2d\") || !parent) {\n        return;\n      }\n      this._update();\n      if (!this._renderer.effect || this._flagCenter || this._flagFocal || this._flagRadius || this._flagStops || this._flagUnits) {\n        let rect;\n        let cx = this.center._x;\n        let cy = this.center._y;\n        let fx = this.focal._x;\n        let fy = this.focal._y;\n        let radius = this._radius;\n        if (/objectBoundingBox/i.test(this._units)) {\n          rect = parent.getBoundingClientRect(true);\n          cx = (cx - 0.5) * rect.width * 0.5;\n          cy = (cy - 0.5) * rect.height * 0.5;\n          fx = (fx - 0.5) * rect.width * 0.5;\n          fy = (fy - 0.5) * rect.height * 0.5;\n          radius *= Math.min(rect.width, rect.height);\n        }\n        this._renderer.effect = ctx.createRadialGradient(\n          cx,\n          cy,\n          0,\n          fx,\n          fy,\n          radius\n        );\n        for (let i = 0; i < this.stops.length; i++) {\n          const stop = this.stops[i];\n          this._renderer.effect.addColorStop(stop._offset, stop._color);\n        }\n      }\n      return this.flagReset();\n    }\n  },\n  texture: {\n    render: function(ctx, elem) {\n      if (!ctx.canvas.getContext(\"2d\")) {\n        return;\n      }\n      this._update();\n      const image = this.image;\n      if ((this._flagLoaded || this._flagImage || this._flagVideo || this._flagRepeat) && this.loaded) {\n        this._renderer.effect = ctx.createPattern(image, this._repeat);\n      } else if (!this._renderer.effect) {\n        return this.flagReset();\n      }\n      if (this._flagOffset || this._flagLoaded || this._flagScale) {\n        if (!(this._renderer.offset instanceof Vector)) {\n          this._renderer.offset = new Vector();\n        }\n        this._renderer.offset.x = -this._offset.x;\n        this._renderer.offset.y = -this._offset.y;\n        if (image) {\n          this._renderer.offset.x += image.width / 2;\n          this._renderer.offset.y += image.height / 2;\n          if (this._scale instanceof Vector) {\n            this._renderer.offset.x *= this._scale.x;\n            this._renderer.offset.y *= this._scale.y;\n          } else {\n            this._renderer.offset.x *= this._scale;\n            this._renderer.offset.y *= this._scale;\n          }\n        }\n      }\n      if (this._flagScale || this._flagLoaded) {\n        if (!(this._renderer.scale instanceof Vector)) {\n          this._renderer.scale = new Vector();\n        }\n        let sx, sy;\n        if (this._scale instanceof Vector) {\n          sx = this._scale.x;\n          sy = this._scale.y;\n        } else {\n          sx = this._scale;\n          sy = this._scale;\n        }\n        this._renderer.scale.x = sx < 0 ? -sx : sx;\n        this._renderer.scale.y = sy < 0 ? -sy : sy;\n      }\n      return this.flagReset();\n    }\n  },\n  updateTexture: function(gl, elem) {\n    const prop = Renderer.Utils.getRendererType(elem._renderer.type);\n    this[prop].updateCanvas.call(webgl, gl, elem);\n    if (this.canvas.width <= 0 || this.canvas.height <= 0) {\n      if (elem._renderer.texture) {\n        gl.deleteTexture(elem._renderer.texture);\n      }\n      delete elem._renderer.texture;\n      return;\n    }\n    if (!elem._renderer.texture) {\n      elem._renderer.texture = gl.createTexture();\n    }\n    gl.bindTexture(gl.TEXTURE_2D, elem._renderer.texture);\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      0,\n      gl.RGBA,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      this.canvas\n    );\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n  },\n  program: {\n    create: function(gl, shaders2) {\n      let program, linked, error;\n      program = gl.createProgram();\n      _.each(shaders2, function(s) {\n        gl.attachShader(program, s);\n      });\n      gl.linkProgram(program);\n      linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n      if (!linked) {\n        error = gl.getProgramInfoLog(program);\n        gl.deleteProgram(program);\n        throw new TwoError(\"unable to link program: \" + error);\n      }\n      return program;\n    }\n  },\n  extensions: {\n    init: function(gl) {\n      const extensions = {};\n      const names = [\n        \"EXT_texture_filter_anisotropic\",\n        \"WEBGL_compressed_texture_s3tc\",\n        \"OES_texture_float_linear\",\n        \"WEBGL_multisampled_render_to_texture\"\n      ];\n      for (let i = 0; i < names.length; i++) {\n        const name = names[i];\n        extensions[name] = webgl.extensions.get(gl, name);\n      }\n      return extensions;\n    },\n    get: function(gl, name) {\n      return gl.getExtension(name) || gl.getExtension(`MOZ_${name}`) || gl.getExtension(`WEBKIT_${name}`);\n    }\n  },\n  TextureRegistry: new Registry()\n};\nwebgl.ctx = webgl.canvas.getContext(\"2d\");\nvar Renderer3 = class extends Events {\n  constructor(params) {\n    super();\n    let gl, program, vs, fs;\n    this.domElement = params.domElement || document.createElement(\"canvas\");\n    if (typeof params.offscreenElement !== \"undefined\") {\n      webgl.canvas = params.offscreenElement;\n      webgl.ctx = webgl.canvas.getContext(\"2d\");\n    }\n    this.scene = new Group();\n    this.scene.parent = this;\n    this._renderer = {\n      type: \"renderer\",\n      matrix: new NumArray(identity),\n      scale: 1,\n      opacity: 1\n    };\n    this._flagMatrix = true;\n    params = _.defaults(params || {}, {\n      antialias: false,\n      alpha: true,\n      premultipliedAlpha: true,\n      stencil: true,\n      preserveDrawingBuffer: true,\n      overdraw: false\n    });\n    this.overdraw = params.overdraw;\n    gl = this.ctx = this.domElement.getContext(\"webgl\", params) || this.domElement.getContext(\"experimental-webgl\", params);\n    if (!this.ctx) {\n      throw new TwoError(\n        \"unable to create a webgl context. Try using another renderer.\"\n      );\n    }\n    vs = shaders.create(gl, shaders.path.vertex, shaders.types.vertex);\n    fs = shaders.create(gl, shaders.path.fragment, shaders.types.fragment);\n    this.programs = {\n      current: null,\n      buffers: {\n        position: gl.createBuffer()\n      },\n      resolution: {\n        width: 0,\n        height: 0,\n        ratio: 1,\n        flagged: false\n      }\n    };\n    program = this.programs.path = webgl.program.create(gl, [vs, fs]);\n    this.programs.text = this.programs.path;\n    gl.extensions = webgl.extensions.init(gl);\n    gl.renderer = this;\n    program.position = gl.getAttribLocation(program, \"a_position\");\n    program.matrix = gl.getUniformLocation(program, \"u_matrix\");\n    program.rect = gl.getUniformLocation(program, \"u_rect\");\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(program.position);\n    gl.bufferData(gl.ARRAY_BUFFER, quad, gl.STATIC_DRAW);\n    vs = shaders.create(gl, shaders.points.vertex, shaders.types.vertex);\n    fs = shaders.create(gl, shaders.points.fragment, shaders.types.fragment);\n    program = this.programs.points = webgl.program.create(gl, [vs, fs]);\n    program.position = gl.getAttribLocation(program, \"a_position\");\n    program.matrix = gl.getUniformLocation(program, \"u_matrix\");\n    program.size = gl.getUniformLocation(program, \"u_size\");\n    gl.enable(gl.BLEND);\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\n    gl.blendEquation(gl.FUNC_ADD);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n  }\n  setSize(width, height, ratio) {\n    let w, h;\n    const ctx = this.ctx;\n    this.width = width;\n    this.height = height;\n    this.ratio = typeof ratio === \"undefined\" ? getRatio(ctx) : ratio;\n    this.domElement.width = width * this.ratio;\n    this.domElement.height = height * this.ratio;\n    if (_.isObject(this.domElement.style)) {\n      _.extend(this.domElement.style, {\n        width: width + \"px\",\n        height: height + \"px\"\n      });\n    }\n    this._renderer.matrix[0] = this._renderer.matrix[4] = this._renderer.scale = this.ratio;\n    this._flagMatrix = true;\n    w = width * this.ratio;\n    h = height * this.ratio;\n    ctx.viewport(0, 0, w, h);\n    this.programs.resolution.width = w;\n    this.programs.resolution.height = h;\n    this.programs.resolution.ratio = this.ratio;\n    this.programs.resolution.flagged = true;\n    return this.trigger(Events.Types.resize, width, height, ratio);\n  }\n  render() {\n    const gl = this.ctx;\n    if (!this.overdraw) {\n      gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    webgl.group.render.call(this.scene, gl, this.programs);\n    this._flagMatrix = false;\n    this.programs.resolution.flagged = true;\n    return this;\n  }\n};\n__publicField(Renderer3, \"Utils\", webgl);\n\n// src/two.js\nvar Utils = _.extend(\n  {\n    Error: TwoError,\n    getRatio,\n    read,\n    xhr\n  },\n  _,\n  CanvasPolyfill,\n  curves_exports,\n  math_exports\n);\nvar _Two = class {\n  constructor(options) {\n    __publicField(this, \"_events\", new Events());\n    __publicField(this, \"type\", \"\");\n    __publicField(this, \"renderer\", null);\n    __publicField(this, \"scene\", null);\n    __publicField(this, \"width\", 0);\n    __publicField(this, \"height\", 0);\n    __publicField(this, \"frameCount\", 0);\n    __publicField(this, \"timeDelta\", 0);\n    __publicField(this, \"playing\", false);\n    const params = _.defaults(options || {}, {\n      fullscreen: false,\n      fitted: false,\n      width: 640,\n      height: 480,\n      type: _Two.Types.svg,\n      autostart: false\n    });\n    _.each(\n      params,\n      function(v, k) {\n        if (/fullscreen/i.test(k) || /autostart/i.test(k)) {\n          return;\n        }\n        this[k] = v;\n      },\n      this\n    );\n    if (_.isElement(params.domElement)) {\n      const tagName = params.domElement.tagName.toLowerCase();\n      if (!/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(\n        this.type + \"-\" + tagName\n      )) {\n        this.type = _Two.Types[tagName];\n      }\n    }\n    this.renderer = new _Two[this.type](this);\n    this.setPlaying(params.autostart);\n    this.frameCount = 0;\n    if (params.fullscreen) {\n      this.fit = fitToWindow.bind(this);\n      this.fit.domElement = window;\n      this.fit.attached = true;\n      _.extend(document.body.style, {\n        overflow: \"hidden\",\n        margin: 0,\n        padding: 0,\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        position: \"fixed\"\n      });\n      _.extend(this.renderer.domElement.style, {\n        display: \"block\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        position: \"fixed\"\n      });\n      dom.bind(this.fit.domElement, \"resize\", this.fit);\n      this.fit();\n    } else if (params.fitted) {\n      this.fit = fitToParent.bind(this);\n      _.extend(this.renderer.domElement.style, {\n        display: \"block\"\n      });\n    } else if (typeof params.width === \"number\" && typeof params.height === \"number\") {\n      this.renderer.setSize(params.width, params.height, this.ratio);\n      this.width = params.width;\n      this.height = params.height;\n    }\n    this.renderer.bind(Events.Types.resize, updateDimensions.bind(this));\n    this.scene = this.renderer.scene;\n    _Two.Instances.push(this);\n    if (params.autostart) {\n      raf.init();\n    }\n  }\n  get _bound() {\n    return this._events._bound;\n  }\n  set _bound(v) {\n    this._events._bound = v;\n  }\n  addEventListener() {\n    return this._events.addEventListener.apply(this, arguments);\n  }\n  on() {\n    return this._events.addEventListener.apply(this, arguments);\n  }\n  bind() {\n    return this._events.addEventListener.apply(this, arguments);\n  }\n  removeEventListener() {\n    return this._events.removeEventListener.apply(this, arguments);\n  }\n  off() {\n    return this._events.removeEventListener.apply(this, arguments);\n  }\n  unbind() {\n    return this._events.removeEventListener.apply(this, arguments);\n  }\n  dispatchEvent() {\n    return this._events.dispatchEvent.apply(this, arguments);\n  }\n  trigger() {\n    return this._events.dispatchEvent.apply(this, arguments);\n  }\n  listen() {\n    return this._events.listen.apply(this, arguments);\n  }\n  ignore() {\n    return this._events.ignore.apply(this, arguments);\n  }\n  appendTo(elem) {\n    elem.appendChild(this.renderer.domElement);\n    if (this.fit) {\n      if (this.fit.domElement !== window) {\n        this.fit.domElement = elem;\n        this.fit.attached = false;\n      }\n      this.update();\n    }\n    return this;\n  }\n  play() {\n    this.playing = true;\n    raf.init();\n    return this.trigger(Events.Types.play);\n  }\n  pause() {\n    this.playing = false;\n    return this.trigger(Events.Types.pause);\n  }\n  setPlaying(p) {\n    this.playing = p;\n  }\n  release(obj) {\n    let i, v, child;\n    if (typeof obj === \"undefined\") {\n      return this.release(this.scene);\n    }\n    if (typeof obj.unbind === \"function\") {\n      obj.unbind();\n    }\n    if (typeof obj.fill === \"object\" && \"unbind\" in obj.fill) {\n      obj.fill.unbind();\n    }\n    if (typeof obj.stroke === \"object\" && \"unbind\" in obj.stroke) {\n      obj.stroke.unbind();\n    }\n    if (obj.vertices) {\n      if (typeof obj.vertices.unbind === \"function\") {\n        obj.vertices.unbind();\n      }\n      for (i = 0; i < obj.vertices.length; i++) {\n        v = obj.vertices[i];\n        if (typeof v.unbind === \"function\") {\n          v.unbind();\n        }\n        if (v.controls) {\n          if (v.controls.left && typeof v.controls.left.unbind === \"function\") {\n            v.controls.left.unbind();\n          }\n          if (v.controls.right && typeof v.controls.right.unbind === \"function\") {\n            v.controls.right.unbind();\n          }\n        }\n      }\n    }\n    if (obj.children) {\n      for (i = 0; i < obj.children.length; i++) {\n        child = obj.children[i];\n        this.release(child);\n      }\n      if (typeof obj.children.unbind === \"function\") {\n        obj.children.unbind();\n      }\n    }\n    return obj;\n  }\n  update() {\n    const animated = !!this._lastFrame;\n    const now = _.performance.now();\n    if (animated) {\n      this.timeDelta = parseFloat((now - this._lastFrame).toFixed(3));\n    }\n    this._lastFrame = now;\n    if (this.fit && this.fit.domElement && !this.fit.attached) {\n      dom.bind(this.fit.domElement, \"resize\", this.fit);\n      this.fit.attached = true;\n      this.fit();\n    }\n    const width = this.width;\n    const height = this.height;\n    const renderer = this.renderer;\n    if (width !== renderer.width || height !== renderer.height) {\n      renderer.setSize(width, height, this.ratio);\n    }\n    this.trigger(Events.Types.update, this.frameCount, this.timeDelta);\n    return this.render();\n  }\n  render() {\n    this.renderer.render();\n    return this.trigger(Events.Types.render, this.frameCount++);\n  }\n  add(objects) {\n    if (!(objects instanceof Array)) {\n      objects = Array.prototype.slice.call(arguments);\n    }\n    this.scene.add(objects);\n    return this;\n  }\n  remove(objects) {\n    if (!(objects instanceof Array)) {\n      objects = Array.prototype.slice.call(arguments);\n    }\n    this.scene.remove(objects);\n    return this;\n  }\n  clear() {\n    this.scene.remove(this.scene.children);\n    return this;\n  }\n  makeLine(x1, y1, x2, y2) {\n    const line = new Line(x1, y1, x2, y2);\n    this.scene.add(line);\n    return line;\n  }\n  makeArrow(x1, y1, x2, y2, size) {\n    const headlen = typeof size === \"number\" ? size : 10;\n    const angle = Math.atan2(y2 - y1, x2 - x1);\n    const vertices = [\n      new Anchor(\n        x1,\n        y1,\n        void 0,\n        void 0,\n        void 0,\n        void 0,\n        Commands.move\n      ),\n      new Anchor(\n        x2,\n        y2,\n        void 0,\n        void 0,\n        void 0,\n        void 0,\n        Commands.line\n      ),\n      new Anchor(\n        x2 - headlen * Math.cos(angle - Math.PI / 4),\n        y2 - headlen * Math.sin(angle - Math.PI / 4),\n        void 0,\n        void 0,\n        void 0,\n        void 0,\n        Commands.line\n      ),\n      new Anchor(\n        x2,\n        y2,\n        void 0,\n        void 0,\n        void 0,\n        void 0,\n        Commands.move\n      ),\n      new Anchor(\n        x2 - headlen * Math.cos(angle + Math.PI / 4),\n        y2 - headlen * Math.sin(angle + Math.PI / 4),\n        void 0,\n        void 0,\n        void 0,\n        void 0,\n        Commands.line\n      )\n    ];\n    const path = new Path(vertices, false, false, true);\n    path.noFill();\n    path.cap = \"round\";\n    path.join = \"round\";\n    this.scene.add(path);\n    return path;\n  }\n  makeRectangle(x, y, width, height) {\n    const rect = new Rectangle(x, y, width, height);\n    this.scene.add(rect);\n    return rect;\n  }\n  makeRoundedRectangle(x, y, width, height, sides) {\n    const rect = new RoundedRectangle(x, y, width, height, sides);\n    this.scene.add(rect);\n    return rect;\n  }\n  makeCircle(x, y, radius, resolution) {\n    const circle = new Circle(x, y, radius, resolution);\n    this.scene.add(circle);\n    return circle;\n  }\n  makeEllipse(x, y, rx, ry, resolution) {\n    const ellipse = new Ellipse(x, y, rx, ry, resolution);\n    this.scene.add(ellipse);\n    return ellipse;\n  }\n  makeStar(x, y, outerRadius, innerRadius, sides) {\n    const star = new Star(x, y, outerRadius, innerRadius, sides);\n    this.scene.add(star);\n    return star;\n  }\n  makeCurve(points) {\n    const l = arguments.length;\n    if (!Array.isArray(points)) {\n      points = [];\n      for (let i = 0; i < l; i += 2) {\n        const x = arguments[i];\n        if (typeof x !== \"number\") {\n          break;\n        }\n        const y = arguments[i + 1];\n        points.push(new Anchor(x, y));\n      }\n    }\n    const last = arguments[l - 1];\n    const curve = new Path(\n      points,\n      !(typeof last === \"boolean\" ? last : void 0),\n      true\n    );\n    const rect = curve.getBoundingClientRect();\n    curve.center().translation.set(rect.left + rect.width / 2, rect.top + rect.height / 2);\n    this.scene.add(curve);\n    return curve;\n  }\n  makePolygon(x, y, radius, sides) {\n    const poly = new Polygon(x, y, radius, sides);\n    this.scene.add(poly);\n    return poly;\n  }\n  makeArcSegment(x, y, innerRadius, outerRadius, startAngle, endAngle, resolution) {\n    const arcSegment = new ArcSegment(\n      x,\n      y,\n      innerRadius,\n      outerRadius,\n      startAngle,\n      endAngle,\n      resolution\n    );\n    this.scene.add(arcSegment);\n    return arcSegment;\n  }\n  makePoints(p) {\n    const l = arguments.length;\n    let vertices = p;\n    if (!Array.isArray(p)) {\n      vertices = [];\n      for (let i = 0; i < l; i += 2) {\n        const x = arguments[i];\n        if (typeof x !== \"number\") {\n          break;\n        }\n        const y = arguments[i + 1];\n        vertices.push(new Vector(x, y));\n      }\n    }\n    const points = new Points(vertices);\n    this.scene.add(points);\n    return points;\n  }\n  makePath(p) {\n    const l = arguments.length;\n    let points = p;\n    if (!Array.isArray(p)) {\n      points = [];\n      for (let i = 0; i < l; i += 2) {\n        const x = arguments[i];\n        if (typeof x !== \"number\") {\n          break;\n        }\n        const y = arguments[i + 1];\n        points.push(new Anchor(x, y));\n      }\n    }\n    const last = arguments[l - 1];\n    const path = new Path(\n      points,\n      !(typeof last === \"boolean\" ? last : void 0)\n    );\n    const rect = path.getBoundingClientRect();\n    if (typeof rect.top === \"number\" && typeof rect.left === \"number\" && typeof rect.right === \"number\" && typeof rect.bottom === \"number\") {\n      path.center().translation.set(\n        rect.left + rect.width / 2,\n        rect.top + rect.height / 2\n      );\n    }\n    this.scene.add(path);\n    return path;\n  }\n  makeText(message, x, y, styles) {\n    const text = new Text(message, x, y, styles);\n    this.add(text);\n    return text;\n  }\n  makeLinearGradient(x1, y1, x2, y2) {\n    const stops = Array.prototype.slice.call(arguments, 4);\n    const gradient = new LinearGradient(x1, y1, x2, y2, stops);\n    this.add(gradient);\n    return gradient;\n  }\n  makeRadialGradient(x1, y1, radius) {\n    const stops = Array.prototype.slice.call(arguments, 3);\n    const gradient = new RadialGradient(x1, y1, radius, stops);\n    this.add(gradient);\n    return gradient;\n  }\n  makeSprite(pathOrTexture, x, y, columns, rows, frameRate, autostart) {\n    const sprite = new Sprite(pathOrTexture, x, y, columns, rows, frameRate);\n    if (autostart) {\n      sprite.play();\n    }\n    this.add(sprite);\n    return sprite;\n  }\n  makeImageSequence(pathsOrTextures, x, y, frameRate, autostart) {\n    const imageSequence = new ImageSequence(pathsOrTextures, x, y, frameRate);\n    if (autostart) {\n      imageSequence.play();\n    }\n    this.add(imageSequence);\n    return imageSequence;\n  }\n  makeTexture(pathOrSource, callback) {\n    const texture = new Texture(pathOrSource, callback);\n    return texture;\n  }\n  makeGroup(objects) {\n    if (!(objects instanceof Array)) {\n      objects = Array.prototype.slice.call(arguments);\n    }\n    const group = new Group();\n    this.scene.add(group);\n    group.add(objects);\n    return group;\n  }\n  interpret(svg2, shallow, add) {\n    const tag = svg2.tagName.toLowerCase();\n    add = typeof add !== \"undefined\" ? add : true;\n    if (!(tag in read)) {\n      return null;\n    }\n    const node = read[tag].call(this, svg2);\n    if (add) {\n      this.add(shallow && node instanceof Group ? node.children : node);\n    } else if (node.parent) {\n      node.remove();\n    }\n    return node;\n  }\n  load(pathOrSVGContent, callback) {\n    const group = new Group();\n    let elem, i, child;\n    const attach = function(data) {\n      dom.temp.innerHTML = data;\n      for (i = 0; i < dom.temp.children.length; i++) {\n        elem = dom.temp.children[i];\n        child = this.interpret(elem, false, false);\n        if (child !== null) {\n          group.add(child);\n        }\n      }\n      if (typeof callback === \"function\") {\n        const svg2 = dom.temp.children.length <= 1 ? dom.temp.children[0] : dom.temp.children;\n        callback(group, svg2);\n      }\n    }.bind(this);\n    if (/\\.svg$/i.test(pathOrSVGContent)) {\n      xhr(pathOrSVGContent, attach);\n      return group;\n    }\n    attach(pathOrSVGContent);\n    return group;\n  }\n};\nvar Two = _Two;\n__publicField(Two, \"NextFrameId\", Constants.NextFrameId);\n__publicField(Two, \"Types\", Constants.Types);\n__publicField(Two, \"Version\", Constants.Version);\n__publicField(Two, \"PublishDate\", Constants.PublishDate);\n__publicField(Two, \"Identifier\", Constants.Identifier);\n__publicField(Two, \"Resolution\", Constants.Resolution);\n__publicField(Two, \"AutoCalculateImportedMatrices\", Constants.AutoCalculateImportedMatrices);\n__publicField(Two, \"Instances\", Constants.Instances);\n__publicField(Two, \"uniqueId\", Constants.uniqueId);\n__publicField(Two, \"Anchor\", Anchor);\n__publicField(Two, \"Collection\", Collection);\n__publicField(Two, \"Events\", Events);\n__publicField(Two, \"Group\", Group);\n__publicField(Two, \"Matrix\", Matrix2);\n__publicField(Two, \"Path\", Path);\n__publicField(Two, \"Registry\", Registry);\n__publicField(Two, \"Element\", Element);\n__publicField(Two, \"Shape\", Shape);\n__publicField(Two, \"Text\", Text);\n__publicField(Two, \"Vector\", Vector);\n__publicField(Two, \"Gradient\", Gradient);\n__publicField(Two, \"ImageSequence\", ImageSequence);\n__publicField(Two, \"LinearGradient\", LinearGradient);\n__publicField(Two, \"RadialGradient\", RadialGradient);\n__publicField(Two, \"Sprite\", Sprite);\n__publicField(Two, \"Stop\", Stop);\n__publicField(Two, \"Texture\", Texture);\n__publicField(Two, \"ArcSegment\", ArcSegment);\n__publicField(Two, \"Circle\", Circle);\n__publicField(Two, \"Ellipse\", Ellipse);\n__publicField(Two, \"Line\", Line);\n__publicField(Two, \"Points\", Points);\n__publicField(Two, \"Polygon\", Polygon);\n__publicField(Two, \"Rectangle\", Rectangle);\n__publicField(Two, \"RoundedRectangle\", RoundedRectangle);\n__publicField(Two, \"Star\", Star);\n__publicField(Two, \"CanvasRenderer\", Renderer);\n__publicField(Two, \"SVGRenderer\", Renderer2);\n__publicField(Two, \"WebGLRenderer\", Renderer3);\n__publicField(Two, \"Commands\", Commands);\n__publicField(Two, \"Utils\", Utils);\nfunction fitToWindow() {\n  const wr = document.body.getBoundingClientRect();\n  const width = this.width = wr.width;\n  const height = this.height = wr.height;\n  this.renderer.setSize(width, height, this.ratio);\n}\nfunction fitToParent() {\n  const parent = this.renderer.domElement.parentElement;\n  if (!parent) {\n    console.warn(\"Two.js: Attempting to fit to parent, but no parent found.\");\n    return;\n  }\n  const wr = parent.getBoundingClientRect();\n  const width = this.width = wr.width;\n  const height = this.height = wr.height;\n  this.renderer.setSize(width, height, this.ratio);\n}\nfunction updateDimensions(width, height) {\n  this.width = width;\n  this.height = height;\n  this.trigger(Events.Types.resize, width, height);\n}\nvar raf = dom.getRequestAnimationFrame();\nfunction loop() {\n  for (let i = 0; i < Two.Instances.length; i++) {\n    const t = Two.Instances[i];\n    if (t.playing) {\n      t.update();\n    }\n  }\n  Two.NextFrameId = raf(loop);\n}\nraf.init = function() {\n  loop();\n  raf.init = function() {\n  };\n};\nexport {\n  Two as default\n};\n", "import Two from 'two.js'\r\n\r\nclass Surface {\r\n    constructor(object) {\r\n      this.object = object;\r\n    }\r\n\r\n    limits(min, max) {\r\n      const min_exists = typeof min !== 'undefined';\r\n      const max_exists = typeof max !== 'undefined';\r\n\r\n      if (!max_exists && !min_exists) {\r\n        return { min: this.min, max: this.max };\r\n      }\r\n\r\n      this.min = min_exists ? min : this.min;\r\n      this.max = max_exists ? max : this.max;\r\n\r\n      return this;\r\n    }\r\n\r\n    apply(px, py, s) {\r\n      this.object.translation.set(px, py);\r\n      this.object.scale = s;\r\n      return this;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @name Two.ZUI\r\n   * @class\r\n   * @param {Two.Group} group - The scene or group to\r\n   * @param {HTMLElement} [domElement=document.body] - The HTML Element to attach event listeners to.\r\n   */\r\nexport  class ZUI {\r\n    constructor(group, domElement) {\r\n      this.limits = {\r\n        scale: ZUI.Limit.clone(),\r\n        x: ZUI.Limit.clone(),\r\n        y: ZUI.Limit.clone(),\r\n      };\r\n\r\n      this.viewport = domElement || document.body;\r\n      this.viewportOffset = {\r\n        top: 0,\r\n        left: 0,\r\n        matrix: new Two.Matrix(),\r\n      };\r\n\r\n      this.surfaceMatrix = new Two.Matrix();\r\n\r\n      this.surfaces = [];\r\n      this.reset();\r\n      this.updateSurface();\r\n\r\n      this.add(new Surface(group));\r\n    }\r\n\r\n    static Surface = Surface;\r\n\r\n    static Clamp(v, min, max) {\r\n      return Math.min(Math.max(v, min), max);\r\n    }\r\n\r\n    static Limit = {\r\n      min: -Infinity,\r\n      max: Infinity,\r\n      clone: function () {\r\n        const result = {};\r\n        for (let k in this) {\r\n          result[k] = this[k];\r\n        }\r\n        return result;\r\n      },\r\n    };\r\n\r\n    static TranslateMatrix(m, x, y) {\r\n      m.elements[2] += x;\r\n      m.elements[5] += y;\r\n      return m;\r\n    }\r\n\r\n    static PositionToScale(pos) {\r\n      return Math.exp(pos);\r\n    }\r\n\r\n    static ScaleToPosition(scale) {\r\n      return Math.log(scale);\r\n    }\r\n\r\n    //\r\n\r\n    add(surface) {\r\n      this.surfaces.push(surface);\r\n      const limits = surface.limits();\r\n      this.addLimits(limits.min, limits.max);\r\n      return this;\r\n    }\r\n\r\n    addLimits(min, max) {\r\n      if (typeof min !== 'undefined') {\r\n        if (this.limits.scale.min) {\r\n          this.limits.scale.min = Math.max(min, this.limits.scale.min);\r\n        } else {\r\n          this.limits.scale.min = min;\r\n        }\r\n      }\r\n\r\n      if (typeof max === 'undefined') {\r\n        return this;\r\n      }\r\n\r\n      if (this.limits.scale.max) {\r\n        this.limits.scale.max = Math.min(max, this.limits.scale.max);\r\n      } else {\r\n        this.limits.scale.max = max;\r\n      }\r\n\r\n      return this;\r\n    }\r\n\r\n    clientToSurface(a, b, c) {\r\n      this.updateOffset();\r\n      const m = this.surfaceMatrix.inverse();\r\n      let x, y, z;\r\n      if (arguments.length === 1) {\r\n        const v = a;\r\n        x = typeof v.x === 'number' ? v.x : 0;\r\n        y = typeof v.y === 'number' ? v.y : 0;\r\n        z = typeof v.z === 'number' ? v.z : 1;\r\n      } else {\r\n        x = typeof a === 'number' ? a : 0;\r\n        y = typeof b === 'number' ? b : 0;\r\n        z = typeof c === 'number' ? c : 1;\r\n      }\r\n      const n = this.viewportOffset.matrix.inverse().multiply(x, y, z);\r\n      const r = m.multiply(n[0], n[1], n[2]);\r\n      return { x: r[0], y: r[1], z: r[2] };\r\n    }\r\n\r\n    surfaceToClient(a, b, c) {\r\n      this.updateOffset();\r\n      const vo = this.viewportOffset.matrix.clone();\r\n      let x, y, z;\r\n      if (arguments.length === 1) {\r\n        const v = a;\r\n        x = typeof v.x === 'number' ? v.x : 0;\r\n        y = typeof v.y === 'number' ? v.y : 0;\r\n        z = typeof v.z === 'number' ? v.z : 1;\r\n      } else {\r\n        x = typeof a === 'number' ? a : 0;\r\n        y = typeof b === 'number' ? b : 0;\r\n        z = typeof c === 'number' ? c : 1;\r\n      }\r\n      const sm = this.surfaceMatrix.multiply(x, y, z);\r\n      const r = vo.multiply(sm[0], sm[1], sm[2]);\r\n      return { x: r[0], y: r[1], z: r[2] };\r\n    }\r\n\r\n    zoomBy(byF, clientX, clientY) {\r\n      const s = ZUI.PositionToScale(this.zoom + byF);\r\n      this.zoomSet(s, clientX, clientY);\r\n      return this;\r\n    }\r\n\r\n    zoomSet(zoom, clientX, clientY) {\r\n      const newScale = this.fitToLimits(zoom);\r\n      this.zoom = ZUI.ScaleToPosition(newScale);\r\n\r\n      if (newScale === this.scale) {\r\n        return this;\r\n      }\r\n\r\n      const sf = this.clientToSurface(clientX, clientY);\r\n      const scaleBy = newScale / this.scale;\r\n\r\n      this.surfaceMatrix.scale(scaleBy);\r\n      this.scale = newScale;\r\n\r\n      const c = this.surfaceToClient(sf);\r\n      const dx = clientX - c.x;\r\n      const dy = clientY - c.y;\r\n      this.translateSurface(dx, dy);\r\n\r\n      return this;\r\n    }\r\n\r\n    translateSurface(x, y) {\r\n      ZUI.TranslateMatrix(this.surfaceMatrix, x, y);\r\n      this.updateSurface();\r\n      return this;\r\n    }\r\n\r\n    updateOffset() {\r\n      const rect = this.viewport.getBoundingClientRect();\r\n\r\n      this.viewportOffset.left = rect.left - document.body.scrollLeft;\r\n      this.viewportOffset.top = rect.top - document.body.scrollTop;\r\n\r\n      this.viewportOffset.matrix\r\n        .identity()\r\n        .translate(this.viewportOffset.left, this.viewportOffset.top);\r\n\r\n      return this;\r\n    }\r\n\r\n    updateSurface() {\r\n      const e = this.surfaceMatrix.elements;\r\n      for (let i = 0; i < this.surfaces.length; i++) {\r\n        this.surfaces[i].apply(e[2], e[5], e[0]);\r\n      }\r\n\r\n      return this;\r\n    }\r\n\r\n    reset() {\r\n      this.zoom = 0;\r\n      this.scale = 1.0;\r\n      this.surfaceMatrix.identity();\r\n      this.updateSurface();\r\n      return this;\r\n    }\r\n\r\n    fitToLimits(s) {\r\n      return ZUI.Clamp(s, this.limits.scale.min, this.limits.scale.max);\r\n    }\r\n  }\r\n\r\n", "import Two from 'two.js'\r\nimport { ZUI } from './zui.js';\r\n\r\n// var two = new Two({\r\n//   fullscreen: true,\r\n//   autostart: true\r\n// }).appendTo(document.body);\r\n\r\n// var stage = new Two.Group();\r\n\r\n// for (var i = 0; i < 100; i++) {\r\n//   var x = Math.random() * two.width * 2 - two.width;\r\n//   var y = Math.random() * two.height * 2 - two.height;\r\n//   var size = 50;\r\n//   var shape = new Two.Rectangle(x, y, size, size);\r\n//   shape.rotation = Math.random() * Math.PI * 2;\r\n//   shape.noStroke().fill = '#ccc';\r\n//   stage.add(shape);\r\n// }\r\n\r\n// shape.fill = 'red';\r\n// shape.position.set(two.width / 2, two.height / 2);\r\n\r\n// two.add(stage);\r\n\r\n//addZUI(two.renderer.domElement);\r\n\r\nexport function addZUI(domElement, stage) {\r\n\r\n    var zui = new ZUI(stage);\r\n    var mouse = new Two.Vector();\r\n    var touches = {};\r\n    var distance = 0;\r\n    var dragging = false;\r\n\r\n    zui.addLimits(0.06, 8);\r\n\r\n    domElement.addEventListener('mousedown', mousedown, false);\r\n    domElement.addEventListener('mousewheel', mousewheel, false);\r\n    domElement.addEventListener('wheel', mousewheel, false);\r\n\r\n    domElement.addEventListener('touchstart', touchstart, false);\r\n    domElement.addEventListener('touchmove', touchmove, false);\r\n    domElement.addEventListener('touchend', touchend, false);\r\n    domElement.addEventListener('touchcancel', touchend, false);\r\n\r\n    function mousedown(e) {\r\n      mouse.x = e.clientX;\r\n      mouse.y = e.clientY;\r\n      var rect = shape.getBoundingClientRect();\r\n      dragging = mouse.x > rect.left && mouse.x < rect.right\r\n        && mouse.y > rect.top && mouse.y < rect.bottom;\r\n      window.addEventListener('mousemove', mousemove, false);\r\n      window.addEventListener('mouseup', mouseup, false);\r\n    }\r\n\r\n    function mousemove(e) {\r\n      var dx = e.clientX - mouse.x;\r\n      var dy = e.clientY - mouse.y;\r\n      if (dragging) {\r\n        shape.position.x += dx / zui.scale;\r\n        shape.position.y += dy / zui.scale;\r\n      } else {\r\n        zui.translateSurface(dx, dy);\r\n      }\r\n      mouse.set(e.clientX, e.clientY);\r\n    }\r\n\r\n    function mouseup(e) {\r\n      window.removeEventListener('mousemove', mousemove, false);\r\n      window.removeEventListener('mouseup', mouseup, false);\r\n    }\r\n\r\n    function mousewheel(e) {\r\n      var dy = (e.wheelDeltaY || - e.deltaY) / 1000;\r\n      zui.zoomBy(dy, e.clientX, e.clientY);\r\n    }\r\n\r\n    function touchstart(e) {\r\n      switch (e.touches.length) {\r\n        case 2:\r\n          pinchstart(e);\r\n          break;\r\n        case 1:\r\n          panstart(e)\r\n          break;\r\n      }\r\n    }\r\n\r\n    function touchmove(e) {\r\n      switch (e.touches.length) {\r\n        case 2:\r\n          pinchmove(e);\r\n          break;\r\n        case 1:\r\n          panmove(e)\r\n          break;\r\n      }\r\n    }\r\n\r\n    function touchend(e) {\r\n      touches = {};\r\n      var touch = e.touches[ 0 ];\r\n      if (touch) {  // Pass through for panning after pinching\r\n        mouse.x = touch.clientX;\r\n        mouse.y = touch.clientY;\r\n      }\r\n    }\r\n\r\n    function panstart(e) {\r\n      var touch = e.touches[ 0 ];\r\n      mouse.x = touch.clientX;\r\n      mouse.y = touch.clientY;\r\n    }\r\n\r\n    function panmove(e) {\r\n      var touch = e.touches[ 0 ];\r\n      var dx = touch.clientX - mouse.x;\r\n      var dy = touch.clientY - mouse.y;\r\n      zui.translateSurface(dx, dy);\r\n      mouse.set(touch.clientX, touch.clientY);\r\n    }\r\n\r\n    function pinchstart(e) {\r\n      for (var i = 0; i < e.touches.length; i++) {\r\n        var touch = e.touches[ i ];\r\n        touches[ touch.identifier ] = touch;\r\n      }\r\n      var a = touches[ 0 ];\r\n      var b = touches[ 1 ];\r\n      var dx = b.clientX - a.clientX;\r\n      var dy = b.clientY - a.clientY;\r\n      distance = Math.sqrt(dx * dx + dy * dy);\r\n      mouse.x = dx / 2 + a.clientX;\r\n      mouse.y = dy / 2 + a.clientY;\r\n    }\r\n\r\n    function pinchmove(e) {\r\n      for (var i = 0; i < e.touches.length; i++) {\r\n        var touch = e.touches[ i ];\r\n        touches[ touch.identifier ] = touch;\r\n      }\r\n      var a = touches[ 0 ];\r\n      var b = touches[ 1 ];\r\n      var dx = b.clientX - a.clientX;\r\n      var dy = b.clientY - a.clientY;\r\n      var d = Math.sqrt(dx * dx + dy * dy);\r\n      var delta = d - distance;\r\n      zui.zoomBy(delta / 250, mouse.x, mouse.y);\r\n      distance = d;\r\n    }\r\n  \r\n}", "import Two from 'two.js'\r\nimport { addZUI } from './src/ZoomPanRotate.js';\r\n\r\nvar two = new Two({\r\n  type: Two.Types.webgl,\r\n  fullscreen: true,\r\n  autostart: true,\r\n}).appendTo(document.body)\r\n\r\nvar stage = new Two.Group();\r\nvar rect = new Two.Rectangle(two.width / 2, two.height / 2, 50, 50)\r\nstage.add(rect)\r\n\r\ntwo.add(stage);\r\naddZUI(two.renderer.domElement, stage);\r\n\r\n\r\ntwo.update()\r\n\r\n// two.bind('update', function () {\r\n//  rect.rotation += 0.001\r\n// })\r\n"],
  "mappings": "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AC/B,UAAW,CAAC,EACZ,SAAU,UAAW,CACnB,OAAOD,IACT,CACF,EAGI7E,GAAQ,CACV,oBAAqB,KAAK,IAAI,GAAI,GAAG,EACrC,eAAgB,GAChB,UAAW,EACX,UAAW,CACT,SAAU,IACV,MAAO,EACP,QAAS,OAAO,OAClB,EACA,UAAW,CACT,CAAC,iBAAkB,EACnB,CAAC,EAAG,iBAAkB,EACtB,CAAC,mBAAqB,iBAAkB,EACxC,CAAC,EAAG,kBAAoB,gBAAiB,EACzC,CACE,kBACA,kBACA,gBACF,EACA,CACE,EACA,kBACA,kBACA,iBACF,EACA,CACE,kBACA,iBACA,kBACA,iBACF,EACA,CACE,EACA,kBACA,kBACA,kBACA,iBACF,EACA,CACE,mBACA,kBACA,kBACA,kBACA,iBACF,EACA,CACE,EACA,mBACA,kBACA,kBACA,kBACA,gBACF,EACA,CACE,kBACA,kBACA,kBACA,kBACA,kBACA,iBACF,EACA,CACE,EACA,kBACA,mBACA,kBACA,kBACA,kBACA,iBACF,EACA,CACE,mBACA,mBACA,kBACA,kBACA,iBACA,kBACA,iBACF,EACA,CACE,EACA,mBACA,kBACA,kBACA,kBACA,kBACA,iBACA,iBACF,EACA,CACE,mBACA,kBACA,mBACA,kBACA,iBACA,kBACA,kBACA,iBACF,CACF,EACA,QAAS,CACP,CAAC,CAAC,EACF,CAAC,kBAAoB,iBAAkB,EACvC,CAAC,kBAAoB,kBAAmB,EACxC,CACE,kBACA,mBACA,kBACF,EACA,CACE,mBACA,kBACA,kBACF,EACA,CACE,kBACA,kBACA,mBACA,iBACF,EACA,CACE,iBACA,mBACA,mBACA,kBACF,EACA,CACE,kBACA,mBACA,mBACA,kBACA,kBACF,EACA,CACE,mBACA,mBACA,mBACA,kBACA,kBACF,EACA,CACE,kBACA,mBACA,mBACA,mBACA,kBACA,kBACF,EACA,CACE,mBACA,kBACA,mBACA,mBACA,mBACA,kBACF,EACA,CACE,kBACA,mBACA,kBACA,mBACA,mBACA,mBACA,kBACF,EACA,CACE,kBA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",
  "names": ["__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a", "b", "prop", "__spreadProps", "__export", "target", "all", "name", "__publicField", "__accessCheck", "member", "msg", "__privateGet", "getter", "__privateAdd", "__privateSet", "setter", "CanvasPolyfill", "elem", "val", "canvas3", "Image", "curves_exports", "Curve", "getAnchorsFromArcData", "getComponentOnCubicBezier", "getControlPoints", "getCurveBoundingBox", "getCurveFromPoints", "getCurveLength", "getReflection", "integrate", "subdivide", "math_exports", "HALF_PI", "NumArray", "TWO_PI", "decomposeMatrix", "getComputedMatrix", "getPoT", "lerp", "mod", "setMatrix", "toFixed", "root", "Matrix", "matrix", "c", "d", "e", "f", "object", "parent", "matrices", "i", "t", "pots", "v", "l", "floor", "Commands", "Events", "handler", "names", "list", "events", "j", "k", "args", "scope", "proto", "_Vector", "x", "y", "v1", "v2", "dx2", "dy2", "dx", "dy", "s", "eps", "radians", "cos7", "sin7", "Vector", "Anchor", "ax", "ay", "bx", "by", "command", "proto2", "broadcast", "relative", "rx", "ry", "xAxisRotation", "largeArcFlag", "sweepFlag", "count", "Constants", "x1", "y1", "x2", "y2", "x3", "y3", "x4", "y4", "limit", "amount", "result", "cx", "cy", "integrand", "tvalues", "bounds", "t1", "t2", "b2ac", "sqrtb2ac", "jlen", "mt", "n", "w", "A", "B", "m", "sum", "Ax", "points", "closed2", "last", "point", "prev", "next", "a1", "a2", "d1", "d2", "mid", "center", "ts", "td", "ccw", "resolution", "anchors", "pct", "theta", "anchor2", "slice", "isArrayLike", "collection", "length", "_", "type", "base", "sources", "iteratee", "context", "ctx", "keys", "dom", "event", "func", "bool", "vendors", "lastTime", "request", "fallbackRequest", "callback", "element", "currTime", "timeToCall", "id", "nextRequest", "temp", "TwoError", "message", "devicePixelRatio", "getBackingStoreRatio", "getRatio", "Registry", "_events", "Collection", "popped", "shifted", "pushed", "unshifted", "spliced", "inserted", "results", "_Element", "proto3", "Element", "anchor", "regex", "_Texture", "src", "proto4", "FlagOffset", "FlagScale", "loaded", "elemString", "texture", "path", "image", "absoluteSrc", "tag", "clone", "Texture", "error", "index", "_Stop", "offset", "color", "opacity", "proto5", "stop", "property", "Stop", "_Gradient", "stops", "proto6", "FlagStops", "BindStops", "UnbindStops", "o", "gradient", "Gradient", "bindStops", "unbindStops", "items", "_LinearGradient", "proto7", "FlagEndPoints", "LinearGradient", "_RadialGradient", "r", "fx", "fy", "proto8", "FlagCenter", "FlagFocal", "RadialGradient", "contains", "elapsed", "dist", "getIdByLength", "total", "getCurveLength2", "right", "left", "getSubdivisions", "getEffectFromObject", "cos", "sin", "tan", "array", "_Matrix", "elements", "C", "z", "A0", "A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "B0", "B1", "B2", "B3", "B4", "B5", "B6", "B7", "B8", "g", "h", "output", "a00", "a01", "a02", "a10", "a11", "a12", "a20", "a21", "a22", "b01", "b11", "b21", "det", "sx", "sy", "fullMatrix", "hasOutput", "Matrix2", "_Shape", "proto9", "FlagMatrix", "shape", "group", "bubbles", "Shape", "min", "max", "ceil", "floor2", "vector", "_Path", "vertices", "curved", "manual", "proto10", "FlagVertices", "BindVertices", "UnbindVertices", "FlagFill", "FlagStroke", "fill", "stroke", "rect", "hw", "hh", "shallow", "border", "v0", "top", "bottom", "scaleX", "scaleY", "v0x", "v0y", "v1x", "v1y", "c0x", "c0y", "lx", "ly", "c1x", "c1y", "bb", "ia", "ib", "t1x", "t1y", "t2x", "t2y", "t3x", "t3y", "brx", "bry", "alx", "aly", "verts", "i2", "silent", "beginning", "ending", "bid", "eid", "low", "high", "Path", "method", "bindVertices", "unbindVertices", "_Rectangle", "width", "height", "proto11", "rectangle", "xr", "yr", "Rectangle", "_Sprite", "ox", "oy", "cols", "rows", "frameRate", "proto12", "sprite", "firstFrame", "lastFrame", "onLastFrame", "effect", "duration", "iw", "ih", "frames", "col", "row", "Sprite", "_ids", "Children", "children", "child", "_ArcSegment", "ir", "or", "sa", "ea", "res", "proto13", "segment", "arcSegment", "connected", "punctured", "step", "amp", "ArcSegment", "cos2", "sin2", "_Circle", "proto14", "circle", "radius", "rc", "Circle", "cos3", "sin3", "_Ellipse", "proto15", "ellipse", "radiusX", "radiusY", "Ellipse", "ceil2", "floor3", "_Points", "proto16", "subdivisions", "Points", "cos4", "sin4", "_Polygon", "sides", "proto17", "polygon", "Polygon", "_RoundedRectangle", "proto18", "FlagRadius", "roundedRectangle", "RoundedRectangle", "cos5", "sin5", "_Star", "innerRadius", "outerRadius", "proto19", "star", "Star", "canvas", "min2", "max2", "_Text", "styles", "proto20", "FlagFill2", "FlagStroke2", "text", "metrics", "Text", "min3", "max3", "_Group", "proto21", "replaceParent", "getShapeFromObject", "found", "search", "node", "className", "objects", "grandparent", "tc", "lc", "bc", "regex3", "bd", "ed", "Group", "insertChildren", "removeChildren", "orderChildren", "newParent", "add", "splice", "Line", "proto22", "regex2", "alignments", "reservedAttributesToRemove", "overwriteAttrs", "getAlignment", "getBaseline", "getTagName", "applyTransformsToVector", "transforms", "vector3", "extractCSSText", "commands", "trimmedName", "trimmedValue", "getSvgStyles", "attributes", "getSvgAttributes", "attribute", "keyword", "applySvgViewBox", "xExists", "yExists", "widthExists", "heightExists", "applySvgAttributes", "parentStyles", "extracted", "attr", "scene", "ref", "tagName", "ca", "cb", "cc", "computedStyles", "read", "getScene", "updateDefsCache", "defsCache", "defs", "svg2", "viewBox", "viewBoxExists", "href", "fullNode", "match", "p1", "p2", "poly", "coord", "control", "coords", "lower", "bin", "ct", "times", "reflection", "w2", "h2", "line", "units", "spread", "style", "matches", "alignment", "baseline", "xhr", "xhr2", "_ImageSequence", "paths", "proto23", "FlagTextures", "BindTextures", "UnbindTextures", "GenerateTexture", "sequence", "imageSequence", "ImageSequence", "textures", "bindTextures", "unbindTextures", "emptyArray", "max4", "min4", "abs", "sin6", "cos6", "acos", "sqrt", "canvas2", "mask", "defaultMatrix", "isDefaultMatrix", "shouldIsolate", "forced", "parentClipped", "linewidth", "visible", "cap", "join", "miter", "ux", "uy", "vx", "vy", "ar", "bl", "br", "cl", "clip", "isOffset", "dashes", "po", "me", "size", "decoration", "direction", "scalar", "x1p", "y1p", "x1ps", "y1ps", "rxs", "rys", "cr", "dq", "pq", "q", "cxp", "cyp", "startAngle", "svgAngle", "delta", "endAngle", "renderArcEstimate", "Renderer", "params", "smoothing", "ratio", "isOne", "clockwise", "epsilon", "samePoints", "deltaAngle", "angle", "tx", "ty", "dot", "len", "ang", "svg", "attrs", "string", "domElement", "selector", "flagMatrix", "changed", "lengthChanged", "Renderer2", "shaders", "gl", "source", "shader", "multiplyMatrix", "identity", "transformation", "CanvasUtils", "vector2", "quad", "webgl", "programs", "flagParentMatrix", "scale", "centroid", "controls", "forcedParent", "program", "parentChanged", "flagTexture", "prop2", "dimension", "aspect", "sizeAttenuation", "flagVertices", "positionBuffer", "shaders2", "linked", "extensions", "Renderer3", "vs", "fs", "Utils", "_Two", "options", "fitToWindow", "fitToParent", "updateDimensions", "raf", "p", "animated", "now", "renderer", "headlen", "curve", "pathOrTexture", "columns", "autostart", "pathsOrTextures", "pathOrSource", "pathOrSVGContent", "attach", "data", "Two", "wr", "loop", "Surface", "object", "min", "max", "min_exists", "max_exists", "px", "py", "_ZUI", "group", "domElement", "Two", "v", "m", "x", "y", "pos", "scale", "surface", "limits", "a", "b", "c", "z", "n", "r", "vo", "sm", "byF", "clientX", "clientY", "s", "zoom", "newScale", "sf", "scaleBy", "dx", "dy", "rect", "ZUI", "result", "k", "addZUI", "domElement", "stage", "zui", "ZUI", "mouse", "Two", "touches", "distance", "dragging", "mousedown", "mousewheel", "touchstart", "touchmove", "touchend", "e", "rect", "mousemove", "mouseup", "dx", "dy", "pinchstart", "panstart", "pinchmove", "panmove", "touch", "i", "a", "b", "d", "delta", "two", "Two", "stage", "rect", "addZUI"]
}
